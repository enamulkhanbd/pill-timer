function dm(a,r){for(var n=0;n<r.length;n++){const i=r[n];if(typeof i!="string"&&!Array.isArray(i)){for(const l in i)if(l!=="default"&&!(l in a)){const u=Object.getOwnPropertyDescriptor(i,l);u&&Object.defineProperty(a,l,u.get?u:{enumerable:!0,get:()=>i[l]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function To(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function hm(a){if(Object.prototype.hasOwnProperty.call(a,"__esModule"))return a;var r=a.default;if(typeof r=="function"){var n=function i(){return this instanceof i?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};n.prototype=r.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(a).forEach(function(i){var l=Object.getOwnPropertyDescriptor(a,i);Object.defineProperty(n,i,l.get?l:{enumerable:!0,get:function(){return a[i]}})}),n}var dl={exports:{}},qs={},hl={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rd;function fm(){if(Rd)return ve;Rd=1;var a=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),y=Symbol.iterator;function S(E){return E===null||typeof E!="object"?null:(E=y&&E[y]||E["@@iterator"],typeof E=="function"?E:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,P={};function j(E,I,W){this.props=E,this.context=I,this.refs=P,this.updater=W||x}j.prototype.isReactComponent={},j.prototype.setState=function(E,I){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,I,"setState")},j.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function A(){}A.prototype=j.prototype;function B(E,I,W){this.props=E,this.context=I,this.refs=P,this.updater=W||x}var M=B.prototype=new A;M.constructor=B,O(M,j.prototype),M.isPureReactComponent=!0;var G=Array.isArray,fe=Object.prototype.hasOwnProperty,ne={current:null},me={key:!0,ref:!0,__self:!0,__source:!0};function be(E,I,W){var X,se={},ce=null,we=null;if(I!=null)for(X in I.ref!==void 0&&(we=I.ref),I.key!==void 0&&(ce=""+I.key),I)fe.call(I,X)&&!me.hasOwnProperty(X)&&(se[X]=I[X]);var ie=arguments.length-2;if(ie===1)se.children=W;else if(1<ie){for(var Se=Array(ie),qe=0;qe<ie;qe++)Se[qe]=arguments[qe+2];se.children=Se}if(E&&E.defaultProps)for(X in ie=E.defaultProps,ie)se[X]===void 0&&(se[X]=ie[X]);return{$$typeof:a,type:E,key:ce,ref:we,props:se,_owner:ne.current}}function Ie(E,I){return{$$typeof:a,type:E.type,key:I,ref:E.ref,props:E.props,_owner:E._owner}}function We(E){return typeof E=="object"&&E!==null&&E.$$typeof===a}function Et(E){var I={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(W){return I[W]})}var Oe=/\/+/g;function Ee(E,I){return typeof E=="object"&&E!==null&&E.key!=null?Et(""+E.key):I.toString(36)}function je(E,I,W,X,se){var ce=typeof E;(ce==="undefined"||ce==="boolean")&&(E=null);var we=!1;if(E===null)we=!0;else switch(ce){case"string":case"number":we=!0;break;case"object":switch(E.$$typeof){case a:case r:we=!0}}if(we)return we=E,se=se(we),E=X===""?"."+Ee(we,0):X,G(se)?(W="",E!=null&&(W=E.replace(Oe,"$&/")+"/"),je(se,I,W,"",function(qe){return qe})):se!=null&&(We(se)&&(se=Ie(se,W+(!se.key||we&&we.key===se.key?"":(""+se.key).replace(Oe,"$&/")+"/")+E)),I.push(se)),1;if(we=0,X=X===""?".":X+":",G(E))for(var ie=0;ie<E.length;ie++){ce=E[ie];var Se=X+Ee(ce,ie);we+=je(ce,I,W,Se,se)}else if(Se=S(E),typeof Se=="function")for(E=Se.call(E),ie=0;!(ce=E.next()).done;)ce=ce.value,Se=X+Ee(ce,ie++),we+=je(ce,I,W,Se,se);else if(ce==="object")throw I=String(E),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.");return we}function $e(E,I,W){if(E==null)return E;var X=[],se=0;return je(E,X,"","",function(ce){return I.call(W,ce,se++)}),X}function ge(E){if(E._status===-1){var I=E._result;I=I(),I.then(function(W){(E._status===0||E._status===-1)&&(E._status=1,E._result=W)},function(W){(E._status===0||E._status===-1)&&(E._status=2,E._result=W)}),E._status===-1&&(E._status=0,E._result=I)}if(E._status===1)return E._result.default;throw E._result}var ye={current:null},F={transition:null},te={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:F,ReactCurrentOwner:ne};function H(){throw Error("act(...) is not supported in production builds of React.")}return ve.Children={map:$e,forEach:function(E,I,W){$e(E,function(){I.apply(this,arguments)},W)},count:function(E){var I=0;return $e(E,function(){I++}),I},toArray:function(E){return $e(E,function(I){return I})||[]},only:function(E){if(!We(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},ve.Component=j,ve.Fragment=n,ve.Profiler=l,ve.PureComponent=B,ve.StrictMode=i,ve.Suspense=m,ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,ve.act=H,ve.cloneElement=function(E,I,W){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var X=O({},E.props),se=E.key,ce=E.ref,we=E._owner;if(I!=null){if(I.ref!==void 0&&(ce=I.ref,we=ne.current),I.key!==void 0&&(se=""+I.key),E.type&&E.type.defaultProps)var ie=E.type.defaultProps;for(Se in I)fe.call(I,Se)&&!me.hasOwnProperty(Se)&&(X[Se]=I[Se]===void 0&&ie!==void 0?ie[Se]:I[Se])}var Se=arguments.length-2;if(Se===1)X.children=W;else if(1<Se){ie=Array(Se);for(var qe=0;qe<Se;qe++)ie[qe]=arguments[qe+2];X.children=ie}return{$$typeof:a,type:E.type,key:se,ref:ce,props:X,_owner:we}},ve.createContext=function(E){return E={$$typeof:d,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:u,_context:E},E.Consumer=E},ve.createElement=be,ve.createFactory=function(E){var I=be.bind(null,E);return I.type=E,I},ve.createRef=function(){return{current:null}},ve.forwardRef=function(E){return{$$typeof:f,render:E}},ve.isValidElement=We,ve.lazy=function(E){return{$$typeof:_,_payload:{_status:-1,_result:E},_init:ge}},ve.memo=function(E,I){return{$$typeof:g,type:E,compare:I===void 0?null:I}},ve.startTransition=function(E){var I=F.transition;F.transition={};try{E()}finally{F.transition=I}},ve.unstable_act=H,ve.useCallback=function(E,I){return ye.current.useCallback(E,I)},ve.useContext=function(E){return ye.current.useContext(E)},ve.useDebugValue=function(){},ve.useDeferredValue=function(E){return ye.current.useDeferredValue(E)},ve.useEffect=function(E,I){return ye.current.useEffect(E,I)},ve.useId=function(){return ye.current.useId()},ve.useImperativeHandle=function(E,I,W){return ye.current.useImperativeHandle(E,I,W)},ve.useInsertionEffect=function(E,I){return ye.current.useInsertionEffect(E,I)},ve.useLayoutEffect=function(E,I){return ye.current.useLayoutEffect(E,I)},ve.useMemo=function(E,I){return ye.current.useMemo(E,I)},ve.useReducer=function(E,I,W){return ye.current.useReducer(E,I,W)},ve.useRef=function(E){return ye.current.useRef(E)},ve.useState=function(E){return ye.current.useState(E)},ve.useSyncExternalStore=function(E,I,W){return ye.current.useSyncExternalStore(E,I,W)},ve.useTransition=function(){return ye.current.useTransition()},ve.version="18.3.1",ve}var Pd;function Hl(){return Pd||(Pd=1,hl.exports=fm()),hl.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ad;function pm(){if(Ad)return qs;Ad=1;var a=Hl(),r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function d(f,m,g){var _,y={},S=null,x=null;g!==void 0&&(S=""+g),m.key!==void 0&&(S=""+m.key),m.ref!==void 0&&(x=m.ref);for(_ in m)i.call(m,_)&&!u.hasOwnProperty(_)&&(y[_]=m[_]);if(f&&f.defaultProps)for(_ in m=f.defaultProps,m)y[_]===void 0&&(y[_]=m[_]);return{$$typeof:r,type:f,key:S,ref:x,props:y,_owner:l.current}}return qs.Fragment=n,qs.jsx=d,qs.jsxs=d,qs}var Id;function mm(){return Id||(Id=1,dl.exports=pm()),dl.exports}var v=mm(),he=Hl();const V=To(he);var lo={},fl={exports:{}},kt={},pl={exports:{}},ml={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dd;function gm(){return Dd||(Dd=1,(function(a){function r(F,te){var H=F.length;F.push(te);e:for(;0<H;){var E=H-1>>>1,I=F[E];if(0<l(I,te))F[E]=te,F[H]=I,H=E;else break e}}function n(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var te=F[0],H=F.pop();if(H!==te){F[0]=H;e:for(var E=0,I=F.length,W=I>>>1;E<W;){var X=2*(E+1)-1,se=F[X],ce=X+1,we=F[ce];if(0>l(se,H))ce<I&&0>l(we,se)?(F[E]=we,F[ce]=H,E=ce):(F[E]=se,F[X]=H,E=X);else if(ce<I&&0>l(we,H))F[E]=we,F[ce]=H,E=ce;else break e}}return te}function l(F,te){var H=F.sortIndex-te.sortIndex;return H!==0?H:F.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var d=Date,f=d.now();a.unstable_now=function(){return d.now()-f}}var m=[],g=[],_=1,y=null,S=3,x=!1,O=!1,P=!1,j=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(F){for(var te=n(g);te!==null;){if(te.callback===null)i(g);else if(te.startTime<=F)i(g),te.sortIndex=te.expirationTime,r(m,te);else break;te=n(g)}}function G(F){if(P=!1,M(F),!O)if(n(m)!==null)O=!0,ge(fe);else{var te=n(g);te!==null&&ye(G,te.startTime-F)}}function fe(F,te){O=!1,P&&(P=!1,A(be),be=-1),x=!0;var H=S;try{for(M(te),y=n(m);y!==null&&(!(y.expirationTime>te)||F&&!Et());){var E=y.callback;if(typeof E=="function"){y.callback=null,S=y.priorityLevel;var I=E(y.expirationTime<=te);te=a.unstable_now(),typeof I=="function"?y.callback=I:y===n(m)&&i(m),M(te)}else i(m);y=n(m)}if(y!==null)var W=!0;else{var X=n(g);X!==null&&ye(G,X.startTime-te),W=!1}return W}finally{y=null,S=H,x=!1}}var ne=!1,me=null,be=-1,Ie=5,We=-1;function Et(){return!(a.unstable_now()-We<Ie)}function Oe(){if(me!==null){var F=a.unstable_now();We=F;var te=!0;try{te=me(!0,F)}finally{te?Ee():(ne=!1,me=null)}}else ne=!1}var Ee;if(typeof B=="function")Ee=function(){B(Oe)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,$e=je.port2;je.port1.onmessage=Oe,Ee=function(){$e.postMessage(null)}}else Ee=function(){j(Oe,0)};function ge(F){me=F,ne||(ne=!0,Ee())}function ye(F,te){be=j(function(){F(a.unstable_now())},te)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(F){F.callback=null},a.unstable_continueExecution=function(){O||x||(O=!0,ge(fe))},a.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ie=0<F?Math.floor(1e3/F):5},a.unstable_getCurrentPriorityLevel=function(){return S},a.unstable_getFirstCallbackNode=function(){return n(m)},a.unstable_next=function(F){switch(S){case 1:case 2:case 3:var te=3;break;default:te=S}var H=S;S=te;try{return F()}finally{S=H}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(F,te){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var H=S;S=F;try{return te()}finally{S=H}},a.unstable_scheduleCallback=function(F,te,H){var E=a.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?E+H:E):H=E,F){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=H+I,F={id:_++,callback:te,priorityLevel:F,startTime:H,expirationTime:I,sortIndex:-1},H>E?(F.sortIndex=H,r(g,F),n(m)===null&&F===n(g)&&(P?(A(be),be=-1):P=!0,ye(G,H-E))):(F.sortIndex=I,r(m,F),O||x||(O=!0,ge(fe))),F},a.unstable_shouldYield=Et,a.unstable_wrapCallback=function(F){var te=S;return function(){var H=S;S=te;try{return F.apply(this,arguments)}finally{S=H}}}})(ml)),ml}var $d;function ym(){return $d||($d=1,pl.exports=gm()),pl.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ld;function vm(){if(Ld)return kt;Ld=1;var a=Hl(),r=ym();function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function u(e,t){d(e,t),d(e+"Capture",t)}function d(e,t){for(l[e]=t,e=0;e<t.length;e++)i.add(t[e])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},y={};function S(e){return m.call(y,e)?!0:m.call(_,e)?!1:g.test(e)?y[e]=!0:(_[e]=!0,!1)}function x(e,t,s,o){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function O(e,t,s,o){if(t===null||typeof t>"u"||x(e,t,s,o))return!0;if(o)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function P(e,t,s,o,c,h,p){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=c,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=h,this.removeEmptyString=p}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){j[e]=new P(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];j[t]=new P(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){j[e]=new P(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){j[e]=new P(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){j[e]=new P(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){j[e]=new P(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){j[e]=new P(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){j[e]=new P(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){j[e]=new P(e,5,!1,e.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function B(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(A,B);j[t]=new P(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(A,B);j[t]=new P(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(A,B);j[t]=new P(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){j[e]=new P(e,1,!1,e.toLowerCase(),null,!1,!1)}),j.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){j[e]=new P(e,1,!1,e.toLowerCase(),null,!0,!0)});function M(e,t,s,o){var c=j.hasOwnProperty(t)?j[t]:null;(c!==null?c.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(O(t,s,c,o)&&(s=null),o||c===null?S(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):c.mustUseProperty?e[c.propertyName]=s===null?c.type===3?!1:"":s:(t=c.attributeName,o=c.attributeNamespace,s===null?e.removeAttribute(t):(c=c.type,s=c===3||c===4&&s===!0?"":""+s,o?e.setAttributeNS(o,t,s):e.setAttribute(t,s))))}var G=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fe=Symbol.for("react.element"),ne=Symbol.for("react.portal"),me=Symbol.for("react.fragment"),be=Symbol.for("react.strict_mode"),Ie=Symbol.for("react.profiler"),We=Symbol.for("react.provider"),Et=Symbol.for("react.context"),Oe=Symbol.for("react.forward_ref"),Ee=Symbol.for("react.suspense"),je=Symbol.for("react.suspense_list"),$e=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),ye=Symbol.for("react.offscreen"),F=Symbol.iterator;function te(e){return e===null||typeof e!="object"?null:(e=F&&e[F]||e["@@iterator"],typeof e=="function"?e:null)}var H=Object.assign,E;function I(e){if(E===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);E=t&&t[1]||""}return`
`+E+e}var W=!1;function X(e,t){if(!e||W)return"";W=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(N){var o=N}Reflect.construct(e,[],t)}else{try{t.call()}catch(N){o=N}e.call(t.prototype)}else{try{throw Error()}catch(N){o=N}e()}}catch(N){if(N&&o&&typeof N.stack=="string"){for(var c=N.stack.split(`
`),h=o.stack.split(`
`),p=c.length-1,w=h.length-1;1<=p&&0<=w&&c[p]!==h[w];)w--;for(;1<=p&&0<=w;p--,w--)if(c[p]!==h[w]){if(p!==1||w!==1)do if(p--,w--,0>w||c[p]!==h[w]){var b=`
`+c[p].replace(" at new "," at ");return e.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",e.displayName)),b}while(1<=p&&0<=w);break}}}finally{W=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?I(e):""}function se(e){switch(e.tag){case 5:return I(e.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return e=X(e.type,!1),e;case 11:return e=X(e.type.render,!1),e;case 1:return e=X(e.type,!0),e;default:return""}}function ce(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case me:return"Fragment";case ne:return"Portal";case Ie:return"Profiler";case be:return"StrictMode";case Ee:return"Suspense";case je:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Et:return(e.displayName||"Context")+".Consumer";case We:return(e._context.displayName||"Context")+".Provider";case Oe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $e:return t=e.displayName||null,t!==null?t:ce(e.type)||"Memo";case ge:t=e._payload,e=e._init;try{return ce(e(t))}catch{}}return null}function we(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(t);case 8:return t===be?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ie(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Se(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qe(e){var t=Se(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,h=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(p){o=""+p,h.call(this,p)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(p){o=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Dt(e){e._valueTracker||(e._valueTracker=qe(e))}function $t(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),o="";return e&&(o=Se(e)?e.checked?"true":"false":e.value),e=o,e!==s?(t.setValue(e),!0):!1}function Kt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function jt(e,t){var s=t.checked;return H({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function En(e,t){var s=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;s=ie(t.value!=null?t.value:s),e._wrapperState={initialChecked:o,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Er(e,t){t=t.checked,t!=null&&M(e,"checked",t,!1)}function Lt(e,t){Er(e,t);var s=ie(t.value),o=t.type;if(s!=null)o==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?L(e,t.type,s):t.hasOwnProperty("defaultValue")&&L(e,t.type,ie(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function R(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function L(e,t,s){(t!=="number"||Kt(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var q=Array.isArray;function ue(e,t,s,o){if(e=e.options,t){t={};for(var c=0;c<s.length;c++)t["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=t.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&o&&(e[s].defaultSelected=!0)}else{for(s=""+ie(s),t=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Re(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(n(91));return H({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _e(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(n(92));if(q(s)){if(1<s.length)throw Error(n(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:ie(s)}}function sr(e,t){var s=ie(t.value),o=ie(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),o!=null&&(e.defaultValue=""+o)}function hr(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function fr(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ls(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?fr(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var en,jn=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,o,c){MSApp.execUnsafeLocalFunction(function(){return e(t,s,o,c)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(en=en||document.createElement("div"),en.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=en.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ut(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var jr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tr=["Webkit","ms","Moz","O"];Object.keys(jr).forEach(function(e){Tr.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),jr[t]=jr[e]})});function ei(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||jr.hasOwnProperty(e)&&jr[e]?(""+t).trim():t+"px"}function ti(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var o=s.indexOf("--")===0,c=ei(s,t[s],o);s==="float"&&(s="cssFloat"),o?e.setProperty(s,c):e[s]=c}}var ri=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tn(e,t){if(t){if(ri[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(n(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(n(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(n(61))}if(t.style!=null&&typeof t.style!="object")throw Error(n(62))}}function us(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tn=null;function Mt(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cs=null,Cr=null,pr=null;function ds(e){if(e=Rs(e)){if(typeof cs!="function")throw Error(n(280));var t=e.stateNode;t&&(t=ki(t),cs(e.stateNode,e.type,t))}}function pe(e){Cr?pr?pr.push(e):pr=[e]:Cr=e}function Fe(){if(Cr){var e=Cr,t=pr;if(pr=Cr=null,ds(e),t)for(e=0;e<t.length;e++)ds(t[e])}}function Qe(e,t){return e(t)}function ct(){}var Nr=!1;function Ke(e,t,s){if(Nr)return e(t,s);Nr=!0;try{return Qe(e,t,s)}finally{Nr=!1,(Cr!==null||pr!==null)&&(ct(),Fe())}}function et(e,t){var s=e.stateNode;if(s===null)return null;var o=ki(s);if(o===null)return null;s=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(n(231,t,typeof s));return s}var Or=!1;if(f)try{var st={};Object.defineProperty(st,"passive",{get:function(){Or=!0}}),window.addEventListener("test",st,st),window.removeEventListener("test",st,st)}catch{Or=!1}function Tt(e,t,s,o,c,h,p,w,b){var N=Array.prototype.slice.call(arguments,3);try{t.apply(s,N)}catch($){this.onError($)}}var Rr=!1,Bt=null,hs=!1,Oo=null,vf={onError:function(e){Rr=!0,Bt=e}};function wf(e,t,s,o,c,h,p,w,b){Rr=!1,Bt=null,Tt.apply(vf,arguments)}function _f(e,t,s,o,c,h,p,w,b){if(wf.apply(this,arguments),Rr){if(Rr){var N=Bt;Rr=!1,Bt=null}else throw Error(n(198));hs||(hs=!0,Oo=N)}}function rn(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function eu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function tu(e){if(rn(e)!==e)throw Error(n(188))}function bf(e){var t=e.alternate;if(!t){if(t=rn(e),t===null)throw Error(n(188));return t!==e?null:e}for(var s=e,o=t;;){var c=s.return;if(c===null)break;var h=c.alternate;if(h===null){if(o=c.return,o!==null){s=o;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===s)return tu(c),e;if(h===o)return tu(c),t;h=h.sibling}throw Error(n(188))}if(s.return!==o.return)s=c,o=h;else{for(var p=!1,w=c.child;w;){if(w===s){p=!0,s=c,o=h;break}if(w===o){p=!0,o=c,s=h;break}w=w.sibling}if(!p){for(w=h.child;w;){if(w===s){p=!0,s=h,o=c;break}if(w===o){p=!0,o=h,s=c;break}w=w.sibling}if(!p)throw Error(n(189))}}if(s.alternate!==o)throw Error(n(190))}if(s.tag!==3)throw Error(n(188));return s.stateNode.current===s?e:t}function ru(e){return e=bf(e),e!==null?nu(e):null}function nu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=nu(e);if(t!==null)return t;e=e.sibling}return null}var su=r.unstable_scheduleCallback,iu=r.unstable_cancelCallback,Sf=r.unstable_shouldYield,kf=r.unstable_requestPaint,Ve=r.unstable_now,xf=r.unstable_getCurrentPriorityLevel,Ro=r.unstable_ImmediatePriority,ou=r.unstable_UserBlockingPriority,ni=r.unstable_NormalPriority,Ef=r.unstable_LowPriority,au=r.unstable_IdlePriority,si=null,ir=null;function jf(e){if(ir&&typeof ir.onCommitFiberRoot=="function")try{ir.onCommitFiberRoot(si,e,void 0,(e.current.flags&128)===128)}catch{}}var Gt=Math.clz32?Math.clz32:Nf,Tf=Math.log,Cf=Math.LN2;function Nf(e){return e>>>=0,e===0?32:31-(Tf(e)/Cf|0)|0}var ii=64,oi=4194304;function fs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ai(e,t){var s=e.pendingLanes;if(s===0)return 0;var o=0,c=e.suspendedLanes,h=e.pingedLanes,p=s&268435455;if(p!==0){var w=p&~c;w!==0?o=fs(w):(h&=p,h!==0&&(o=fs(h)))}else p=s&~c,p!==0?o=fs(p):h!==0&&(o=fs(h));if(o===0)return 0;if(t!==0&&t!==o&&(t&c)===0&&(c=o&-o,h=t&-t,c>=h||c===16&&(h&4194240)!==0))return t;if((o&4)!==0&&(o|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)s=31-Gt(t),c=1<<s,o|=e[s],t&=~c;return o}function Of(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rf(e,t){for(var s=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,h=e.pendingLanes;0<h;){var p=31-Gt(h),w=1<<p,b=c[p];b===-1?((w&s)===0||(w&o)!==0)&&(c[p]=Of(w,t)):b<=t&&(e.expiredLanes|=w),h&=~w}}function Po(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function lu(){var e=ii;return ii<<=1,(ii&4194240)===0&&(ii=64),e}function Ao(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function ps(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Gt(t),e[t]=s}function Pf(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<s;){var c=31-Gt(s),h=1<<c;t[c]=0,o[c]=-1,e[c]=-1,s&=~h}}function Io(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var o=31-Gt(s),c=1<<o;c&t|e[o]&t&&(e[o]|=t),s&=~c}}var Te=0;function uu(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var cu,Do,du,hu,fu,$o=!1,li=[],Pr=null,Ar=null,Ir=null,ms=new Map,gs=new Map,Dr=[],Af="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pu(e,t){switch(e){case"focusin":case"focusout":Pr=null;break;case"dragenter":case"dragleave":Ar=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":ms.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gs.delete(t.pointerId)}}function ys(e,t,s,o,c,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:s,eventSystemFlags:o,nativeEvent:h,targetContainers:[c]},t!==null&&(t=Rs(t),t!==null&&Do(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function If(e,t,s,o,c){switch(t){case"focusin":return Pr=ys(Pr,e,t,s,o,c),!0;case"dragenter":return Ar=ys(Ar,e,t,s,o,c),!0;case"mouseover":return Ir=ys(Ir,e,t,s,o,c),!0;case"pointerover":var h=c.pointerId;return ms.set(h,ys(ms.get(h)||null,e,t,s,o,c)),!0;case"gotpointercapture":return h=c.pointerId,gs.set(h,ys(gs.get(h)||null,e,t,s,o,c)),!0}return!1}function mu(e){var t=nn(e.target);if(t!==null){var s=rn(t);if(s!==null){if(t=s.tag,t===13){if(t=eu(s),t!==null){e.blockedOn=t,fu(e.priority,function(){du(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ui(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Uo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);tn=o,s.target.dispatchEvent(o),tn=null}else return t=Rs(s),t!==null&&Do(t),e.blockedOn=s,!1;t.shift()}return!0}function gu(e,t,s){ui(e)&&s.delete(t)}function Df(){$o=!1,Pr!==null&&ui(Pr)&&(Pr=null),Ar!==null&&ui(Ar)&&(Ar=null),Ir!==null&&ui(Ir)&&(Ir=null),ms.forEach(gu),gs.forEach(gu)}function vs(e,t){e.blockedOn===t&&(e.blockedOn=null,$o||($o=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Df)))}function ws(e){function t(c){return vs(c,e)}if(0<li.length){vs(li[0],e);for(var s=1;s<li.length;s++){var o=li[s];o.blockedOn===e&&(o.blockedOn=null)}}for(Pr!==null&&vs(Pr,e),Ar!==null&&vs(Ar,e),Ir!==null&&vs(Ir,e),ms.forEach(t),gs.forEach(t),s=0;s<Dr.length;s++)o=Dr[s],o.blockedOn===e&&(o.blockedOn=null);for(;0<Dr.length&&(s=Dr[0],s.blockedOn===null);)mu(s),s.blockedOn===null&&Dr.shift()}var Cn=G.ReactCurrentBatchConfig,ci=!0;function $f(e,t,s,o){var c=Te,h=Cn.transition;Cn.transition=null;try{Te=1,Lo(e,t,s,o)}finally{Te=c,Cn.transition=h}}function Lf(e,t,s,o){var c=Te,h=Cn.transition;Cn.transition=null;try{Te=4,Lo(e,t,s,o)}finally{Te=c,Cn.transition=h}}function Lo(e,t,s,o){if(ci){var c=Uo(e,t,s,o);if(c===null)ta(e,t,o,di,s),pu(e,o);else if(If(c,e,t,s,o))o.stopPropagation();else if(pu(e,o),t&4&&-1<Af.indexOf(e)){for(;c!==null;){var h=Rs(c);if(h!==null&&cu(h),h=Uo(e,t,s,o),h===null&&ta(e,t,o,di,s),h===c)break;c=h}c!==null&&o.stopPropagation()}else ta(e,t,o,null,s)}}var di=null;function Uo(e,t,s,o){if(di=null,e=Mt(o),e=nn(e),e!==null)if(t=rn(e),t===null)e=null;else if(s=t.tag,s===13){if(e=eu(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return di=e,null}function yu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xf()){case Ro:return 1;case ou:return 4;case ni:case Ef:return 16;case au:return 536870912;default:return 16}default:return 16}}var $r=null,Mo=null,hi=null;function vu(){if(hi)return hi;var e,t=Mo,s=t.length,o,c="value"in $r?$r.value:$r.textContent,h=c.length;for(e=0;e<s&&t[e]===c[e];e++);var p=s-e;for(o=1;o<=p&&t[s-o]===c[h-o];o++);return hi=c.slice(e,1<o?1-o:void 0)}function fi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function pi(){return!0}function wu(){return!1}function Ct(e){function t(s,o,c,h,p){this._reactName=s,this._targetInst=c,this.type=o,this.nativeEvent=h,this.target=p,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(s=e[w],this[w]=s?s(h):h[w]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?pi:wu,this.isPropagationStopped=wu,this}return H(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=pi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=pi)},persist:function(){},isPersistent:pi}),t}var Nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bo=Ct(Nn),_s=H({},Nn,{view:0,detail:0}),Uf=Ct(_s),zo,Fo,bs,mi=H({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ho,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bs&&(bs&&e.type==="mousemove"?(zo=e.screenX-bs.screenX,Fo=e.screenY-bs.screenY):Fo=zo=0,bs=e),zo)},movementY:function(e){return"movementY"in e?e.movementY:Fo}}),_u=Ct(mi),Mf=H({},mi,{dataTransfer:0}),Bf=Ct(Mf),zf=H({},_s,{relatedTarget:0}),Vo=Ct(zf),Ff=H({},Nn,{animationName:0,elapsedTime:0,pseudoElement:0}),Vf=Ct(Ff),Hf=H({},Nn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wf=Ct(Hf),qf=H({},Nn,{data:0}),bu=Ct(qf),Kf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Jf[e])?!!t[e]:!1}function Ho(){return Qf}var Yf=H({},_s,{key:function(e){if(e.key){var t=Kf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=fi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ho,charCode:function(e){return e.type==="keypress"?fi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Xf=Ct(Yf),Zf=H({},mi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Su=Ct(Zf),ep=H({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ho}),tp=Ct(ep),rp=H({},Nn,{propertyName:0,elapsedTime:0,pseudoElement:0}),np=Ct(rp),sp=H({},mi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ip=Ct(sp),op=[9,13,27,32],Wo=f&&"CompositionEvent"in window,Ss=null;f&&"documentMode"in document&&(Ss=document.documentMode);var ap=f&&"TextEvent"in window&&!Ss,ku=f&&(!Wo||Ss&&8<Ss&&11>=Ss),xu=" ",Eu=!1;function ju(e,t){switch(e){case"keyup":return op.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var On=!1;function lp(e,t){switch(e){case"compositionend":return Tu(t);case"keypress":return t.which!==32?null:(Eu=!0,xu);case"textInput":return e=t.data,e===xu&&Eu?null:e;default:return null}}function up(e,t){if(On)return e==="compositionend"||!Wo&&ju(e,t)?(e=vu(),hi=Mo=$r=null,On=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ku&&t.locale!=="ko"?null:t.data;default:return null}}var cp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!cp[e.type]:t==="textarea"}function Nu(e,t,s,o){pe(o),t=_i(t,"onChange"),0<t.length&&(s=new Bo("onChange","change",null,s,o),e.push({event:s,listeners:t}))}var ks=null,xs=null;function dp(e){Ku(e,0)}function gi(e){var t=Dn(e);if($t(t))return e}function hp(e,t){if(e==="change")return t}var Ou=!1;if(f){var qo;if(f){var Ko="oninput"in document;if(!Ko){var Ru=document.createElement("div");Ru.setAttribute("oninput","return;"),Ko=typeof Ru.oninput=="function"}qo=Ko}else qo=!1;Ou=qo&&(!document.documentMode||9<document.documentMode)}function Pu(){ks&&(ks.detachEvent("onpropertychange",Au),xs=ks=null)}function Au(e){if(e.propertyName==="value"&&gi(xs)){var t=[];Nu(t,xs,e,Mt(e)),Ke(dp,t)}}function fp(e,t,s){e==="focusin"?(Pu(),ks=t,xs=s,ks.attachEvent("onpropertychange",Au)):e==="focusout"&&Pu()}function pp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gi(xs)}function mp(e,t){if(e==="click")return gi(t)}function gp(e,t){if(e==="input"||e==="change")return gi(t)}function yp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Jt=typeof Object.is=="function"?Object.is:yp;function Es(e,t){if(Jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),o=Object.keys(t);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var c=s[o];if(!m.call(t,c)||!Jt(e[c],t[c]))return!1}return!0}function Iu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Du(e,t){var s=Iu(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=t&&o>=t)return{node:s,offset:t-e};e=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Iu(s)}}function $u(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$u(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Lu(){for(var e=window,t=Kt();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Kt(e.document)}return t}function Go(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function vp(e){var t=Lu(),s=e.focusedElem,o=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&$u(s.ownerDocument.documentElement,s)){if(o!==null&&Go(s)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var c=s.textContent.length,h=Math.min(o.start,c);o=o.end===void 0?h:Math.min(o.end,c),!e.extend&&h>o&&(c=o,o=h,h=c),c=Du(s,h);var p=Du(s,o);c&&p&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),e.removeAllRanges(),h>o?(e.addRange(t),e.extend(p.node,p.offset)):(t.setEnd(p.node,p.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var wp=f&&"documentMode"in document&&11>=document.documentMode,Rn=null,Jo=null,js=null,Qo=!1;function Uu(e,t,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Qo||Rn==null||Rn!==Kt(o)||(o=Rn,"selectionStart"in o&&Go(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),js&&Es(js,o)||(js=o,o=_i(Jo,"onSelect"),0<o.length&&(t=new Bo("onSelect","select",null,t,s),e.push({event:t,listeners:o}),t.target=Rn)))}function yi(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Pn={animationend:yi("Animation","AnimationEnd"),animationiteration:yi("Animation","AnimationIteration"),animationstart:yi("Animation","AnimationStart"),transitionend:yi("Transition","TransitionEnd")},Yo={},Mu={};f&&(Mu=document.createElement("div").style,"AnimationEvent"in window||(delete Pn.animationend.animation,delete Pn.animationiteration.animation,delete Pn.animationstart.animation),"TransitionEvent"in window||delete Pn.transitionend.transition);function vi(e){if(Yo[e])return Yo[e];if(!Pn[e])return e;var t=Pn[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in Mu)return Yo[e]=t[s];return e}var Bu=vi("animationend"),zu=vi("animationiteration"),Fu=vi("animationstart"),Vu=vi("transitionend"),Hu=new Map,Wu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(e,t){Hu.set(e,t),u(t,[e])}for(var Xo=0;Xo<Wu.length;Xo++){var Zo=Wu[Xo],_p=Zo.toLowerCase(),bp=Zo[0].toUpperCase()+Zo.slice(1);Lr(_p,"on"+bp)}Lr(Bu,"onAnimationEnd"),Lr(zu,"onAnimationIteration"),Lr(Fu,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(Vu,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ts="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ts));function qu(e,t,s){var o=e.type||"unknown-event";e.currentTarget=s,_f(o,t,void 0,e),e.currentTarget=null}function Ku(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],c=o.event;o=o.listeners;e:{var h=void 0;if(t)for(var p=o.length-1;0<=p;p--){var w=o[p],b=w.instance,N=w.currentTarget;if(w=w.listener,b!==h&&c.isPropagationStopped())break e;qu(c,w,N),h=b}else for(p=0;p<o.length;p++){if(w=o[p],b=w.instance,N=w.currentTarget,w=w.listener,b!==h&&c.isPropagationStopped())break e;qu(c,w,N),h=b}}}if(hs)throw e=Oo,hs=!1,Oo=null,e}function Pe(e,t){var s=t[aa];s===void 0&&(s=t[aa]=new Set);var o=e+"__bubble";s.has(o)||(Gu(t,e,2,!1),s.add(o))}function ea(e,t,s){var o=0;t&&(o|=4),Gu(s,e,o,t)}var wi="_reactListening"+Math.random().toString(36).slice(2);function Cs(e){if(!e[wi]){e[wi]=!0,i.forEach(function(s){s!=="selectionchange"&&(Sp.has(s)||ea(s,!1,e),ea(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wi]||(t[wi]=!0,ea("selectionchange",!1,t))}}function Gu(e,t,s,o){switch(yu(t)){case 1:var c=$f;break;case 4:c=Lf;break;default:c=Lo}s=c.bind(null,t,s,e),c=void 0,!Or||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(t,s,{capture:!0,passive:c}):e.addEventListener(t,s,!0):c!==void 0?e.addEventListener(t,s,{passive:c}):e.addEventListener(t,s,!1)}function ta(e,t,s,o,c){var h=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var w=o.stateNode.containerInfo;if(w===c||w.nodeType===8&&w.parentNode===c)break;if(p===4)for(p=o.return;p!==null;){var b=p.tag;if((b===3||b===4)&&(b=p.stateNode.containerInfo,b===c||b.nodeType===8&&b.parentNode===c))return;p=p.return}for(;w!==null;){if(p=nn(w),p===null)return;if(b=p.tag,b===5||b===6){o=h=p;continue e}w=w.parentNode}}o=o.return}Ke(function(){var N=h,$=Mt(s),U=[];e:{var D=Hu.get(e);if(D!==void 0){var K=Bo,Q=e;switch(e){case"keypress":if(fi(s)===0)break e;case"keydown":case"keyup":K=Xf;break;case"focusin":Q="focus",K=Vo;break;case"focusout":Q="blur",K=Vo;break;case"beforeblur":case"afterblur":K=Vo;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=_u;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Bf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=tp;break;case Bu:case zu:case Fu:K=Vf;break;case Vu:K=np;break;case"scroll":K=Uf;break;case"wheel":K=ip;break;case"copy":case"cut":case"paste":K=Wf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Su}var Y=(t&4)!==0,He=!Y&&e==="scroll",T=Y?D!==null?D+"Capture":null:D;Y=[];for(var k=N,C;k!==null;){C=k;var z=C.stateNode;if(C.tag===5&&z!==null&&(C=z,T!==null&&(z=et(k,T),z!=null&&Y.push(Ns(k,z,C)))),He)break;k=k.return}0<Y.length&&(D=new K(D,Q,null,s,$),U.push({event:D,listeners:Y}))}}if((t&7)===0){e:{if(D=e==="mouseover"||e==="pointerover",K=e==="mouseout"||e==="pointerout",D&&s!==tn&&(Q=s.relatedTarget||s.fromElement)&&(nn(Q)||Q[mr]))break e;if((K||D)&&(D=$.window===$?$:(D=$.ownerDocument)?D.defaultView||D.parentWindow:window,K?(Q=s.relatedTarget||s.toElement,K=N,Q=Q?nn(Q):null,Q!==null&&(He=rn(Q),Q!==He||Q.tag!==5&&Q.tag!==6)&&(Q=null)):(K=null,Q=N),K!==Q)){if(Y=_u,z="onMouseLeave",T="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(Y=Su,z="onPointerLeave",T="onPointerEnter",k="pointer"),He=K==null?D:Dn(K),C=Q==null?D:Dn(Q),D=new Y(z,k+"leave",K,s,$),D.target=He,D.relatedTarget=C,z=null,nn($)===N&&(Y=new Y(T,k+"enter",Q,s,$),Y.target=C,Y.relatedTarget=He,z=Y),He=z,K&&Q)t:{for(Y=K,T=Q,k=0,C=Y;C;C=An(C))k++;for(C=0,z=T;z;z=An(z))C++;for(;0<k-C;)Y=An(Y),k--;for(;0<C-k;)T=An(T),C--;for(;k--;){if(Y===T||T!==null&&Y===T.alternate)break t;Y=An(Y),T=An(T)}Y=null}else Y=null;K!==null&&Ju(U,D,K,Y,!1),Q!==null&&He!==null&&Ju(U,He,Q,Y,!0)}}e:{if(D=N?Dn(N):window,K=D.nodeName&&D.nodeName.toLowerCase(),K==="select"||K==="input"&&D.type==="file")var Z=hp;else if(Cu(D))if(Ou)Z=gp;else{Z=pp;var oe=fp}else(K=D.nodeName)&&K.toLowerCase()==="input"&&(D.type==="checkbox"||D.type==="radio")&&(Z=mp);if(Z&&(Z=Z(e,N))){Nu(U,Z,s,$);break e}oe&&oe(e,D,N),e==="focusout"&&(oe=D._wrapperState)&&oe.controlled&&D.type==="number"&&L(D,"number",D.value)}switch(oe=N?Dn(N):window,e){case"focusin":(Cu(oe)||oe.contentEditable==="true")&&(Rn=oe,Jo=N,js=null);break;case"focusout":js=Jo=Rn=null;break;case"mousedown":Qo=!0;break;case"contextmenu":case"mouseup":case"dragend":Qo=!1,Uu(U,s,$);break;case"selectionchange":if(wp)break;case"keydown":case"keyup":Uu(U,s,$)}var ae;if(Wo)e:{switch(e){case"compositionstart":var de="onCompositionStart";break e;case"compositionend":de="onCompositionEnd";break e;case"compositionupdate":de="onCompositionUpdate";break e}de=void 0}else On?ju(e,s)&&(de="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(de="onCompositionStart");de&&(ku&&s.locale!=="ko"&&(On||de!=="onCompositionStart"?de==="onCompositionEnd"&&On&&(ae=vu()):($r=$,Mo="value"in $r?$r.value:$r.textContent,On=!0)),oe=_i(N,de),0<oe.length&&(de=new bu(de,e,null,s,$),U.push({event:de,listeners:oe}),ae?de.data=ae:(ae=Tu(s),ae!==null&&(de.data=ae)))),(ae=ap?lp(e,s):up(e,s))&&(N=_i(N,"onBeforeInput"),0<N.length&&($=new bu("onBeforeInput","beforeinput",null,s,$),U.push({event:$,listeners:N}),$.data=ae))}Ku(U,t)})}function Ns(e,t,s){return{instance:e,listener:t,currentTarget:s}}function _i(e,t){for(var s=t+"Capture",o=[];e!==null;){var c=e,h=c.stateNode;c.tag===5&&h!==null&&(c=h,h=et(e,s),h!=null&&o.unshift(Ns(e,h,c)),h=et(e,t),h!=null&&o.push(Ns(e,h,c))),e=e.return}return o}function An(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ju(e,t,s,o,c){for(var h=t._reactName,p=[];s!==null&&s!==o;){var w=s,b=w.alternate,N=w.stateNode;if(b!==null&&b===o)break;w.tag===5&&N!==null&&(w=N,c?(b=et(s,h),b!=null&&p.unshift(Ns(s,b,w))):c||(b=et(s,h),b!=null&&p.push(Ns(s,b,w)))),s=s.return}p.length!==0&&e.push({event:t,listeners:p})}var kp=/\r\n?/g,xp=/\u0000|\uFFFD/g;function Qu(e){return(typeof e=="string"?e:""+e).replace(kp,`
`).replace(xp,"")}function bi(e,t,s){if(t=Qu(t),Qu(e)!==t&&s)throw Error(n(425))}function Si(){}var ra=null,na=null;function sa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ia=typeof setTimeout=="function"?setTimeout:void 0,Ep=typeof clearTimeout=="function"?clearTimeout:void 0,Yu=typeof Promise=="function"?Promise:void 0,jp=typeof queueMicrotask=="function"?queueMicrotask:typeof Yu<"u"?function(e){return Yu.resolve(null).then(e).catch(Tp)}:ia;function Tp(e){setTimeout(function(){throw e})}function oa(e,t){var s=t,o=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"){if(o===0){e.removeChild(c),ws(t);return}o--}else s!=="$"&&s!=="$?"&&s!=="$!"||o++;s=c}while(s);ws(t)}function Ur(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Xu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var In=Math.random().toString(36).slice(2),or="__reactFiber$"+In,Os="__reactProps$"+In,mr="__reactContainer$"+In,aa="__reactEvents$"+In,Cp="__reactListeners$"+In,Np="__reactHandles$"+In;function nn(e){var t=e[or];if(t)return t;for(var s=e.parentNode;s;){if(t=s[mr]||s[or]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=Xu(e);e!==null;){if(s=e[or])return s;e=Xu(e)}return t}e=s,s=e.parentNode}return null}function Rs(e){return e=e[or]||e[mr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Dn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(n(33))}function ki(e){return e[Os]||null}var la=[],$n=-1;function Mr(e){return{current:e}}function Ae(e){0>$n||(e.current=la[$n],la[$n]=null,$n--)}function Ce(e,t){$n++,la[$n]=e.current,e.current=t}var Br={},dt=Mr(Br),vt=Mr(!1),sn=Br;function Ln(e,t){var s=e.type.contextTypes;if(!s)return Br;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var c={},h;for(h in s)c[h]=t[h];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=c),c}function wt(e){return e=e.childContextTypes,e!=null}function xi(){Ae(vt),Ae(dt)}function Zu(e,t,s){if(dt.current!==Br)throw Error(n(168));Ce(dt,t),Ce(vt,s)}function ec(e,t,s){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return s;o=o.getChildContext();for(var c in o)if(!(c in t))throw Error(n(108,we(e)||"Unknown",c));return H({},s,o)}function Ei(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Br,sn=dt.current,Ce(dt,e),Ce(vt,vt.current),!0}function tc(e,t,s){var o=e.stateNode;if(!o)throw Error(n(169));s?(e=ec(e,t,sn),o.__reactInternalMemoizedMergedChildContext=e,Ae(vt),Ae(dt),Ce(dt,e)):Ae(vt),Ce(vt,s)}var gr=null,ji=!1,ua=!1;function rc(e){gr===null?gr=[e]:gr.push(e)}function Op(e){ji=!0,rc(e)}function zr(){if(!ua&&gr!==null){ua=!0;var e=0,t=Te;try{var s=gr;for(Te=1;e<s.length;e++){var o=s[e];do o=o(!0);while(o!==null)}gr=null,ji=!1}catch(c){throw gr!==null&&(gr=gr.slice(e+1)),su(Ro,zr),c}finally{Te=t,ua=!1}}return null}var Un=[],Mn=0,Ti=null,Ci=0,zt=[],Ft=0,on=null,yr=1,vr="";function an(e,t){Un[Mn++]=Ci,Un[Mn++]=Ti,Ti=e,Ci=t}function nc(e,t,s){zt[Ft++]=yr,zt[Ft++]=vr,zt[Ft++]=on,on=e;var o=yr;e=vr;var c=32-Gt(o)-1;o&=~(1<<c),s+=1;var h=32-Gt(t)+c;if(30<h){var p=c-c%5;h=(o&(1<<p)-1).toString(32),o>>=p,c-=p,yr=1<<32-Gt(t)+c|s<<c|o,vr=h+e}else yr=1<<h|s<<c|o,vr=e}function ca(e){e.return!==null&&(an(e,1),nc(e,1,0))}function da(e){for(;e===Ti;)Ti=Un[--Mn],Un[Mn]=null,Ci=Un[--Mn],Un[Mn]=null;for(;e===on;)on=zt[--Ft],zt[Ft]=null,vr=zt[--Ft],zt[Ft]=null,yr=zt[--Ft],zt[Ft]=null}var Nt=null,Ot=null,De=!1,Qt=null;function sc(e,t){var s=qt(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function ic(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Nt=e,Ot=Ur(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Nt=e,Ot=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=on!==null?{id:yr,overflow:vr}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=qt(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,Nt=e,Ot=null,!0):!1;default:return!1}}function ha(e){return(e.mode&1)!==0&&(e.flags&128)===0}function fa(e){if(De){var t=Ot;if(t){var s=t;if(!ic(e,t)){if(ha(e))throw Error(n(418));t=Ur(s.nextSibling);var o=Nt;t&&ic(e,t)?sc(o,s):(e.flags=e.flags&-4097|2,De=!1,Nt=e)}}else{if(ha(e))throw Error(n(418));e.flags=e.flags&-4097|2,De=!1,Nt=e}}}function oc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Nt=e}function Ni(e){if(e!==Nt)return!1;if(!De)return oc(e),De=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!sa(e.type,e.memoizedProps)),t&&(t=Ot)){if(ha(e))throw ac(),Error(n(418));for(;t;)sc(e,t),t=Ur(t.nextSibling)}if(oc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){Ot=Ur(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}Ot=null}}else Ot=Nt?Ur(e.stateNode.nextSibling):null;return!0}function ac(){for(var e=Ot;e;)e=Ur(e.nextSibling)}function Bn(){Ot=Nt=null,De=!1}function pa(e){Qt===null?Qt=[e]:Qt.push(e)}var Rp=G.ReactCurrentBatchConfig;function Ps(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(n(309));var o=s.stateNode}if(!o)throw Error(n(147,e));var c=o,h=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===h?t.ref:(t=function(p){var w=c.refs;p===null?delete w[h]:w[h]=p},t._stringRef=h,t)}if(typeof e!="string")throw Error(n(284));if(!s._owner)throw Error(n(290,e))}return e}function Oi(e,t){throw e=Object.prototype.toString.call(t),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function lc(e){var t=e._init;return t(e._payload)}function uc(e){function t(T,k){if(e){var C=T.deletions;C===null?(T.deletions=[k],T.flags|=16):C.push(k)}}function s(T,k){if(!e)return null;for(;k!==null;)t(T,k),k=k.sibling;return null}function o(T,k){for(T=new Map;k!==null;)k.key!==null?T.set(k.key,k):T.set(k.index,k),k=k.sibling;return T}function c(T,k){return T=Jr(T,k),T.index=0,T.sibling=null,T}function h(T,k,C){return T.index=C,e?(C=T.alternate,C!==null?(C=C.index,C<k?(T.flags|=2,k):C):(T.flags|=2,k)):(T.flags|=1048576,k)}function p(T){return e&&T.alternate===null&&(T.flags|=2),T}function w(T,k,C,z){return k===null||k.tag!==6?(k=il(C,T.mode,z),k.return=T,k):(k=c(k,C),k.return=T,k)}function b(T,k,C,z){var Z=C.type;return Z===me?$(T,k,C.props.children,z,C.key):k!==null&&(k.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===ge&&lc(Z)===k.type)?(z=c(k,C.props),z.ref=Ps(T,k,C),z.return=T,z):(z=eo(C.type,C.key,C.props,null,T.mode,z),z.ref=Ps(T,k,C),z.return=T,z)}function N(T,k,C,z){return k===null||k.tag!==4||k.stateNode.containerInfo!==C.containerInfo||k.stateNode.implementation!==C.implementation?(k=ol(C,T.mode,z),k.return=T,k):(k=c(k,C.children||[]),k.return=T,k)}function $(T,k,C,z,Z){return k===null||k.tag!==7?(k=mn(C,T.mode,z,Z),k.return=T,k):(k=c(k,C),k.return=T,k)}function U(T,k,C){if(typeof k=="string"&&k!==""||typeof k=="number")return k=il(""+k,T.mode,C),k.return=T,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case fe:return C=eo(k.type,k.key,k.props,null,T.mode,C),C.ref=Ps(T,null,k),C.return=T,C;case ne:return k=ol(k,T.mode,C),k.return=T,k;case ge:var z=k._init;return U(T,z(k._payload),C)}if(q(k)||te(k))return k=mn(k,T.mode,C,null),k.return=T,k;Oi(T,k)}return null}function D(T,k,C,z){var Z=k!==null?k.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return Z!==null?null:w(T,k,""+C,z);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case fe:return C.key===Z?b(T,k,C,z):null;case ne:return C.key===Z?N(T,k,C,z):null;case ge:return Z=C._init,D(T,k,Z(C._payload),z)}if(q(C)||te(C))return Z!==null?null:$(T,k,C,z,null);Oi(T,C)}return null}function K(T,k,C,z,Z){if(typeof z=="string"&&z!==""||typeof z=="number")return T=T.get(C)||null,w(k,T,""+z,Z);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case fe:return T=T.get(z.key===null?C:z.key)||null,b(k,T,z,Z);case ne:return T=T.get(z.key===null?C:z.key)||null,N(k,T,z,Z);case ge:var oe=z._init;return K(T,k,C,oe(z._payload),Z)}if(q(z)||te(z))return T=T.get(C)||null,$(k,T,z,Z,null);Oi(k,z)}return null}function Q(T,k,C,z){for(var Z=null,oe=null,ae=k,de=k=0,nt=null;ae!==null&&de<C.length;de++){ae.index>de?(nt=ae,ae=null):nt=ae.sibling;var xe=D(T,ae,C[de],z);if(xe===null){ae===null&&(ae=nt);break}e&&ae&&xe.alternate===null&&t(T,ae),k=h(xe,k,de),oe===null?Z=xe:oe.sibling=xe,oe=xe,ae=nt}if(de===C.length)return s(T,ae),De&&an(T,de),Z;if(ae===null){for(;de<C.length;de++)ae=U(T,C[de],z),ae!==null&&(k=h(ae,k,de),oe===null?Z=ae:oe.sibling=ae,oe=ae);return De&&an(T,de),Z}for(ae=o(T,ae);de<C.length;de++)nt=K(ae,T,de,C[de],z),nt!==null&&(e&&nt.alternate!==null&&ae.delete(nt.key===null?de:nt.key),k=h(nt,k,de),oe===null?Z=nt:oe.sibling=nt,oe=nt);return e&&ae.forEach(function(Qr){return t(T,Qr)}),De&&an(T,de),Z}function Y(T,k,C,z){var Z=te(C);if(typeof Z!="function")throw Error(n(150));if(C=Z.call(C),C==null)throw Error(n(151));for(var oe=Z=null,ae=k,de=k=0,nt=null,xe=C.next();ae!==null&&!xe.done;de++,xe=C.next()){ae.index>de?(nt=ae,ae=null):nt=ae.sibling;var Qr=D(T,ae,xe.value,z);if(Qr===null){ae===null&&(ae=nt);break}e&&ae&&Qr.alternate===null&&t(T,ae),k=h(Qr,k,de),oe===null?Z=Qr:oe.sibling=Qr,oe=Qr,ae=nt}if(xe.done)return s(T,ae),De&&an(T,de),Z;if(ae===null){for(;!xe.done;de++,xe=C.next())xe=U(T,xe.value,z),xe!==null&&(k=h(xe,k,de),oe===null?Z=xe:oe.sibling=xe,oe=xe);return De&&an(T,de),Z}for(ae=o(T,ae);!xe.done;de++,xe=C.next())xe=K(ae,T,de,xe.value,z),xe!==null&&(e&&xe.alternate!==null&&ae.delete(xe.key===null?de:xe.key),k=h(xe,k,de),oe===null?Z=xe:oe.sibling=xe,oe=xe);return e&&ae.forEach(function(cm){return t(T,cm)}),De&&an(T,de),Z}function He(T,k,C,z){if(typeof C=="object"&&C!==null&&C.type===me&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case fe:e:{for(var Z=C.key,oe=k;oe!==null;){if(oe.key===Z){if(Z=C.type,Z===me){if(oe.tag===7){s(T,oe.sibling),k=c(oe,C.props.children),k.return=T,T=k;break e}}else if(oe.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===ge&&lc(Z)===oe.type){s(T,oe.sibling),k=c(oe,C.props),k.ref=Ps(T,oe,C),k.return=T,T=k;break e}s(T,oe);break}else t(T,oe);oe=oe.sibling}C.type===me?(k=mn(C.props.children,T.mode,z,C.key),k.return=T,T=k):(z=eo(C.type,C.key,C.props,null,T.mode,z),z.ref=Ps(T,k,C),z.return=T,T=z)}return p(T);case ne:e:{for(oe=C.key;k!==null;){if(k.key===oe)if(k.tag===4&&k.stateNode.containerInfo===C.containerInfo&&k.stateNode.implementation===C.implementation){s(T,k.sibling),k=c(k,C.children||[]),k.return=T,T=k;break e}else{s(T,k);break}else t(T,k);k=k.sibling}k=ol(C,T.mode,z),k.return=T,T=k}return p(T);case ge:return oe=C._init,He(T,k,oe(C._payload),z)}if(q(C))return Q(T,k,C,z);if(te(C))return Y(T,k,C,z);Oi(T,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,k!==null&&k.tag===6?(s(T,k.sibling),k=c(k,C),k.return=T,T=k):(s(T,k),k=il(C,T.mode,z),k.return=T,T=k),p(T)):s(T,k)}return He}var zn=uc(!0),cc=uc(!1),Ri=Mr(null),Pi=null,Fn=null,ma=null;function ga(){ma=Fn=Pi=null}function ya(e){var t=Ri.current;Ae(Ri),e._currentValue=t}function va(e,t,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===s)break;e=e.return}}function Vn(e,t){Pi=e,ma=Fn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(_t=!0),e.firstContext=null)}function Vt(e){var t=e._currentValue;if(ma!==e)if(e={context:e,memoizedValue:t,next:null},Fn===null){if(Pi===null)throw Error(n(308));Fn=e,Pi.dependencies={lanes:0,firstContext:e}}else Fn=Fn.next=e;return t}var ln=null;function wa(e){ln===null?ln=[e]:ln.push(e)}function dc(e,t,s,o){var c=t.interleaved;return c===null?(s.next=s,wa(t)):(s.next=c.next,c.next=s),t.interleaved=s,wr(e,o)}function wr(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Fr=!1;function _a(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _r(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vr(e,t,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(ke&2)!==0){var c=o.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),o.pending=t,wr(e,s)}return c=o.interleaved,c===null?(t.next=t,wa(o)):(t.next=c.next,c.next=t),o.interleaved=t,wr(e,s)}function Ai(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,s|=o,t.lanes=s,Io(e,s)}}function fc(e,t){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var c=null,h=null;if(s=s.firstBaseUpdate,s!==null){do{var p={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};h===null?c=h=p:h=h.next=p,s=s.next}while(s!==null);h===null?c=h=t:h=h.next=t}else c=h=t;s={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:o.shared,effects:o.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Ii(e,t,s,o){var c=e.updateQueue;Fr=!1;var h=c.firstBaseUpdate,p=c.lastBaseUpdate,w=c.shared.pending;if(w!==null){c.shared.pending=null;var b=w,N=b.next;b.next=null,p===null?h=N:p.next=N,p=b;var $=e.alternate;$!==null&&($=$.updateQueue,w=$.lastBaseUpdate,w!==p&&(w===null?$.firstBaseUpdate=N:w.next=N,$.lastBaseUpdate=b))}if(h!==null){var U=c.baseState;p=0,$=N=b=null,w=h;do{var D=w.lane,K=w.eventTime;if((o&D)===D){$!==null&&($=$.next={eventTime:K,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var Q=e,Y=w;switch(D=t,K=s,Y.tag){case 1:if(Q=Y.payload,typeof Q=="function"){U=Q.call(K,U,D);break e}U=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=Y.payload,D=typeof Q=="function"?Q.call(K,U,D):Q,D==null)break e;U=H({},U,D);break e;case 2:Fr=!0}}w.callback!==null&&w.lane!==0&&(e.flags|=64,D=c.effects,D===null?c.effects=[w]:D.push(w))}else K={eventTime:K,lane:D,tag:w.tag,payload:w.payload,callback:w.callback,next:null},$===null?(N=$=K,b=U):$=$.next=K,p|=D;if(w=w.next,w===null){if(w=c.shared.pending,w===null)break;D=w,w=D.next,D.next=null,c.lastBaseUpdate=D,c.shared.pending=null}}while(!0);if($===null&&(b=U),c.baseState=b,c.firstBaseUpdate=N,c.lastBaseUpdate=$,t=c.shared.interleaved,t!==null){c=t;do p|=c.lane,c=c.next;while(c!==t)}else h===null&&(c.shared.lanes=0);dn|=p,e.lanes=p,e.memoizedState=U}}function pc(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],c=o.callback;if(c!==null){if(o.callback=null,o=s,typeof c!="function")throw Error(n(191,c));c.call(o)}}}var As={},ar=Mr(As),Is=Mr(As),Ds=Mr(As);function un(e){if(e===As)throw Error(n(174));return e}function ba(e,t){switch(Ce(Ds,t),Ce(Is,e),Ce(ar,As),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ls(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ls(t,e)}Ae(ar),Ce(ar,t)}function Hn(){Ae(ar),Ae(Is),Ae(Ds)}function mc(e){un(Ds.current);var t=un(ar.current),s=ls(t,e.type);t!==s&&(Ce(Is,e),Ce(ar,s))}function Sa(e){Is.current===e&&(Ae(ar),Ae(Is))}var Le=Mr(0);function Di(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ka=[];function xa(){for(var e=0;e<ka.length;e++)ka[e]._workInProgressVersionPrimary=null;ka.length=0}var $i=G.ReactCurrentDispatcher,Ea=G.ReactCurrentBatchConfig,cn=0,Ue=null,Ye=null,tt=null,Li=!1,$s=!1,Ls=0,Pp=0;function ht(){throw Error(n(321))}function ja(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Jt(e[s],t[s]))return!1;return!0}function Ta(e,t,s,o,c,h){if(cn=h,Ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$i.current=e===null||e.memoizedState===null?$p:Lp,e=s(o,c),$s){h=0;do{if($s=!1,Ls=0,25<=h)throw Error(n(301));h+=1,tt=Ye=null,t.updateQueue=null,$i.current=Up,e=s(o,c)}while($s)}if($i.current=Bi,t=Ye!==null&&Ye.next!==null,cn=0,tt=Ye=Ue=null,Li=!1,t)throw Error(n(300));return e}function Ca(){var e=Ls!==0;return Ls=0,e}function lr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?Ue.memoizedState=tt=e:tt=tt.next=e,tt}function Ht(){if(Ye===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=Ye.next;var t=tt===null?Ue.memoizedState:tt.next;if(t!==null)tt=t,Ye=e;else{if(e===null)throw Error(n(310));Ye=e,e={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},tt===null?Ue.memoizedState=tt=e:tt=tt.next=e}return tt}function Us(e,t){return typeof t=="function"?t(e):t}function Na(e){var t=Ht(),s=t.queue;if(s===null)throw Error(n(311));s.lastRenderedReducer=e;var o=Ye,c=o.baseQueue,h=s.pending;if(h!==null){if(c!==null){var p=c.next;c.next=h.next,h.next=p}o.baseQueue=c=h,s.pending=null}if(c!==null){h=c.next,o=o.baseState;var w=p=null,b=null,N=h;do{var $=N.lane;if((cn&$)===$)b!==null&&(b=b.next={lane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),o=N.hasEagerState?N.eagerState:e(o,N.action);else{var U={lane:$,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null};b===null?(w=b=U,p=o):b=b.next=U,Ue.lanes|=$,dn|=$}N=N.next}while(N!==null&&N!==h);b===null?p=o:b.next=w,Jt(o,t.memoizedState)||(_t=!0),t.memoizedState=o,t.baseState=p,t.baseQueue=b,s.lastRenderedState=o}if(e=s.interleaved,e!==null){c=e;do h=c.lane,Ue.lanes|=h,dn|=h,c=c.next;while(c!==e)}else c===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function Oa(e){var t=Ht(),s=t.queue;if(s===null)throw Error(n(311));s.lastRenderedReducer=e;var o=s.dispatch,c=s.pending,h=t.memoizedState;if(c!==null){s.pending=null;var p=c=c.next;do h=e(h,p.action),p=p.next;while(p!==c);Jt(h,t.memoizedState)||(_t=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),s.lastRenderedState=h}return[h,o]}function gc(){}function yc(e,t){var s=Ue,o=Ht(),c=t(),h=!Jt(o.memoizedState,c);if(h&&(o.memoizedState=c,_t=!0),o=o.queue,Ra(_c.bind(null,s,o,e),[e]),o.getSnapshot!==t||h||tt!==null&&tt.memoizedState.tag&1){if(s.flags|=2048,Ms(9,wc.bind(null,s,o,c,t),void 0,null),rt===null)throw Error(n(349));(cn&30)!==0||vc(s,t,c)}return c}function vc(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function wc(e,t,s,o){t.value=s,t.getSnapshot=o,bc(t)&&Sc(e)}function _c(e,t,s){return s(function(){bc(t)&&Sc(e)})}function bc(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Jt(e,s)}catch{return!0}}function Sc(e){var t=wr(e,1);t!==null&&er(t,e,1,-1)}function kc(e){var t=lr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:e},t.queue=e,e=e.dispatch=Dp.bind(null,Ue,e),[t.memoizedState,e]}function Ms(e,t,s,o){return e={tag:e,create:t,destroy:s,deps:o,next:null},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,t.lastEffect=e)),e}function xc(){return Ht().memoizedState}function Ui(e,t,s,o){var c=lr();Ue.flags|=e,c.memoizedState=Ms(1|t,s,void 0,o===void 0?null:o)}function Mi(e,t,s,o){var c=Ht();o=o===void 0?null:o;var h=void 0;if(Ye!==null){var p=Ye.memoizedState;if(h=p.destroy,o!==null&&ja(o,p.deps)){c.memoizedState=Ms(t,s,h,o);return}}Ue.flags|=e,c.memoizedState=Ms(1|t,s,h,o)}function Ec(e,t){return Ui(8390656,8,e,t)}function Ra(e,t){return Mi(2048,8,e,t)}function jc(e,t){return Mi(4,2,e,t)}function Tc(e,t){return Mi(4,4,e,t)}function Cc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Nc(e,t,s){return s=s!=null?s.concat([e]):null,Mi(4,4,Cc.bind(null,t,e),s)}function Pa(){}function Oc(e,t){var s=Ht();t=t===void 0?null:t;var o=s.memoizedState;return o!==null&&t!==null&&ja(t,o[1])?o[0]:(s.memoizedState=[e,t],e)}function Rc(e,t){var s=Ht();t=t===void 0?null:t;var o=s.memoizedState;return o!==null&&t!==null&&ja(t,o[1])?o[0]:(e=e(),s.memoizedState=[e,t],e)}function Pc(e,t,s){return(cn&21)===0?(e.baseState&&(e.baseState=!1,_t=!0),e.memoizedState=s):(Jt(s,t)||(s=lu(),Ue.lanes|=s,dn|=s,e.baseState=!0),t)}function Ap(e,t){var s=Te;Te=s!==0&&4>s?s:4,e(!0);var o=Ea.transition;Ea.transition={};try{e(!1),t()}finally{Te=s,Ea.transition=o}}function Ac(){return Ht().memoizedState}function Ip(e,t,s){var o=Kr(e);if(s={lane:o,action:s,hasEagerState:!1,eagerState:null,next:null},Ic(e))Dc(t,s);else if(s=dc(e,t,s,o),s!==null){var c=yt();er(s,e,o,c),$c(s,t,o)}}function Dp(e,t,s){var o=Kr(e),c={lane:o,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ic(e))Dc(t,c);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var p=t.lastRenderedState,w=h(p,s);if(c.hasEagerState=!0,c.eagerState=w,Jt(w,p)){var b=t.interleaved;b===null?(c.next=c,wa(t)):(c.next=b.next,b.next=c),t.interleaved=c;return}}catch{}finally{}s=dc(e,t,c,o),s!==null&&(c=yt(),er(s,e,o,c),$c(s,t,o))}}function Ic(e){var t=e.alternate;return e===Ue||t!==null&&t===Ue}function Dc(e,t){$s=Li=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function $c(e,t,s){if((s&4194240)!==0){var o=t.lanes;o&=e.pendingLanes,s|=o,t.lanes=s,Io(e,s)}}var Bi={readContext:Vt,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useInsertionEffect:ht,useLayoutEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useMutableSource:ht,useSyncExternalStore:ht,useId:ht,unstable_isNewReconciler:!1},$p={readContext:Vt,useCallback:function(e,t){return lr().memoizedState=[e,t===void 0?null:t],e},useContext:Vt,useEffect:Ec,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,Ui(4194308,4,Cc.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Ui(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ui(4,2,e,t)},useMemo:function(e,t){var s=lr();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var o=lr();return t=s!==void 0?s(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=Ip.bind(null,Ue,e),[o.memoizedState,e]},useRef:function(e){var t=lr();return e={current:e},t.memoizedState=e},useState:kc,useDebugValue:Pa,useDeferredValue:function(e){return lr().memoizedState=e},useTransition:function(){var e=kc(!1),t=e[0];return e=Ap.bind(null,e[1]),lr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var o=Ue,c=lr();if(De){if(s===void 0)throw Error(n(407));s=s()}else{if(s=t(),rt===null)throw Error(n(349));(cn&30)!==0||vc(o,t,s)}c.memoizedState=s;var h={value:s,getSnapshot:t};return c.queue=h,Ec(_c.bind(null,o,h,e),[e]),o.flags|=2048,Ms(9,wc.bind(null,o,h,s,t),void 0,null),s},useId:function(){var e=lr(),t=rt.identifierPrefix;if(De){var s=vr,o=yr;s=(o&~(1<<32-Gt(o)-1)).toString(32)+s,t=":"+t+"R"+s,s=Ls++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=Pp++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Lp={readContext:Vt,useCallback:Oc,useContext:Vt,useEffect:Ra,useImperativeHandle:Nc,useInsertionEffect:jc,useLayoutEffect:Tc,useMemo:Rc,useReducer:Na,useRef:xc,useState:function(){return Na(Us)},useDebugValue:Pa,useDeferredValue:function(e){var t=Ht();return Pc(t,Ye.memoizedState,e)},useTransition:function(){var e=Na(Us)[0],t=Ht().memoizedState;return[e,t]},useMutableSource:gc,useSyncExternalStore:yc,useId:Ac,unstable_isNewReconciler:!1},Up={readContext:Vt,useCallback:Oc,useContext:Vt,useEffect:Ra,useImperativeHandle:Nc,useInsertionEffect:jc,useLayoutEffect:Tc,useMemo:Rc,useReducer:Oa,useRef:xc,useState:function(){return Oa(Us)},useDebugValue:Pa,useDeferredValue:function(e){var t=Ht();return Ye===null?t.memoizedState=e:Pc(t,Ye.memoizedState,e)},useTransition:function(){var e=Oa(Us)[0],t=Ht().memoizedState;return[e,t]},useMutableSource:gc,useSyncExternalStore:yc,useId:Ac,unstable_isNewReconciler:!1};function Yt(e,t){if(e&&e.defaultProps){t=H({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function Aa(e,t,s,o){t=e.memoizedState,s=s(o,t),s=s==null?t:H({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var zi={isMounted:function(e){return(e=e._reactInternals)?rn(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var o=yt(),c=Kr(e),h=_r(o,c);h.payload=t,s!=null&&(h.callback=s),t=Vr(e,h,c),t!==null&&(er(t,e,c,o),Ai(t,e,c))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var o=yt(),c=Kr(e),h=_r(o,c);h.tag=1,h.payload=t,s!=null&&(h.callback=s),t=Vr(e,h,c),t!==null&&(er(t,e,c,o),Ai(t,e,c))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=yt(),o=Kr(e),c=_r(s,o);c.tag=2,t!=null&&(c.callback=t),t=Vr(e,c,o),t!==null&&(er(t,e,o,s),Ai(t,e,o))}};function Lc(e,t,s,o,c,h,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,h,p):t.prototype&&t.prototype.isPureReactComponent?!Es(s,o)||!Es(c,h):!0}function Uc(e,t,s){var o=!1,c=Br,h=t.contextType;return typeof h=="object"&&h!==null?h=Vt(h):(c=wt(t)?sn:dt.current,o=t.contextTypes,h=(o=o!=null)?Ln(e,c):Br),t=new t(s,h),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=zi,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=h),t}function Mc(e,t,s,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,o),t.state!==e&&zi.enqueueReplaceState(t,t.state,null)}function Ia(e,t,s,o){var c=e.stateNode;c.props=s,c.state=e.memoizedState,c.refs={},_a(e);var h=t.contextType;typeof h=="object"&&h!==null?c.context=Vt(h):(h=wt(t)?sn:dt.current,c.context=Ln(e,h)),c.state=e.memoizedState,h=t.getDerivedStateFromProps,typeof h=="function"&&(Aa(e,t,h,s),c.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(t=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),t!==c.state&&zi.enqueueReplaceState(c,c.state,null),Ii(e,s,c,o),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function Wn(e,t){try{var s="",o=t;do s+=se(o),o=o.return;while(o);var c=s}catch(h){c=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:t,stack:c,digest:null}}function Da(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function $a(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var Mp=typeof WeakMap=="function"?WeakMap:Map;function Bc(e,t,s){s=_r(-1,s),s.tag=3,s.payload={element:null};var o=t.value;return s.callback=function(){Gi||(Gi=!0,Ya=o),$a(e,t)},s}function zc(e,t,s){s=_r(-1,s),s.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var c=t.value;s.payload=function(){return o(c)},s.callback=function(){$a(e,t)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(s.callback=function(){$a(e,t),typeof o!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var p=t.stack;this.componentDidCatch(t.value,{componentStack:p!==null?p:""})}),s}function Fc(e,t,s){var o=e.pingCache;if(o===null){o=e.pingCache=new Mp;var c=new Set;o.set(t,c)}else c=o.get(t),c===void 0&&(c=new Set,o.set(t,c));c.has(s)||(c.add(s),e=Zp.bind(null,e,t,s),t.then(e,e))}function Vc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Hc(e,t,s,o,c){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=_r(-1,1),t.tag=2,Vr(s,t,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=c,e)}var Bp=G.ReactCurrentOwner,_t=!1;function gt(e,t,s,o){t.child=e===null?cc(t,null,s,o):zn(t,e.child,s,o)}function Wc(e,t,s,o,c){s=s.render;var h=t.ref;return Vn(t,c),o=Ta(e,t,s,o,h,c),s=Ca(),e!==null&&!_t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,br(e,t,c)):(De&&s&&ca(t),t.flags|=1,gt(e,t,o,c),t.child)}function qc(e,t,s,o,c){if(e===null){var h=s.type;return typeof h=="function"&&!sl(h)&&h.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=h,Kc(e,t,h,o,c)):(e=eo(s.type,null,o,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,(e.lanes&c)===0){var p=h.memoizedProps;if(s=s.compare,s=s!==null?s:Es,s(p,o)&&e.ref===t.ref)return br(e,t,c)}return t.flags|=1,e=Jr(h,o),e.ref=t.ref,e.return=t,t.child=e}function Kc(e,t,s,o,c){if(e!==null){var h=e.memoizedProps;if(Es(h,o)&&e.ref===t.ref)if(_t=!1,t.pendingProps=o=h,(e.lanes&c)!==0)(e.flags&131072)!==0&&(_t=!0);else return t.lanes=e.lanes,br(e,t,c)}return La(e,t,s,o,c)}function Gc(e,t,s){var o=t.pendingProps,c=o.children,h=e!==null?e.memoizedState:null;if(o.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(Kn,Rt),Rt|=s;else{if((s&1073741824)===0)return e=h!==null?h.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ce(Kn,Rt),Rt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=h!==null?h.baseLanes:s,Ce(Kn,Rt),Rt|=o}else h!==null?(o=h.baseLanes|s,t.memoizedState=null):o=s,Ce(Kn,Rt),Rt|=o;return gt(e,t,c,s),t.child}function Jc(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function La(e,t,s,o,c){var h=wt(s)?sn:dt.current;return h=Ln(t,h),Vn(t,c),s=Ta(e,t,s,o,h,c),o=Ca(),e!==null&&!_t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,br(e,t,c)):(De&&o&&ca(t),t.flags|=1,gt(e,t,s,c),t.child)}function Qc(e,t,s,o,c){if(wt(s)){var h=!0;Ei(t)}else h=!1;if(Vn(t,c),t.stateNode===null)Vi(e,t),Uc(t,s,o),Ia(t,s,o,c),o=!0;else if(e===null){var p=t.stateNode,w=t.memoizedProps;p.props=w;var b=p.context,N=s.contextType;typeof N=="object"&&N!==null?N=Vt(N):(N=wt(s)?sn:dt.current,N=Ln(t,N));var $=s.getDerivedStateFromProps,U=typeof $=="function"||typeof p.getSnapshotBeforeUpdate=="function";U||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w!==o||b!==N)&&Mc(t,p,o,N),Fr=!1;var D=t.memoizedState;p.state=D,Ii(t,o,p,c),b=t.memoizedState,w!==o||D!==b||vt.current||Fr?(typeof $=="function"&&(Aa(t,s,$,o),b=t.memoizedState),(w=Fr||Lc(t,s,w,o,D,b,N))?(U||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=b),p.props=o,p.state=b,p.context=N,o=w):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{p=t.stateNode,hc(e,t),w=t.memoizedProps,N=t.type===t.elementType?w:Yt(t.type,w),p.props=N,U=t.pendingProps,D=p.context,b=s.contextType,typeof b=="object"&&b!==null?b=Vt(b):(b=wt(s)?sn:dt.current,b=Ln(t,b));var K=s.getDerivedStateFromProps;($=typeof K=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w!==U||D!==b)&&Mc(t,p,o,b),Fr=!1,D=t.memoizedState,p.state=D,Ii(t,o,p,c);var Q=t.memoizedState;w!==U||D!==Q||vt.current||Fr?(typeof K=="function"&&(Aa(t,s,K,o),Q=t.memoizedState),(N=Fr||Lc(t,s,N,o,D,Q,b)||!1)?($||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(o,Q,b),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(o,Q,b)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||w===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=Q),p.props=o,p.state=Q,p.context=b,o=N):(typeof p.componentDidUpdate!="function"||w===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),o=!1)}return Ua(e,t,s,o,h,c)}function Ua(e,t,s,o,c,h){Jc(e,t);var p=(t.flags&128)!==0;if(!o&&!p)return c&&tc(t,s,!1),br(e,t,h);o=t.stateNode,Bp.current=t;var w=p&&typeof s.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&p?(t.child=zn(t,e.child,null,h),t.child=zn(t,null,w,h)):gt(e,t,w,h),t.memoizedState=o.state,c&&tc(t,s,!0),t.child}function Yc(e){var t=e.stateNode;t.pendingContext?Zu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Zu(e,t.context,!1),ba(e,t.containerInfo)}function Xc(e,t,s,o,c){return Bn(),pa(c),t.flags|=256,gt(e,t,s,o),t.child}var Ma={dehydrated:null,treeContext:null,retryLane:0};function Ba(e){return{baseLanes:e,cachePool:null,transitions:null}}function Zc(e,t,s){var o=t.pendingProps,c=Le.current,h=!1,p=(t.flags&128)!==0,w;if((w=p)||(w=e!==null&&e.memoizedState===null?!1:(c&2)!==0),w?(h=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),Ce(Le,c&1),e===null)return fa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(p=o.children,e=o.fallback,h?(o=t.mode,h=t.child,p={mode:"hidden",children:p},(o&1)===0&&h!==null?(h.childLanes=0,h.pendingProps=p):h=to(p,o,0,null),e=mn(e,o,s,null),h.return=t,e.return=t,h.sibling=e,t.child=h,t.child.memoizedState=Ba(s),t.memoizedState=Ma,e):za(t,p));if(c=e.memoizedState,c!==null&&(w=c.dehydrated,w!==null))return zp(e,t,p,o,w,c,s);if(h){h=o.fallback,p=t.mode,c=e.child,w=c.sibling;var b={mode:"hidden",children:o.children};return(p&1)===0&&t.child!==c?(o=t.child,o.childLanes=0,o.pendingProps=b,t.deletions=null):(o=Jr(c,b),o.subtreeFlags=c.subtreeFlags&14680064),w!==null?h=Jr(w,h):(h=mn(h,p,s,null),h.flags|=2),h.return=t,o.return=t,o.sibling=h,t.child=o,o=h,h=t.child,p=e.child.memoizedState,p=p===null?Ba(s):{baseLanes:p.baseLanes|s,cachePool:null,transitions:p.transitions},h.memoizedState=p,h.childLanes=e.childLanes&~s,t.memoizedState=Ma,o}return h=e.child,e=h.sibling,o=Jr(h,{mode:"visible",children:o.children}),(t.mode&1)===0&&(o.lanes=s),o.return=t,o.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=o,t.memoizedState=null,o}function za(e,t){return t=to({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fi(e,t,s,o){return o!==null&&pa(o),zn(t,e.child,null,s),e=za(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zp(e,t,s,o,c,h,p){if(s)return t.flags&256?(t.flags&=-257,o=Da(Error(n(422))),Fi(e,t,p,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(h=o.fallback,c=t.mode,o=to({mode:"visible",children:o.children},c,0,null),h=mn(h,c,p,null),h.flags|=2,o.return=t,h.return=t,o.sibling=h,t.child=o,(t.mode&1)!==0&&zn(t,e.child,null,p),t.child.memoizedState=Ba(p),t.memoizedState=Ma,h);if((t.mode&1)===0)return Fi(e,t,p,null);if(c.data==="$!"){if(o=c.nextSibling&&c.nextSibling.dataset,o)var w=o.dgst;return o=w,h=Error(n(419)),o=Da(h,o,void 0),Fi(e,t,p,o)}if(w=(p&e.childLanes)!==0,_t||w){if(o=rt,o!==null){switch(p&-p){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=(c&(o.suspendedLanes|p))!==0?0:c,c!==0&&c!==h.retryLane&&(h.retryLane=c,wr(e,c),er(o,e,c,-1))}return nl(),o=Da(Error(n(421))),Fi(e,t,p,o)}return c.data==="$?"?(t.flags|=128,t.child=e.child,t=em.bind(null,e),c._reactRetry=t,null):(e=h.treeContext,Ot=Ur(c.nextSibling),Nt=t,De=!0,Qt=null,e!==null&&(zt[Ft++]=yr,zt[Ft++]=vr,zt[Ft++]=on,yr=e.id,vr=e.overflow,on=t),t=za(t,o.children),t.flags|=4096,t)}function ed(e,t,s){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),va(e.return,t,s)}function Fa(e,t,s,o,c){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:c}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=o,h.tail=s,h.tailMode=c)}function td(e,t,s){var o=t.pendingProps,c=o.revealOrder,h=o.tail;if(gt(e,t,o.children,s),o=Le.current,(o&2)!==0)o=o&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ed(e,s,t);else if(e.tag===19)ed(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(Ce(Le,o),(t.mode&1)===0)t.memoizedState=null;else switch(c){case"forwards":for(s=t.child,c=null;s!==null;)e=s.alternate,e!==null&&Di(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=t.child,t.child=null):(c=s.sibling,s.sibling=null),Fa(t,!1,c,s,h);break;case"backwards":for(s=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Di(e)===null){t.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}Fa(t,!0,s,null,h);break;case"together":Fa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vi(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function br(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),dn|=t.lanes,(s&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(n(153));if(t.child!==null){for(e=t.child,s=Jr(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Jr(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function Fp(e,t,s){switch(t.tag){case 3:Yc(t),Bn();break;case 5:mc(t);break;case 1:wt(t.type)&&Ei(t);break;case 4:ba(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,c=t.memoizedProps.value;Ce(Ri,o._currentValue),o._currentValue=c;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(Ce(Le,Le.current&1),t.flags|=128,null):(s&t.child.childLanes)!==0?Zc(e,t,s):(Ce(Le,Le.current&1),e=br(e,t,s),e!==null?e.sibling:null);Ce(Le,Le.current&1);break;case 19:if(o=(s&t.childLanes)!==0,(e.flags&128)!==0){if(o)return td(e,t,s);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Ce(Le,Le.current),o)break;return null;case 22:case 23:return t.lanes=0,Gc(e,t,s)}return br(e,t,s)}var rd,Va,nd,sd;rd=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},Va=function(){},nd=function(e,t,s,o){var c=e.memoizedProps;if(c!==o){e=t.stateNode,un(ar.current);var h=null;switch(s){case"input":c=jt(e,c),o=jt(e,o),h=[];break;case"select":c=H({},c,{value:void 0}),o=H({},o,{value:void 0}),h=[];break;case"textarea":c=Re(e,c),o=Re(e,o),h=[];break;default:typeof c.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Si)}Tn(s,o);var p;s=null;for(N in c)if(!o.hasOwnProperty(N)&&c.hasOwnProperty(N)&&c[N]!=null)if(N==="style"){var w=c[N];for(p in w)w.hasOwnProperty(p)&&(s||(s={}),s[p]="")}else N!=="dangerouslySetInnerHTML"&&N!=="children"&&N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(l.hasOwnProperty(N)?h||(h=[]):(h=h||[]).push(N,null));for(N in o){var b=o[N];if(w=c?.[N],o.hasOwnProperty(N)&&b!==w&&(b!=null||w!=null))if(N==="style")if(w){for(p in w)!w.hasOwnProperty(p)||b&&b.hasOwnProperty(p)||(s||(s={}),s[p]="");for(p in b)b.hasOwnProperty(p)&&w[p]!==b[p]&&(s||(s={}),s[p]=b[p])}else s||(h||(h=[]),h.push(N,s)),s=b;else N==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,w=w?w.__html:void 0,b!=null&&w!==b&&(h=h||[]).push(N,b)):N==="children"?typeof b!="string"&&typeof b!="number"||(h=h||[]).push(N,""+b):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&(l.hasOwnProperty(N)?(b!=null&&N==="onScroll"&&Pe("scroll",e),h||w===b||(h=[])):(h=h||[]).push(N,b))}s&&(h=h||[]).push("style",s);var N=h;(t.updateQueue=N)&&(t.flags|=4)}},sd=function(e,t,s,o){s!==o&&(t.flags|=4)};function Bs(e,t){if(!De)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ft(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(t)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,o|=c.subtreeFlags&14680064,o|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=s,t}function Vp(e,t,s){var o=t.pendingProps;switch(da(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(t),null;case 1:return wt(t.type)&&xi(),ft(t),null;case 3:return o=t.stateNode,Hn(),Ae(vt),Ae(dt),xa(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Ni(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Qt!==null&&(el(Qt),Qt=null))),Va(e,t),ft(t),null;case 5:Sa(t);var c=un(Ds.current);if(s=t.type,e!==null&&t.stateNode!=null)nd(e,t,s,o,c),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(n(166));return ft(t),null}if(e=un(ar.current),Ni(t)){o=t.stateNode,s=t.type;var h=t.memoizedProps;switch(o[or]=t,o[Os]=h,e=(t.mode&1)!==0,s){case"dialog":Pe("cancel",o),Pe("close",o);break;case"iframe":case"object":case"embed":Pe("load",o);break;case"video":case"audio":for(c=0;c<Ts.length;c++)Pe(Ts[c],o);break;case"source":Pe("error",o);break;case"img":case"image":case"link":Pe("error",o),Pe("load",o);break;case"details":Pe("toggle",o);break;case"input":En(o,h),Pe("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!h.multiple},Pe("invalid",o);break;case"textarea":_e(o,h),Pe("invalid",o)}Tn(s,h),c=null;for(var p in h)if(h.hasOwnProperty(p)){var w=h[p];p==="children"?typeof w=="string"?o.textContent!==w&&(h.suppressHydrationWarning!==!0&&bi(o.textContent,w,e),c=["children",w]):typeof w=="number"&&o.textContent!==""+w&&(h.suppressHydrationWarning!==!0&&bi(o.textContent,w,e),c=["children",""+w]):l.hasOwnProperty(p)&&w!=null&&p==="onScroll"&&Pe("scroll",o)}switch(s){case"input":Dt(o),R(o,h,!0);break;case"textarea":Dt(o),hr(o);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(o.onclick=Si)}o=c,t.updateQueue=o,o!==null&&(t.flags|=4)}else{p=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=fr(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=p.createElement(s,{is:o.is}):(e=p.createElement(s),s==="select"&&(p=e,o.multiple?p.multiple=!0:o.size&&(p.size=o.size))):e=p.createElementNS(e,s),e[or]=t,e[Os]=o,rd(e,t,!1,!1),t.stateNode=e;e:{switch(p=us(s,o),s){case"dialog":Pe("cancel",e),Pe("close",e),c=o;break;case"iframe":case"object":case"embed":Pe("load",e),c=o;break;case"video":case"audio":for(c=0;c<Ts.length;c++)Pe(Ts[c],e);c=o;break;case"source":Pe("error",e),c=o;break;case"img":case"image":case"link":Pe("error",e),Pe("load",e),c=o;break;case"details":Pe("toggle",e),c=o;break;case"input":En(e,o),c=jt(e,o),Pe("invalid",e);break;case"option":c=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},c=H({},o,{value:void 0}),Pe("invalid",e);break;case"textarea":_e(e,o),c=Re(e,o),Pe("invalid",e);break;default:c=o}Tn(s,c),w=c;for(h in w)if(w.hasOwnProperty(h)){var b=w[h];h==="style"?ti(e,b):h==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,b!=null&&jn(e,b)):h==="children"?typeof b=="string"?(s!=="textarea"||b!=="")&&Ut(e,b):typeof b=="number"&&Ut(e,""+b):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(l.hasOwnProperty(h)?b!=null&&h==="onScroll"&&Pe("scroll",e):b!=null&&M(e,h,b,p))}switch(s){case"input":Dt(e),R(e,o,!1);break;case"textarea":Dt(e),hr(e);break;case"option":o.value!=null&&e.setAttribute("value",""+ie(o.value));break;case"select":e.multiple=!!o.multiple,h=o.value,h!=null?ue(e,!!o.multiple,h,!1):o.defaultValue!=null&&ue(e,!!o.multiple,o.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=Si)}switch(s){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ft(t),null;case 6:if(e&&t.stateNode!=null)sd(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(n(166));if(s=un(Ds.current),un(ar.current),Ni(t)){if(o=t.stateNode,s=t.memoizedProps,o[or]=t,(h=o.nodeValue!==s)&&(e=Nt,e!==null))switch(e.tag){case 3:bi(o.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&bi(o.nodeValue,s,(e.mode&1)!==0)}h&&(t.flags|=4)}else o=(s.nodeType===9?s:s.ownerDocument).createTextNode(o),o[or]=t,t.stateNode=o}return ft(t),null;case 13:if(Ae(Le),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(De&&Ot!==null&&(t.mode&1)!==0&&(t.flags&128)===0)ac(),Bn(),t.flags|=98560,h=!1;else if(h=Ni(t),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(n(318));if(h=t.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));h[or]=t}else Bn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ft(t),h=!1}else Qt!==null&&(el(Qt),Qt=null),h=!0;if(!h)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=s,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Le.current&1)!==0?Xe===0&&(Xe=3):nl())),t.updateQueue!==null&&(t.flags|=4),ft(t),null);case 4:return Hn(),Va(e,t),e===null&&Cs(t.stateNode.containerInfo),ft(t),null;case 10:return ya(t.type._context),ft(t),null;case 17:return wt(t.type)&&xi(),ft(t),null;case 19:if(Ae(Le),h=t.memoizedState,h===null)return ft(t),null;if(o=(t.flags&128)!==0,p=h.rendering,p===null)if(o)Bs(h,!1);else{if(Xe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(p=Di(e),p!==null){for(t.flags|=128,Bs(h,!1),o=p.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=s,s=t.child;s!==null;)h=s,e=o,h.flags&=14680066,p=h.alternate,p===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=p.childLanes,h.lanes=p.lanes,h.child=p.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=p.memoizedProps,h.memoizedState=p.memoizedState,h.updateQueue=p.updateQueue,h.type=p.type,e=p.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Ce(Le,Le.current&1|2),t.child}e=e.sibling}h.tail!==null&&Ve()>Gn&&(t.flags|=128,o=!0,Bs(h,!1),t.lanes=4194304)}else{if(!o)if(e=Di(p),e!==null){if(t.flags|=128,o=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),Bs(h,!0),h.tail===null&&h.tailMode==="hidden"&&!p.alternate&&!De)return ft(t),null}else 2*Ve()-h.renderingStartTime>Gn&&s!==1073741824&&(t.flags|=128,o=!0,Bs(h,!1),t.lanes=4194304);h.isBackwards?(p.sibling=t.child,t.child=p):(s=h.last,s!==null?s.sibling=p:t.child=p,h.last=p)}return h.tail!==null?(t=h.tail,h.rendering=t,h.tail=t.sibling,h.renderingStartTime=Ve(),t.sibling=null,s=Le.current,Ce(Le,o?s&1|2:s&1),t):(ft(t),null);case 22:case 23:return rl(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&(t.mode&1)!==0?(Rt&1073741824)!==0&&(ft(t),t.subtreeFlags&6&&(t.flags|=8192)):ft(t),null;case 24:return null;case 25:return null}throw Error(n(156,t.tag))}function Hp(e,t){switch(da(t),t.tag){case 1:return wt(t.type)&&xi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hn(),Ae(vt),Ae(dt),xa(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Sa(t),null;case 13:if(Ae(Le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(n(340));Bn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ae(Le),null;case 4:return Hn(),null;case 10:return ya(t.type._context),null;case 22:case 23:return rl(),null;case 24:return null;default:return null}}var Hi=!1,pt=!1,Wp=typeof WeakSet=="function"?WeakSet:Set,J=null;function qn(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(o){ze(e,t,o)}else s.current=null}function Ha(e,t,s){try{s()}catch(o){ze(e,t,o)}}var id=!1;function qp(e,t){if(ra=ci,e=Lu(),Go(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var c=o.anchorOffset,h=o.focusNode;o=o.focusOffset;try{s.nodeType,h.nodeType}catch{s=null;break e}var p=0,w=-1,b=-1,N=0,$=0,U=e,D=null;t:for(;;){for(var K;U!==s||c!==0&&U.nodeType!==3||(w=p+c),U!==h||o!==0&&U.nodeType!==3||(b=p+o),U.nodeType===3&&(p+=U.nodeValue.length),(K=U.firstChild)!==null;)D=U,U=K;for(;;){if(U===e)break t;if(D===s&&++N===c&&(w=p),D===h&&++$===o&&(b=p),(K=U.nextSibling)!==null)break;U=D,D=U.parentNode}U=K}s=w===-1||b===-1?null:{start:w,end:b}}else s=null}s=s||{start:0,end:0}}else s=null;for(na={focusedElem:e,selectionRange:s},ci=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var Q=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Q!==null){var Y=Q.memoizedProps,He=Q.memoizedState,T=t.stateNode,k=T.getSnapshotBeforeUpdate(t.elementType===t.type?Y:Yt(t.type,Y),He);T.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(z){ze(t,t.return,z)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return Q=id,id=!1,Q}function zs(e,t,s){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&e)===e){var h=c.destroy;c.destroy=void 0,h!==void 0&&Ha(t,s,h)}c=c.next}while(c!==o)}}function Wi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var o=s.create;s.destroy=o()}s=s.next}while(s!==t)}}function Wa(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function od(e){var t=e.alternate;t!==null&&(e.alternate=null,od(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[or],delete t[Os],delete t[aa],delete t[Cp],delete t[Np])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ad(e){return e.tag===5||e.tag===3||e.tag===4}function ld(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ad(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qa(e,t,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=Si));else if(o!==4&&(e=e.child,e!==null))for(qa(e,t,s),e=e.sibling;e!==null;)qa(e,t,s),e=e.sibling}function Ka(e,t,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Ka(e,t,s),e=e.sibling;e!==null;)Ka(e,t,s),e=e.sibling}var it=null,Xt=!1;function Hr(e,t,s){for(s=s.child;s!==null;)ud(e,t,s),s=s.sibling}function ud(e,t,s){if(ir&&typeof ir.onCommitFiberUnmount=="function")try{ir.onCommitFiberUnmount(si,s)}catch{}switch(s.tag){case 5:pt||qn(s,t);case 6:var o=it,c=Xt;it=null,Hr(e,t,s),it=o,Xt=c,it!==null&&(Xt?(e=it,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):it.removeChild(s.stateNode));break;case 18:it!==null&&(Xt?(e=it,s=s.stateNode,e.nodeType===8?oa(e.parentNode,s):e.nodeType===1&&oa(e,s),ws(e)):oa(it,s.stateNode));break;case 4:o=it,c=Xt,it=s.stateNode.containerInfo,Xt=!0,Hr(e,t,s),it=o,Xt=c;break;case 0:case 11:case 14:case 15:if(!pt&&(o=s.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){c=o=o.next;do{var h=c,p=h.destroy;h=h.tag,p!==void 0&&((h&2)!==0||(h&4)!==0)&&Ha(s,t,p),c=c.next}while(c!==o)}Hr(e,t,s);break;case 1:if(!pt&&(qn(s,t),o=s.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=s.memoizedProps,o.state=s.memoizedState,o.componentWillUnmount()}catch(w){ze(s,t,w)}Hr(e,t,s);break;case 21:Hr(e,t,s);break;case 22:s.mode&1?(pt=(o=pt)||s.memoizedState!==null,Hr(e,t,s),pt=o):Hr(e,t,s);break;default:Hr(e,t,s)}}function cd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Wp),t.forEach(function(o){var c=tm.bind(null,e,o);s.has(o)||(s.add(o),o.then(c,c))})}}function Zt(e,t){var s=t.deletions;if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];try{var h=e,p=t,w=p;e:for(;w!==null;){switch(w.tag){case 5:it=w.stateNode,Xt=!1;break e;case 3:it=w.stateNode.containerInfo,Xt=!0;break e;case 4:it=w.stateNode.containerInfo,Xt=!0;break e}w=w.return}if(it===null)throw Error(n(160));ud(h,p,c),it=null,Xt=!1;var b=c.alternate;b!==null&&(b.return=null),c.return=null}catch(N){ze(c,t,N)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)dd(t,e),t=t.sibling}function dd(e,t){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Zt(t,e),ur(e),o&4){try{zs(3,e,e.return),Wi(3,e)}catch(Y){ze(e,e.return,Y)}try{zs(5,e,e.return)}catch(Y){ze(e,e.return,Y)}}break;case 1:Zt(t,e),ur(e),o&512&&s!==null&&qn(s,s.return);break;case 5:if(Zt(t,e),ur(e),o&512&&s!==null&&qn(s,s.return),e.flags&32){var c=e.stateNode;try{Ut(c,"")}catch(Y){ze(e,e.return,Y)}}if(o&4&&(c=e.stateNode,c!=null)){var h=e.memoizedProps,p=s!==null?s.memoizedProps:h,w=e.type,b=e.updateQueue;if(e.updateQueue=null,b!==null)try{w==="input"&&h.type==="radio"&&h.name!=null&&Er(c,h),us(w,p);var N=us(w,h);for(p=0;p<b.length;p+=2){var $=b[p],U=b[p+1];$==="style"?ti(c,U):$==="dangerouslySetInnerHTML"?jn(c,U):$==="children"?Ut(c,U):M(c,$,U,N)}switch(w){case"input":Lt(c,h);break;case"textarea":sr(c,h);break;case"select":var D=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!h.multiple;var K=h.value;K!=null?ue(c,!!h.multiple,K,!1):D!==!!h.multiple&&(h.defaultValue!=null?ue(c,!!h.multiple,h.defaultValue,!0):ue(c,!!h.multiple,h.multiple?[]:"",!1))}c[Os]=h}catch(Y){ze(e,e.return,Y)}}break;case 6:if(Zt(t,e),ur(e),o&4){if(e.stateNode===null)throw Error(n(162));c=e.stateNode,h=e.memoizedProps;try{c.nodeValue=h}catch(Y){ze(e,e.return,Y)}}break;case 3:if(Zt(t,e),ur(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{ws(t.containerInfo)}catch(Y){ze(e,e.return,Y)}break;case 4:Zt(t,e),ur(e);break;case 13:Zt(t,e),ur(e),c=e.child,c.flags&8192&&(h=c.memoizedState!==null,c.stateNode.isHidden=h,!h||c.alternate!==null&&c.alternate.memoizedState!==null||(Qa=Ve())),o&4&&cd(e);break;case 22:if($=s!==null&&s.memoizedState!==null,e.mode&1?(pt=(N=pt)||$,Zt(t,e),pt=N):Zt(t,e),ur(e),o&8192){if(N=e.memoizedState!==null,(e.stateNode.isHidden=N)&&!$&&(e.mode&1)!==0)for(J=e,$=e.child;$!==null;){for(U=J=$;J!==null;){switch(D=J,K=D.child,D.tag){case 0:case 11:case 14:case 15:zs(4,D,D.return);break;case 1:qn(D,D.return);var Q=D.stateNode;if(typeof Q.componentWillUnmount=="function"){o=D,s=D.return;try{t=o,Q.props=t.memoizedProps,Q.state=t.memoizedState,Q.componentWillUnmount()}catch(Y){ze(o,s,Y)}}break;case 5:qn(D,D.return);break;case 22:if(D.memoizedState!==null){pd(U);continue}}K!==null?(K.return=D,J=K):pd(U)}$=$.sibling}e:for($=null,U=e;;){if(U.tag===5){if($===null){$=U;try{c=U.stateNode,N?(h=c.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(w=U.stateNode,b=U.memoizedProps.style,p=b!=null&&b.hasOwnProperty("display")?b.display:null,w.style.display=ei("display",p))}catch(Y){ze(e,e.return,Y)}}}else if(U.tag===6){if($===null)try{U.stateNode.nodeValue=N?"":U.memoizedProps}catch(Y){ze(e,e.return,Y)}}else if((U.tag!==22&&U.tag!==23||U.memoizedState===null||U===e)&&U.child!==null){U.child.return=U,U=U.child;continue}if(U===e)break e;for(;U.sibling===null;){if(U.return===null||U.return===e)break e;$===U&&($=null),U=U.return}$===U&&($=null),U.sibling.return=U.return,U=U.sibling}}break;case 19:Zt(t,e),ur(e),o&4&&cd(e);break;case 21:break;default:Zt(t,e),ur(e)}}function ur(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(ad(s)){var o=s;break e}s=s.return}throw Error(n(160))}switch(o.tag){case 5:var c=o.stateNode;o.flags&32&&(Ut(c,""),o.flags&=-33);var h=ld(e);Ka(e,h,c);break;case 3:case 4:var p=o.stateNode.containerInfo,w=ld(e);qa(e,w,p);break;default:throw Error(n(161))}}catch(b){ze(e,e.return,b)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Kp(e,t,s){J=e,hd(e)}function hd(e,t,s){for(var o=(e.mode&1)!==0;J!==null;){var c=J,h=c.child;if(c.tag===22&&o){var p=c.memoizedState!==null||Hi;if(!p){var w=c.alternate,b=w!==null&&w.memoizedState!==null||pt;w=Hi;var N=pt;if(Hi=p,(pt=b)&&!N)for(J=c;J!==null;)p=J,b=p.child,p.tag===22&&p.memoizedState!==null?md(c):b!==null?(b.return=p,J=b):md(c);for(;h!==null;)J=h,hd(h),h=h.sibling;J=c,Hi=w,pt=N}fd(e)}else(c.subtreeFlags&8772)!==0&&h!==null?(h.return=c,J=h):fd(e)}}function fd(e){for(;J!==null;){var t=J;if((t.flags&8772)!==0){var s=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:pt||Wi(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!pt)if(s===null)o.componentDidMount();else{var c=t.elementType===t.type?s.memoizedProps:Yt(t.type,s.memoizedProps);o.componentDidUpdate(c,s.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var h=t.updateQueue;h!==null&&pc(t,h,o);break;case 3:var p=t.updateQueue;if(p!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}pc(t,p,s)}break;case 5:var w=t.stateNode;if(s===null&&t.flags&4){s=w;var b=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":b.autoFocus&&s.focus();break;case"img":b.src&&(s.src=b.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var N=t.alternate;if(N!==null){var $=N.memoizedState;if($!==null){var U=$.dehydrated;U!==null&&ws(U)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}pt||t.flags&512&&Wa(t)}catch(D){ze(t,t.return,D)}}if(t===e){J=null;break}if(s=t.sibling,s!==null){s.return=t.return,J=s;break}J=t.return}}function pd(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var s=t.sibling;if(s!==null){s.return=t.return,J=s;break}J=t.return}}function md(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{Wi(4,t)}catch(b){ze(t,s,b)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var c=t.return;try{o.componentDidMount()}catch(b){ze(t,c,b)}}var h=t.return;try{Wa(t)}catch(b){ze(t,h,b)}break;case 5:var p=t.return;try{Wa(t)}catch(b){ze(t,p,b)}}}catch(b){ze(t,t.return,b)}if(t===e){J=null;break}var w=t.sibling;if(w!==null){w.return=t.return,J=w;break}J=t.return}}var Gp=Math.ceil,qi=G.ReactCurrentDispatcher,Ga=G.ReactCurrentOwner,Wt=G.ReactCurrentBatchConfig,ke=0,rt=null,Ge=null,ot=0,Rt=0,Kn=Mr(0),Xe=0,Fs=null,dn=0,Ki=0,Ja=0,Vs=null,bt=null,Qa=0,Gn=1/0,Sr=null,Gi=!1,Ya=null,Wr=null,Ji=!1,qr=null,Qi=0,Hs=0,Xa=null,Yi=-1,Xi=0;function yt(){return(ke&6)!==0?Ve():Yi!==-1?Yi:Yi=Ve()}function Kr(e){return(e.mode&1)===0?1:(ke&2)!==0&&ot!==0?ot&-ot:Rp.transition!==null?(Xi===0&&(Xi=lu()),Xi):(e=Te,e!==0||(e=window.event,e=e===void 0?16:yu(e.type)),e)}function er(e,t,s,o){if(50<Hs)throw Hs=0,Xa=null,Error(n(185));ps(e,s,o),((ke&2)===0||e!==rt)&&(e===rt&&((ke&2)===0&&(Ki|=s),Xe===4&&Gr(e,ot)),St(e,o),s===1&&ke===0&&(t.mode&1)===0&&(Gn=Ve()+500,ji&&zr()))}function St(e,t){var s=e.callbackNode;Rf(e,t);var o=ai(e,e===rt?ot:0);if(o===0)s!==null&&iu(s),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(s!=null&&iu(s),t===1)e.tag===0?Op(yd.bind(null,e)):rc(yd.bind(null,e)),jp(function(){(ke&6)===0&&zr()}),s=null;else{switch(uu(o)){case 1:s=Ro;break;case 4:s=ou;break;case 16:s=ni;break;case 536870912:s=au;break;default:s=ni}s=Ed(s,gd.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function gd(e,t){if(Yi=-1,Xi=0,(ke&6)!==0)throw Error(n(327));var s=e.callbackNode;if(Jn()&&e.callbackNode!==s)return null;var o=ai(e,e===rt?ot:0);if(o===0)return null;if((o&30)!==0||(o&e.expiredLanes)!==0||t)t=Zi(e,o);else{t=o;var c=ke;ke|=2;var h=wd();(rt!==e||ot!==t)&&(Sr=null,Gn=Ve()+500,fn(e,t));do try{Yp();break}catch(w){vd(e,w)}while(!0);ga(),qi.current=h,ke=c,Ge!==null?t=0:(rt=null,ot=0,t=Xe)}if(t!==0){if(t===2&&(c=Po(e),c!==0&&(o=c,t=Za(e,c))),t===1)throw s=Fs,fn(e,0),Gr(e,o),St(e,Ve()),s;if(t===6)Gr(e,o);else{if(c=e.current.alternate,(o&30)===0&&!Jp(c)&&(t=Zi(e,o),t===2&&(h=Po(e),h!==0&&(o=h,t=Za(e,h))),t===1))throw s=Fs,fn(e,0),Gr(e,o),St(e,Ve()),s;switch(e.finishedWork=c,e.finishedLanes=o,t){case 0:case 1:throw Error(n(345));case 2:pn(e,bt,Sr);break;case 3:if(Gr(e,o),(o&130023424)===o&&(t=Qa+500-Ve(),10<t)){if(ai(e,0)!==0)break;if(c=e.suspendedLanes,(c&o)!==o){yt(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=ia(pn.bind(null,e,bt,Sr),t);break}pn(e,bt,Sr);break;case 4:if(Gr(e,o),(o&4194240)===o)break;for(t=e.eventTimes,c=-1;0<o;){var p=31-Gt(o);h=1<<p,p=t[p],p>c&&(c=p),o&=~h}if(o=c,o=Ve()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Gp(o/1960))-o,10<o){e.timeoutHandle=ia(pn.bind(null,e,bt,Sr),o);break}pn(e,bt,Sr);break;case 5:pn(e,bt,Sr);break;default:throw Error(n(329))}}}return St(e,Ve()),e.callbackNode===s?gd.bind(null,e):null}function Za(e,t){var s=Vs;return e.current.memoizedState.isDehydrated&&(fn(e,t).flags|=256),e=Zi(e,t),e!==2&&(t=bt,bt=s,t!==null&&el(t)),e}function el(e){bt===null?bt=e:bt.push.apply(bt,e)}function Jp(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var o=0;o<s.length;o++){var c=s[o],h=c.getSnapshot;c=c.value;try{if(!Jt(h(),c))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gr(e,t){for(t&=~Ja,t&=~Ki,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-Gt(t),o=1<<s;e[s]=-1,t&=~o}}function yd(e){if((ke&6)!==0)throw Error(n(327));Jn();var t=ai(e,0);if((t&1)===0)return St(e,Ve()),null;var s=Zi(e,t);if(e.tag!==0&&s===2){var o=Po(e);o!==0&&(t=o,s=Za(e,o))}if(s===1)throw s=Fs,fn(e,0),Gr(e,t),St(e,Ve()),s;if(s===6)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,pn(e,bt,Sr),St(e,Ve()),null}function tl(e,t){var s=ke;ke|=1;try{return e(t)}finally{ke=s,ke===0&&(Gn=Ve()+500,ji&&zr())}}function hn(e){qr!==null&&qr.tag===0&&(ke&6)===0&&Jn();var t=ke;ke|=1;var s=Wt.transition,o=Te;try{if(Wt.transition=null,Te=1,e)return e()}finally{Te=o,Wt.transition=s,ke=t,(ke&6)===0&&zr()}}function rl(){Rt=Kn.current,Ae(Kn)}function fn(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Ep(s)),Ge!==null)for(s=Ge.return;s!==null;){var o=s;switch(da(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&xi();break;case 3:Hn(),Ae(vt),Ae(dt),xa();break;case 5:Sa(o);break;case 4:Hn();break;case 13:Ae(Le);break;case 19:Ae(Le);break;case 10:ya(o.type._context);break;case 22:case 23:rl()}s=s.return}if(rt=e,Ge=e=Jr(e.current,null),ot=Rt=t,Xe=0,Fs=null,Ja=Ki=dn=0,bt=Vs=null,ln!==null){for(t=0;t<ln.length;t++)if(s=ln[t],o=s.interleaved,o!==null){s.interleaved=null;var c=o.next,h=s.pending;if(h!==null){var p=h.next;h.next=c,o.next=p}s.pending=o}ln=null}return e}function vd(e,t){do{var s=Ge;try{if(ga(),$i.current=Bi,Li){for(var o=Ue.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}Li=!1}if(cn=0,tt=Ye=Ue=null,$s=!1,Ls=0,Ga.current=null,s===null||s.return===null){Xe=1,Fs=t,Ge=null;break}e:{var h=e,p=s.return,w=s,b=t;if(t=ot,w.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){var N=b,$=w,U=$.tag;if(($.mode&1)===0&&(U===0||U===11||U===15)){var D=$.alternate;D?($.updateQueue=D.updateQueue,$.memoizedState=D.memoizedState,$.lanes=D.lanes):($.updateQueue=null,$.memoizedState=null)}var K=Vc(p);if(K!==null){K.flags&=-257,Hc(K,p,w,h,t),K.mode&1&&Fc(h,N,t),t=K,b=N;var Q=t.updateQueue;if(Q===null){var Y=new Set;Y.add(b),t.updateQueue=Y}else Q.add(b);break e}else{if((t&1)===0){Fc(h,N,t),nl();break e}b=Error(n(426))}}else if(De&&w.mode&1){var He=Vc(p);if(He!==null){(He.flags&65536)===0&&(He.flags|=256),Hc(He,p,w,h,t),pa(Wn(b,w));break e}}h=b=Wn(b,w),Xe!==4&&(Xe=2),Vs===null?Vs=[h]:Vs.push(h),h=p;do{switch(h.tag){case 3:h.flags|=65536,t&=-t,h.lanes|=t;var T=Bc(h,b,t);fc(h,T);break e;case 1:w=b;var k=h.type,C=h.stateNode;if((h.flags&128)===0&&(typeof k.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Wr===null||!Wr.has(C)))){h.flags|=65536,t&=-t,h.lanes|=t;var z=zc(h,w,t);fc(h,z);break e}}h=h.return}while(h!==null)}bd(s)}catch(Z){t=Z,Ge===s&&s!==null&&(Ge=s=s.return);continue}break}while(!0)}function wd(){var e=qi.current;return qi.current=Bi,e===null?Bi:e}function nl(){(Xe===0||Xe===3||Xe===2)&&(Xe=4),rt===null||(dn&268435455)===0&&(Ki&268435455)===0||Gr(rt,ot)}function Zi(e,t){var s=ke;ke|=2;var o=wd();(rt!==e||ot!==t)&&(Sr=null,fn(e,t));do try{Qp();break}catch(c){vd(e,c)}while(!0);if(ga(),ke=s,qi.current=o,Ge!==null)throw Error(n(261));return rt=null,ot=0,Xe}function Qp(){for(;Ge!==null;)_d(Ge)}function Yp(){for(;Ge!==null&&!Sf();)_d(Ge)}function _d(e){var t=xd(e.alternate,e,Rt);e.memoizedProps=e.pendingProps,t===null?bd(e):Ge=t,Ga.current=null}function bd(e){var t=e;do{var s=t.alternate;if(e=t.return,(t.flags&32768)===0){if(s=Vp(s,t,Rt),s!==null){Ge=s;return}}else{if(s=Hp(s,t),s!==null){s.flags&=32767,Ge=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Xe=6,Ge=null;return}}if(t=t.sibling,t!==null){Ge=t;return}Ge=t=e}while(t!==null);Xe===0&&(Xe=5)}function pn(e,t,s){var o=Te,c=Wt.transition;try{Wt.transition=null,Te=1,Xp(e,t,s,o)}finally{Wt.transition=c,Te=o}return null}function Xp(e,t,s,o){do Jn();while(qr!==null);if((ke&6)!==0)throw Error(n(327));s=e.finishedWork;var c=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var h=s.lanes|s.childLanes;if(Pf(e,h),e===rt&&(Ge=rt=null,ot=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||Ji||(Ji=!0,Ed(ni,function(){return Jn(),null})),h=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||h){h=Wt.transition,Wt.transition=null;var p=Te;Te=1;var w=ke;ke|=4,Ga.current=null,qp(e,s),dd(s,e),vp(na),ci=!!ra,na=ra=null,e.current=s,Kp(s),kf(),ke=w,Te=p,Wt.transition=h}else e.current=s;if(Ji&&(Ji=!1,qr=e,Qi=c),h=e.pendingLanes,h===0&&(Wr=null),jf(s.stateNode),St(e,Ve()),t!==null)for(o=e.onRecoverableError,s=0;s<t.length;s++)c=t[s],o(c.value,{componentStack:c.stack,digest:c.digest});if(Gi)throw Gi=!1,e=Ya,Ya=null,e;return(Qi&1)!==0&&e.tag!==0&&Jn(),h=e.pendingLanes,(h&1)!==0?e===Xa?Hs++:(Hs=0,Xa=e):Hs=0,zr(),null}function Jn(){if(qr!==null){var e=uu(Qi),t=Wt.transition,s=Te;try{if(Wt.transition=null,Te=16>e?16:e,qr===null)var o=!1;else{if(e=qr,qr=null,Qi=0,(ke&6)!==0)throw Error(n(331));var c=ke;for(ke|=4,J=e.current;J!==null;){var h=J,p=h.child;if((J.flags&16)!==0){var w=h.deletions;if(w!==null){for(var b=0;b<w.length;b++){var N=w[b];for(J=N;J!==null;){var $=J;switch($.tag){case 0:case 11:case 15:zs(8,$,h)}var U=$.child;if(U!==null)U.return=$,J=U;else for(;J!==null;){$=J;var D=$.sibling,K=$.return;if(od($),$===N){J=null;break}if(D!==null){D.return=K,J=D;break}J=K}}}var Q=h.alternate;if(Q!==null){var Y=Q.child;if(Y!==null){Q.child=null;do{var He=Y.sibling;Y.sibling=null,Y=He}while(Y!==null)}}J=h}}if((h.subtreeFlags&2064)!==0&&p!==null)p.return=h,J=p;else e:for(;J!==null;){if(h=J,(h.flags&2048)!==0)switch(h.tag){case 0:case 11:case 15:zs(9,h,h.return)}var T=h.sibling;if(T!==null){T.return=h.return,J=T;break e}J=h.return}}var k=e.current;for(J=k;J!==null;){p=J;var C=p.child;if((p.subtreeFlags&2064)!==0&&C!==null)C.return=p,J=C;else e:for(p=k;J!==null;){if(w=J,(w.flags&2048)!==0)try{switch(w.tag){case 0:case 11:case 15:Wi(9,w)}}catch(Z){ze(w,w.return,Z)}if(w===p){J=null;break e}var z=w.sibling;if(z!==null){z.return=w.return,J=z;break e}J=w.return}}if(ke=c,zr(),ir&&typeof ir.onPostCommitFiberRoot=="function")try{ir.onPostCommitFiberRoot(si,e)}catch{}o=!0}return o}finally{Te=s,Wt.transition=t}}return!1}function Sd(e,t,s){t=Wn(s,t),t=Bc(e,t,1),e=Vr(e,t,1),t=yt(),e!==null&&(ps(e,1,t),St(e,t))}function ze(e,t,s){if(e.tag===3)Sd(e,e,s);else for(;t!==null;){if(t.tag===3){Sd(t,e,s);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Wr===null||!Wr.has(o))){e=Wn(s,e),e=zc(t,e,1),t=Vr(t,e,1),e=yt(),t!==null&&(ps(t,1,e),St(t,e));break}}t=t.return}}function Zp(e,t,s){var o=e.pingCache;o!==null&&o.delete(t),t=yt(),e.pingedLanes|=e.suspendedLanes&s,rt===e&&(ot&s)===s&&(Xe===4||Xe===3&&(ot&130023424)===ot&&500>Ve()-Qa?fn(e,0):Ja|=s),St(e,t)}function kd(e,t){t===0&&((e.mode&1)===0?t=1:(t=oi,oi<<=1,(oi&130023424)===0&&(oi=4194304)));var s=yt();e=wr(e,t),e!==null&&(ps(e,t,s),St(e,s))}function em(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),kd(e,s)}function tm(e,t){var s=0;switch(e.tag){case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(n(314))}o!==null&&o.delete(t),kd(e,s)}var xd;xd=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||vt.current)_t=!0;else{if((e.lanes&s)===0&&(t.flags&128)===0)return _t=!1,Fp(e,t,s);_t=(e.flags&131072)!==0}else _t=!1,De&&(t.flags&1048576)!==0&&nc(t,Ci,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;Vi(e,t),e=t.pendingProps;var c=Ln(t,dt.current);Vn(t,s),c=Ta(null,t,o,e,c,s);var h=Ca();return t.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,wt(o)?(h=!0,Ei(t)):h=!1,t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,_a(t),c.updater=zi,t.stateNode=c,c._reactInternals=t,Ia(t,o,e,s),t=Ua(null,t,o,!0,h,s)):(t.tag=0,De&&h&&ca(t),gt(null,t,c,s),t=t.child),t;case 16:o=t.elementType;e:{switch(Vi(e,t),e=t.pendingProps,c=o._init,o=c(o._payload),t.type=o,c=t.tag=nm(o),e=Yt(o,e),c){case 0:t=La(null,t,o,e,s);break e;case 1:t=Qc(null,t,o,e,s);break e;case 11:t=Wc(null,t,o,e,s);break e;case 14:t=qc(null,t,o,Yt(o.type,e),s);break e}throw Error(n(306,o,""))}return t;case 0:return o=t.type,c=t.pendingProps,c=t.elementType===o?c:Yt(o,c),La(e,t,o,c,s);case 1:return o=t.type,c=t.pendingProps,c=t.elementType===o?c:Yt(o,c),Qc(e,t,o,c,s);case 3:e:{if(Yc(t),e===null)throw Error(n(387));o=t.pendingProps,h=t.memoizedState,c=h.element,hc(e,t),Ii(t,o,null,s);var p=t.memoizedState;if(o=p.element,h.isDehydrated)if(h={element:o,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){c=Wn(Error(n(423)),t),t=Xc(e,t,o,s,c);break e}else if(o!==c){c=Wn(Error(n(424)),t),t=Xc(e,t,o,s,c);break e}else for(Ot=Ur(t.stateNode.containerInfo.firstChild),Nt=t,De=!0,Qt=null,s=cc(t,null,o,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Bn(),o===c){t=br(e,t,s);break e}gt(e,t,o,s)}t=t.child}return t;case 5:return mc(t),e===null&&fa(t),o=t.type,c=t.pendingProps,h=e!==null?e.memoizedProps:null,p=c.children,sa(o,c)?p=null:h!==null&&sa(o,h)&&(t.flags|=32),Jc(e,t),gt(e,t,p,s),t.child;case 6:return e===null&&fa(t),null;case 13:return Zc(e,t,s);case 4:return ba(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=zn(t,null,o,s):gt(e,t,o,s),t.child;case 11:return o=t.type,c=t.pendingProps,c=t.elementType===o?c:Yt(o,c),Wc(e,t,o,c,s);case 7:return gt(e,t,t.pendingProps,s),t.child;case 8:return gt(e,t,t.pendingProps.children,s),t.child;case 12:return gt(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(o=t.type._context,c=t.pendingProps,h=t.memoizedProps,p=c.value,Ce(Ri,o._currentValue),o._currentValue=p,h!==null)if(Jt(h.value,p)){if(h.children===c.children&&!vt.current){t=br(e,t,s);break e}}else for(h=t.child,h!==null&&(h.return=t);h!==null;){var w=h.dependencies;if(w!==null){p=h.child;for(var b=w.firstContext;b!==null;){if(b.context===o){if(h.tag===1){b=_r(-1,s&-s),b.tag=2;var N=h.updateQueue;if(N!==null){N=N.shared;var $=N.pending;$===null?b.next=b:(b.next=$.next,$.next=b),N.pending=b}}h.lanes|=s,b=h.alternate,b!==null&&(b.lanes|=s),va(h.return,s,t),w.lanes|=s;break}b=b.next}}else if(h.tag===10)p=h.type===t.type?null:h.child;else if(h.tag===18){if(p=h.return,p===null)throw Error(n(341));p.lanes|=s,w=p.alternate,w!==null&&(w.lanes|=s),va(p,s,t),p=h.sibling}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}gt(e,t,c.children,s),t=t.child}return t;case 9:return c=t.type,o=t.pendingProps.children,Vn(t,s),c=Vt(c),o=o(c),t.flags|=1,gt(e,t,o,s),t.child;case 14:return o=t.type,c=Yt(o,t.pendingProps),c=Yt(o.type,c),qc(e,t,o,c,s);case 15:return Kc(e,t,t.type,t.pendingProps,s);case 17:return o=t.type,c=t.pendingProps,c=t.elementType===o?c:Yt(o,c),Vi(e,t),t.tag=1,wt(o)?(e=!0,Ei(t)):e=!1,Vn(t,s),Uc(t,o,c),Ia(t,o,c,s),Ua(null,t,o,!0,e,s);case 19:return td(e,t,s);case 22:return Gc(e,t,s)}throw Error(n(156,t.tag))};function Ed(e,t){return su(e,t)}function rm(e,t,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(e,t,s,o){return new rm(e,t,s,o)}function sl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function nm(e){if(typeof e=="function")return sl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Oe)return 11;if(e===$e)return 14}return 2}function Jr(e,t){var s=e.alternate;return s===null?(s=qt(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function eo(e,t,s,o,c,h){var p=2;if(o=e,typeof e=="function")sl(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case me:return mn(s.children,c,h,t);case be:p=8,c|=8;break;case Ie:return e=qt(12,s,t,c|2),e.elementType=Ie,e.lanes=h,e;case Ee:return e=qt(13,s,t,c),e.elementType=Ee,e.lanes=h,e;case je:return e=qt(19,s,t,c),e.elementType=je,e.lanes=h,e;case ye:return to(s,c,h,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case We:p=10;break e;case Et:p=9;break e;case Oe:p=11;break e;case $e:p=14;break e;case ge:p=16,o=null;break e}throw Error(n(130,e==null?e:typeof e,""))}return t=qt(p,s,t,c),t.elementType=e,t.type=o,t.lanes=h,t}function mn(e,t,s,o){return e=qt(7,e,o,t),e.lanes=s,e}function to(e,t,s,o){return e=qt(22,e,o,t),e.elementType=ye,e.lanes=s,e.stateNode={isHidden:!1},e}function il(e,t,s){return e=qt(6,e,null,t),e.lanes=s,e}function ol(e,t,s){return t=qt(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function sm(e,t,s,o,c){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ao(0),this.expirationTimes=Ao(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ao(0),this.identifierPrefix=o,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function al(e,t,s,o,c,h,p,w,b){return e=new sm(e,t,s,w,b),t===1?(t=1,h===!0&&(t|=8)):t=0,h=qt(3,null,null,t),e.current=h,h.stateNode=e,h.memoizedState={element:o,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},_a(h),e}function im(e,t,s){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ne,key:o==null?null:""+o,children:e,containerInfo:t,implementation:s}}function jd(e){if(!e)return Br;e=e._reactInternals;e:{if(rn(e)!==e||e.tag!==1)throw Error(n(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(wt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(n(171))}if(e.tag===1){var s=e.type;if(wt(s))return ec(e,s,t)}return t}function Td(e,t,s,o,c,h,p,w,b){return e=al(s,o,!0,e,c,h,p,w,b),e.context=jd(null),s=e.current,o=yt(),c=Kr(s),h=_r(o,c),h.callback=t??null,Vr(s,h,c),e.current.lanes=c,ps(e,c,o),St(e,o),e}function ro(e,t,s,o){var c=t.current,h=yt(),p=Kr(c);return s=jd(s),t.context===null?t.context=s:t.pendingContext=s,t=_r(h,p),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=Vr(c,t,p),e!==null&&(er(e,c,p,h),Ai(e,c,p)),p}function no(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Cd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function ll(e,t){Cd(e,t),(e=e.alternate)&&Cd(e,t)}function om(){return null}var Nd=typeof reportError=="function"?reportError:function(e){console.error(e)};function ul(e){this._internalRoot=e}so.prototype.render=ul.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(n(409));ro(e,t,null,null)},so.prototype.unmount=ul.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hn(function(){ro(null,e,null,null)}),t[mr]=null}};function so(e){this._internalRoot=e}so.prototype.unstable_scheduleHydration=function(e){if(e){var t=hu();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Dr.length&&t!==0&&t<Dr[s].priority;s++);Dr.splice(s,0,e),s===0&&mu(e)}};function cl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function io(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Od(){}function am(e,t,s,o,c){if(c){if(typeof o=="function"){var h=o;o=function(){var N=no(p);h.call(N)}}var p=Td(t,o,e,0,null,!1,!1,"",Od);return e._reactRootContainer=p,e[mr]=p.current,Cs(e.nodeType===8?e.parentNode:e),hn(),p}for(;c=e.lastChild;)e.removeChild(c);if(typeof o=="function"){var w=o;o=function(){var N=no(b);w.call(N)}}var b=al(e,0,!1,null,null,!1,!1,"",Od);return e._reactRootContainer=b,e[mr]=b.current,Cs(e.nodeType===8?e.parentNode:e),hn(function(){ro(t,b,s,o)}),b}function oo(e,t,s,o,c){var h=s._reactRootContainer;if(h){var p=h;if(typeof c=="function"){var w=c;c=function(){var b=no(p);w.call(b)}}ro(t,p,e,c)}else p=am(s,t,e,c,o);return no(p)}cu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=fs(t.pendingLanes);s!==0&&(Io(t,s|1),St(t,Ve()),(ke&6)===0&&(Gn=Ve()+500,zr()))}break;case 13:hn(function(){var o=wr(e,1);if(o!==null){var c=yt();er(o,e,1,c)}}),ll(e,1)}},Do=function(e){if(e.tag===13){var t=wr(e,134217728);if(t!==null){var s=yt();er(t,e,134217728,s)}ll(e,134217728)}},du=function(e){if(e.tag===13){var t=Kr(e),s=wr(e,t);if(s!==null){var o=yt();er(s,e,t,o)}ll(e,t)}},hu=function(){return Te},fu=function(e,t){var s=Te;try{return Te=e,t()}finally{Te=s}},cs=function(e,t,s){switch(t){case"input":if(Lt(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var o=s[t];if(o!==e&&o.form===e.form){var c=ki(o);if(!c)throw Error(n(90));$t(o),Lt(o,c)}}}break;case"textarea":sr(e,s);break;case"select":t=s.value,t!=null&&ue(e,!!s.multiple,t,!1)}},Qe=tl,ct=hn;var lm={usingClientEntryPoint:!1,Events:[Rs,Dn,ki,pe,Fe,tl]},Ws={findFiberByHostInstance:nn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},um={bundleType:Ws.bundleType,version:Ws.version,rendererPackageName:Ws.rendererPackageName,rendererConfig:Ws.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ru(e),e===null?null:e.stateNode},findFiberByHostInstance:Ws.findFiberByHostInstance||om,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ao=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ao.isDisabled&&ao.supportsFiber)try{si=ao.inject(um),ir=ao}catch{}}return kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lm,kt.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cl(t))throw Error(n(200));return im(e,t,null,s)},kt.createRoot=function(e,t){if(!cl(e))throw Error(n(299));var s=!1,o="",c=Nd;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=al(e,1,!1,null,null,s,!1,o,c),e[mr]=t.current,Cs(e.nodeType===8?e.parentNode:e),new ul(t)},kt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=ru(t),e=e===null?null:e.stateNode,e},kt.flushSync=function(e){return hn(e)},kt.hydrate=function(e,t,s){if(!io(t))throw Error(n(200));return oo(null,e,t,!0,s)},kt.hydrateRoot=function(e,t,s){if(!cl(e))throw Error(n(405));var o=s!=null&&s.hydratedSources||null,c=!1,h="",p=Nd;if(s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),t=Td(t,null,e,1,s??null,c,!1,h,p),e[mr]=t.current,Cs(e),o)for(e=0;e<o.length;e++)s=o[e],c=s._getVersion,c=c(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,c]:t.mutableSourceEagerHydrationData.push(s,c);return new so(t)},kt.render=function(e,t,s){if(!io(t))throw Error(n(200));return oo(null,e,t,!1,s)},kt.unmountComponentAtNode=function(e){if(!io(e))throw Error(n(40));return e._reactRootContainer?(hn(function(){oo(null,null,e,!1,function(){e._reactRootContainer=null,e[mr]=null})}),!0):!1},kt.unstable_batchedUpdates=tl,kt.unstable_renderSubtreeIntoContainer=function(e,t,s,o){if(!io(s))throw Error(n(200));if(e==null||e._reactInternals===void 0)throw Error(n(38));return oo(e,t,s,!1,o)},kt.version="18.3.1-next-f1338f8080-20240426",kt}var Ud;function bh(){if(Ud)return fl.exports;Ud=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(r){console.error(r)}}return a(),fl.exports=vm(),fl.exports}var Md;function wm(){if(Md)return lo;Md=1;var a=bh();return lo.createRoot=a.createRoot,lo.hydrateRoot=a.hydrateRoot,lo}var _m=wm();const bm=To(_m);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),km=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,n,i)=>i?i.toUpperCase():n.toLowerCase()),Bd=a=>{const r=km(a);return r.charAt(0).toUpperCase()+r.slice(1)},Sh=(...a)=>a.filter((r,n,i)=>!!r&&r.trim()!==""&&i.indexOf(r)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=he.forwardRef(({color:a="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:l="",children:u,iconNode:d,...f},m)=>he.createElement("svg",{ref:m,...xm,width:r,height:r,stroke:a,strokeWidth:i?Number(n)*24/Number(r):n,className:Sh("lucide",l),...f},[...d.map(([g,_])=>he.createElement(g,_)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=(a,r)=>{const n=he.forwardRef(({className:i,...l},u)=>he.createElement(Em,{ref:u,iconNode:r,className:Sh(`lucide-${Sm(Bd(a))}`,`lucide-${a}`,i),...l}));return n.displayName=Bd(a),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Tm=ut("activity",jm);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Nm=ut("check",Cm);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],gl=ut("circle-alert",Om);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],yl=ut("circle-check-big",Rm);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Am=ut("copy",Pm);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Dm=ut("database",Im);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Lm=ut("ellipsis-vertical",$m);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Mm=ut("eye-off",Um);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],zm=ut("eye",Bm);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Vm=ut("log-out",Fm);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Wm=ut("pencil",Hm);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],Nl=ut("pill",qm);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],zd=ut("plus",Km);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],Jm=ut("sliders-horizontal",Gm);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Ym=ut("trash-2",Qm);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Zm=ut("users",Xm);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],tg=ut("x",eg);var rg=bh();const ng=To(rg);function sg(a){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",r.appendChild(n),n.styleSheet?n.styleSheet.cssText=a:n.appendChild(document.createTextNode(a))}const ig=a=>{switch(a){case"success":return lg;case"info":return cg;case"warning":return ug;case"error":return dg;default:return null}},og=Array(12).fill(0),ag=({visible:a,className:r})=>V.createElement("div",{className:["sonner-loading-wrapper",r].filter(Boolean).join(" "),"data-visible":a},V.createElement("div",{className:"sonner-spinner"},og.map((n,i)=>V.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),lg=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),ug=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),cg=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),dg=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),hg=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},V.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),V.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),fg=()=>{const[a,r]=V.useState(document.hidden);return V.useEffect(()=>{const n=()=>{r(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),a};let Ol=1;class pg{constructor(){this.subscribe=r=>(this.subscribers.push(r),()=>{const n=this.subscribers.indexOf(r);this.subscribers.splice(n,1)}),this.publish=r=>{this.subscribers.forEach(n=>n(r))},this.addToast=r=>{this.publish(r),this.toasts=[...this.toasts,r]},this.create=r=>{var n;const{message:i,...l}=r,u=typeof r?.id=="number"||((n=r.id)==null?void 0:n.length)>0?r.id:Ol++,d=this.toasts.find(m=>m.id===u),f=r.dismissible===void 0?!0:r.dismissible;return this.dismissedToasts.has(u)&&this.dismissedToasts.delete(u),d?this.toasts=this.toasts.map(m=>m.id===u?(this.publish({...m,...r,id:u,title:i}),{...m,...r,id:u,dismissible:f,title:i}):m):this.addToast({title:i,...l,dismissible:f,id:u}),u},this.dismiss=r=>(r?(this.dismissedToasts.add(r),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:r,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(i=>i({id:n.id,dismiss:!0}))}),r),this.message=(r,n)=>this.create({...n,message:r}),this.error=(r,n)=>this.create({...n,message:r,type:"error"}),this.success=(r,n)=>this.create({...n,type:"success",message:r}),this.info=(r,n)=>this.create({...n,type:"info",message:r}),this.warning=(r,n)=>this.create({...n,type:"warning",message:r}),this.loading=(r,n)=>this.create({...n,type:"loading",message:r}),this.promise=(r,n)=>{if(!n)return;let i;n.loading!==void 0&&(i=this.create({...n,promise:r,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const l=Promise.resolve(r instanceof Function?r():r);let u=i!==void 0,d;const f=l.then(async g=>{if(d=["resolve",g],V.isValidElement(g))u=!1,this.create({id:i,type:"default",message:g});else if(gg(g)&&!g.ok){u=!1;const y=typeof n.error=="function"?await n.error(`HTTP error! status: ${g.status}`):n.error,S=typeof n.description=="function"?await n.description(`HTTP error! status: ${g.status}`):n.description,O=typeof y=="object"&&!V.isValidElement(y)?y:{message:y};this.create({id:i,type:"error",description:S,...O})}else if(g instanceof Error){u=!1;const y=typeof n.error=="function"?await n.error(g):n.error,S=typeof n.description=="function"?await n.description(g):n.description,O=typeof y=="object"&&!V.isValidElement(y)?y:{message:y};this.create({id:i,type:"error",description:S,...O})}else if(n.success!==void 0){u=!1;const y=typeof n.success=="function"?await n.success(g):n.success,S=typeof n.description=="function"?await n.description(g):n.description,O=typeof y=="object"&&!V.isValidElement(y)?y:{message:y};this.create({id:i,type:"success",description:S,...O})}}).catch(async g=>{if(d=["reject",g],n.error!==void 0){u=!1;const _=typeof n.error=="function"?await n.error(g):n.error,y=typeof n.description=="function"?await n.description(g):n.description,x=typeof _=="object"&&!V.isValidElement(_)?_:{message:_};this.create({id:i,type:"error",description:y,...x})}}).finally(()=>{u&&(this.dismiss(i),i=void 0),n.finally==null||n.finally.call(n)}),m=()=>new Promise((g,_)=>f.then(()=>d[0]==="reject"?_(d[1]):g(d[1])).catch(_));return typeof i!="string"&&typeof i!="number"?{unwrap:m}:Object.assign(i,{unwrap:m})},this.custom=(r,n)=>{const i=n?.id||Ol++;return this.create({jsx:r(i),id:i,...n}),i},this.getActiveToasts=()=>this.toasts.filter(r=>!this.dismissedToasts.has(r.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const xt=new pg,mg=(a,r)=>{const n=r?.id||Ol++;return xt.addToast({title:a,...r,id:n}),n},gg=a=>a&&typeof a=="object"&&"ok"in a&&typeof a.ok=="boolean"&&"status"in a&&typeof a.status=="number",yg=mg,vg=()=>xt.toasts,wg=()=>xt.getActiveToasts(),Me=Object.assign(yg,{success:xt.success,info:xt.info,warning:xt.warning,error:xt.error,custom:xt.custom,message:xt.message,promise:xt.promise,dismiss:xt.dismiss,loading:xt.loading},{getHistory:vg,getToasts:wg});sg("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function uo(a){return a.label!==void 0}const _g=3,bg="24px",Sg="16px",Fd=4e3,kg=356,xg=14,Eg=45,jg=200;function cr(...a){return a.filter(Boolean).join(" ")}function Tg(a){const[r,n]=a.split("-"),i=[];return r&&i.push(r),n&&i.push(n),i}const Cg=a=>{var r,n,i,l,u,d,f,m,g;const{invert:_,toast:y,unstyled:S,interacting:x,setHeights:O,visibleToasts:P,heights:j,index:A,toasts:B,expanded:M,removeToast:G,defaultRichColors:fe,closeButton:ne,style:me,cancelButtonStyle:be,actionButtonStyle:Ie,className:We="",descriptionClassName:Et="",duration:Oe,position:Ee,gap:je,expandByDefault:$e,classNames:ge,icons:ye,closeButtonAriaLabel:F="Close toast"}=a,[te,H]=V.useState(null),[E,I]=V.useState(null),[W,X]=V.useState(!1),[se,ce]=V.useState(!1),[we,ie]=V.useState(!1),[Se,qe]=V.useState(!1),[Dt,$t]=V.useState(!1),[Kt,jt]=V.useState(0),[En,Er]=V.useState(0),Lt=V.useRef(y.duration||Oe||Fd),R=V.useRef(null),L=V.useRef(null),q=A===0,ue=A+1<=P,Re=y.type,_e=y.dismissible!==!1,sr=y.className||"",hr=y.descriptionClassName||"",fr=V.useMemo(()=>j.findIndex(pe=>pe.toastId===y.id)||0,[j,y.id]),ls=V.useMemo(()=>{var pe;return(pe=y.closeButton)!=null?pe:ne},[y.closeButton,ne]),en=V.useMemo(()=>y.duration||Oe||Fd,[y.duration,Oe]),jn=V.useRef(0),Ut=V.useRef(0),jr=V.useRef(0),Tr=V.useRef(null),[ei,ti]=Ee.split("-"),ri=V.useMemo(()=>j.reduce((pe,Fe,Qe)=>Qe>=fr?pe:pe+Fe.height,0),[j,fr]),Tn=fg(),us=y.invert||_,tn=Re==="loading";Ut.current=V.useMemo(()=>fr*je+ri,[fr,ri]),V.useEffect(()=>{Lt.current=en},[en]),V.useEffect(()=>{X(!0)},[]),V.useEffect(()=>{const pe=L.current;if(pe){const Fe=pe.getBoundingClientRect().height;return Er(Fe),O(Qe=>[{toastId:y.id,height:Fe,position:y.position},...Qe]),()=>O(Qe=>Qe.filter(ct=>ct.toastId!==y.id))}},[O,y.id]),V.useLayoutEffect(()=>{if(!W)return;const pe=L.current,Fe=pe.style.height;pe.style.height="auto";const Qe=pe.getBoundingClientRect().height;pe.style.height=Fe,Er(Qe),O(ct=>ct.find(Ke=>Ke.toastId===y.id)?ct.map(Ke=>Ke.toastId===y.id?{...Ke,height:Qe}:Ke):[{toastId:y.id,height:Qe,position:y.position},...ct])},[W,y.title,y.description,O,y.id,y.jsx,y.action,y.cancel]);const Mt=V.useCallback(()=>{ce(!0),jt(Ut.current),O(pe=>pe.filter(Fe=>Fe.toastId!==y.id)),setTimeout(()=>{G(y)},jg)},[y,G,O,Ut]);V.useEffect(()=>{if(y.promise&&Re==="loading"||y.duration===1/0||y.type==="loading")return;let pe;return M||x||Tn?(()=>{if(jr.current<jn.current){const ct=new Date().getTime()-jn.current;Lt.current=Lt.current-ct}jr.current=new Date().getTime()})():(()=>{Lt.current!==1/0&&(jn.current=new Date().getTime(),pe=setTimeout(()=>{y.onAutoClose==null||y.onAutoClose.call(y,y),Mt()},Lt.current))})(),()=>clearTimeout(pe)},[M,x,y,Re,Tn,Mt]),V.useEffect(()=>{y.delete&&(Mt(),y.onDismiss==null||y.onDismiss.call(y,y))},[Mt,y.delete]);function cs(){var pe;if(ye?.loading){var Fe;return V.createElement("div",{className:cr(ge?.loader,y==null||(Fe=y.classNames)==null?void 0:Fe.loader,"sonner-loader"),"data-visible":Re==="loading"},ye.loading)}return V.createElement(ag,{className:cr(ge?.loader,y==null||(pe=y.classNames)==null?void 0:pe.loader),visible:Re==="loading"})}const Cr=y.icon||ye?.[Re]||ig(Re);var pr,ds;return V.createElement("li",{tabIndex:0,ref:L,className:cr(We,sr,ge?.toast,y==null||(r=y.classNames)==null?void 0:r.toast,ge?.default,ge?.[Re],y==null||(n=y.classNames)==null?void 0:n[Re]),"data-sonner-toast":"","data-rich-colors":(pr=y.richColors)!=null?pr:fe,"data-styled":!(y.jsx||y.unstyled||S),"data-mounted":W,"data-promise":!!y.promise,"data-swiped":Dt,"data-removed":se,"data-visible":ue,"data-y-position":ei,"data-x-position":ti,"data-index":A,"data-front":q,"data-swiping":we,"data-dismissible":_e,"data-type":Re,"data-invert":us,"data-swipe-out":Se,"data-swipe-direction":E,"data-expanded":!!(M||$e&&W),"data-testid":y.testId,style:{"--index":A,"--toasts-before":A,"--z-index":B.length-A,"--offset":`${se?Kt:Ut.current}px`,"--initial-height":$e?"auto":`${En}px`,...me,...y.style},onDragEnd:()=>{ie(!1),H(null),Tr.current=null},onPointerDown:pe=>{pe.button!==2&&(tn||!_e||(R.current=new Date,jt(Ut.current),pe.target.setPointerCapture(pe.pointerId),pe.target.tagName!=="BUTTON"&&(ie(!0),Tr.current={x:pe.clientX,y:pe.clientY})))},onPointerUp:()=>{var pe,Fe,Qe;if(Se||!_e)return;Tr.current=null;const ct=Number(((pe=L.current)==null?void 0:pe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Nr=Number(((Fe=L.current)==null?void 0:Fe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ke=new Date().getTime()-((Qe=R.current)==null?void 0:Qe.getTime()),et=te==="x"?ct:Nr,Or=Math.abs(et)/Ke;if(Math.abs(et)>=Eg||Or>.11){jt(Ut.current),y.onDismiss==null||y.onDismiss.call(y,y),I(te==="x"?ct>0?"right":"left":Nr>0?"down":"up"),Mt(),qe(!0);return}else{var st,Tt;(st=L.current)==null||st.style.setProperty("--swipe-amount-x","0px"),(Tt=L.current)==null||Tt.style.setProperty("--swipe-amount-y","0px")}$t(!1),ie(!1),H(null)},onPointerMove:pe=>{var Fe,Qe,ct;if(!Tr.current||!_e||((Fe=window.getSelection())==null?void 0:Fe.toString().length)>0)return;const Ke=pe.clientY-Tr.current.y,et=pe.clientX-Tr.current.x;var Or;const st=(Or=a.swipeDirections)!=null?Or:Tg(Ee);!te&&(Math.abs(et)>1||Math.abs(Ke)>1)&&H(Math.abs(et)>Math.abs(Ke)?"x":"y");let Tt={x:0,y:0};const Rr=Bt=>1/(1.5+Math.abs(Bt)/20);if(te==="y"){if(st.includes("top")||st.includes("bottom"))if(st.includes("top")&&Ke<0||st.includes("bottom")&&Ke>0)Tt.y=Ke;else{const Bt=Ke*Rr(Ke);Tt.y=Math.abs(Bt)<Math.abs(Ke)?Bt:Ke}}else if(te==="x"&&(st.includes("left")||st.includes("right")))if(st.includes("left")&&et<0||st.includes("right")&&et>0)Tt.x=et;else{const Bt=et*Rr(et);Tt.x=Math.abs(Bt)<Math.abs(et)?Bt:et}(Math.abs(Tt.x)>0||Math.abs(Tt.y)>0)&&$t(!0),(Qe=L.current)==null||Qe.style.setProperty("--swipe-amount-x",`${Tt.x}px`),(ct=L.current)==null||ct.style.setProperty("--swipe-amount-y",`${Tt.y}px`)}},ls&&!y.jsx&&Re!=="loading"?V.createElement("button",{"aria-label":F,"data-disabled":tn,"data-close-button":!0,onClick:tn||!_e?()=>{}:()=>{Mt(),y.onDismiss==null||y.onDismiss.call(y,y)},className:cr(ge?.closeButton,y==null||(i=y.classNames)==null?void 0:i.closeButton)},(ds=ye?.close)!=null?ds:hg):null,(Re||y.icon||y.promise)&&y.icon!==null&&(ye?.[Re]!==null||y.icon)?V.createElement("div",{"data-icon":"",className:cr(ge?.icon,y==null||(l=y.classNames)==null?void 0:l.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||cs():null,y.type!=="loading"?Cr:null):null,V.createElement("div",{"data-content":"",className:cr(ge?.content,y==null||(u=y.classNames)==null?void 0:u.content)},V.createElement("div",{"data-title":"",className:cr(ge?.title,y==null||(d=y.classNames)==null?void 0:d.title)},y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title),y.description?V.createElement("div",{"data-description":"",className:cr(Et,hr,ge?.description,y==null||(f=y.classNames)==null?void 0:f.description)},typeof y.description=="function"?y.description():y.description):null),V.isValidElement(y.cancel)?y.cancel:y.cancel&&uo(y.cancel)?V.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||be,onClick:pe=>{uo(y.cancel)&&_e&&(y.cancel.onClick==null||y.cancel.onClick.call(y.cancel,pe),Mt())},className:cr(ge?.cancelButton,y==null||(m=y.classNames)==null?void 0:m.cancelButton)},y.cancel.label):null,V.isValidElement(y.action)?y.action:y.action&&uo(y.action)?V.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||Ie,onClick:pe=>{uo(y.action)&&(y.action.onClick==null||y.action.onClick.call(y.action,pe),!pe.defaultPrevented&&Mt())},className:cr(ge?.actionButton,y==null||(g=y.classNames)==null?void 0:g.actionButton)},y.action.label):null)};function Vd(){if(typeof window>"u"||typeof document>"u")return"ltr";const a=document.documentElement.getAttribute("dir");return a==="auto"||!a?window.getComputedStyle(document.documentElement).direction:a}function Ng(a,r){const n={};return[a,r].forEach((i,l)=>{const u=l===1,d=u?"--mobile-offset":"--offset",f=u?Sg:bg;function m(g){["top","right","bottom","left"].forEach(_=>{n[`${d}-${_}`]=typeof g=="number"?`${g}px`:g})}typeof i=="number"||typeof i=="string"?m(i):typeof i=="object"?["top","right","bottom","left"].forEach(g=>{i[g]===void 0?n[`${d}-${g}`]=f:n[`${d}-${g}`]=typeof i[g]=="number"?`${i[g]}px`:i[g]}):m(f)}),n}const vl=V.forwardRef(function(r,n){const{id:i,invert:l,position:u="bottom-right",hotkey:d=["altKey","KeyT"],expand:f,closeButton:m,className:g,offset:_,mobileOffset:y,theme:S="light",richColors:x,duration:O,style:P,visibleToasts:j=_g,toastOptions:A,dir:B=Vd(),gap:M=xg,icons:G,containerAriaLabel:fe="Notifications"}=r,[ne,me]=V.useState([]),be=V.useMemo(()=>i?ne.filter(W=>W.toasterId===i):ne.filter(W=>!W.toasterId),[ne,i]),Ie=V.useMemo(()=>Array.from(new Set([u].concat(be.filter(W=>W.position).map(W=>W.position)))),[be,u]),[We,Et]=V.useState([]),[Oe,Ee]=V.useState(!1),[je,$e]=V.useState(!1),[ge,ye]=V.useState(S!=="system"?S:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),F=V.useRef(null),te=d.join("+").replace(/Key/g,"").replace(/Digit/g,""),H=V.useRef(null),E=V.useRef(!1),I=V.useCallback(W=>{me(X=>{var se;return(se=X.find(ce=>ce.id===W.id))!=null&&se.delete||xt.dismiss(W.id),X.filter(({id:ce})=>ce!==W.id)})},[]);return V.useEffect(()=>xt.subscribe(W=>{if(W.dismiss){requestAnimationFrame(()=>{me(X=>X.map(se=>se.id===W.id?{...se,delete:!0}:se))});return}setTimeout(()=>{ng.flushSync(()=>{me(X=>{const se=X.findIndex(ce=>ce.id===W.id);return se!==-1?[...X.slice(0,se),{...X[se],...W},...X.slice(se+1)]:[W,...X]})})})}),[ne]),V.useEffect(()=>{if(S!=="system"){ye(S);return}if(S==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ye("dark"):ye("light")),typeof window>"u")return;const W=window.matchMedia("(prefers-color-scheme: dark)");try{W.addEventListener("change",({matches:X})=>{ye(X?"dark":"light")})}catch{W.addListener(({matches:se})=>{try{ye(se?"dark":"light")}catch(ce){console.error(ce)}})}},[S]),V.useEffect(()=>{ne.length<=1&&Ee(!1)},[ne]),V.useEffect(()=>{const W=X=>{var se;if(d.every(ie=>X[ie]||X.code===ie)){var we;Ee(!0),(we=F.current)==null||we.focus()}X.code==="Escape"&&(document.activeElement===F.current||(se=F.current)!=null&&se.contains(document.activeElement))&&Ee(!1)};return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[d]),V.useEffect(()=>{if(F.current)return()=>{H.current&&(H.current.focus({preventScroll:!0}),H.current=null,E.current=!1)}},[F.current]),V.createElement("section",{ref:n,"aria-label":`${fe} ${te}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},Ie.map((W,X)=>{var se;const[ce,we]=W.split("-");return be.length?V.createElement("ol",{key:W,dir:B==="auto"?Vd():B,tabIndex:-1,ref:F,className:g,"data-sonner-toaster":!0,"data-sonner-theme":ge,"data-y-position":ce,"data-x-position":we,style:{"--front-toast-height":`${((se=We[0])==null?void 0:se.height)||0}px`,"--width":`${kg}px`,"--gap":`${M}px`,...P,...Ng(_,y)},onBlur:ie=>{E.current&&!ie.currentTarget.contains(ie.relatedTarget)&&(E.current=!1,H.current&&(H.current.focus({preventScroll:!0}),H.current=null))},onFocus:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||E.current||(E.current=!0,H.current=ie.relatedTarget)},onMouseEnter:()=>Ee(!0),onMouseMove:()=>Ee(!0),onMouseLeave:()=>{je||Ee(!1)},onDragEnd:()=>Ee(!1),onPointerDown:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||$e(!0)},onPointerUp:()=>$e(!1)},be.filter(ie=>!ie.position&&X===0||ie.position===W).map((ie,Se)=>{var qe,Dt;return V.createElement(Cg,{key:ie.id,icons:G,index:Se,toast:ie,defaultRichColors:x,duration:(qe=A?.duration)!=null?qe:O,className:A?.className,descriptionClassName:A?.descriptionClassName,invert:l,visibleToasts:j,closeButton:(Dt=A?.closeButton)!=null?Dt:m,interacting:je,position:W,style:A?.style,unstyled:A?.unstyled,classNames:A?.classNames,cancelButtonStyle:A?.cancelButtonStyle,actionButtonStyle:A?.actionButtonStyle,closeButtonAriaLabel:A?.closeButtonAriaLabel,removeToast:I,toasts:be.filter($t=>$t.position==ie.position),heights:We.filter($t=>$t.position==ie.position),setHeights:Et,expandByDefault:f,gap:M,expanded:Oe,swipeDirections:r.swipeDirections})})):null}))});var Rl=function(a,r){return Rl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(n[l]=i[l])},Rl(a,r)};function kh(a,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");Rl(a,r);function n(){this.constructor=a}a.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var So=function(){return So=Object.assign||function(r){for(var n,i=1,l=arguments.length;i<l;i++){n=arguments[i];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(r[u]=n[u])}return r},So.apply(this,arguments)};function os(a,r){var n={};for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&r.indexOf(i)<0&&(n[i]=a[i]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(a);l<i.length;l++)r.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(a,i[l])&&(n[i[l]]=a[i[l]]);return n}function xh(a,r,n,i){var l=arguments.length,u=l<3?r:i===null?i=Object.getOwnPropertyDescriptor(r,n):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(a,r,n,i);else for(var f=a.length-1;f>=0;f--)(d=a[f])&&(u=(l<3?d(u):l>3?d(r,n,u):d(r,n))||u);return l>3&&u&&Object.defineProperty(r,n,u),u}function Eh(a,r){return function(n,i){r(n,i,a)}}function jh(a,r,n,i,l,u){function d(A){if(A!==void 0&&typeof A!="function")throw new TypeError("Function expected");return A}for(var f=i.kind,m=f==="getter"?"get":f==="setter"?"set":"value",g=!r&&a?i.static?a:a.prototype:null,_=r||(g?Object.getOwnPropertyDescriptor(g,i.name):{}),y,S=!1,x=n.length-1;x>=0;x--){var O={};for(var P in i)O[P]=P==="access"?{}:i[P];for(var P in i.access)O.access[P]=i.access[P];O.addInitializer=function(A){if(S)throw new TypeError("Cannot add initializers after decoration has completed");u.push(d(A||null))};var j=(0,n[x])(f==="accessor"?{get:_.get,set:_.set}:_[m],O);if(f==="accessor"){if(j===void 0)continue;if(j===null||typeof j!="object")throw new TypeError("Object expected");(y=d(j.get))&&(_.get=y),(y=d(j.set))&&(_.set=y),(y=d(j.init))&&l.unshift(y)}else(y=d(j))&&(f==="field"?l.unshift(y):_[m]=y)}g&&Object.defineProperty(g,i.name,_),S=!0}function Th(a,r,n){for(var i=arguments.length>2,l=0;l<r.length;l++)n=i?r[l].call(a,n):r[l].call(a);return i?n:void 0}function Ch(a){return typeof a=="symbol"?a:"".concat(a)}function Nh(a,r,n){return typeof r=="symbol"&&(r=r.description?"[".concat(r.description,"]"):""),Object.defineProperty(a,"name",{configurable:!0,value:n?"".concat(n," ",r):r})}function Oh(a,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(a,r)}function ee(a,r,n,i){function l(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function f(_){try{g(i.next(_))}catch(y){d(y)}}function m(_){try{g(i.throw(_))}catch(y){d(y)}}function g(_){_.done?u(_.value):l(_.value).then(f,m)}g((i=i.apply(a,r||[])).next())})}function Rh(a,r){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,l,u,d=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return d.next=f(0),d.throw=f(1),d.return=f(2),typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function f(g){return function(_){return m([g,_])}}function m(g){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(n=0)),n;)try{if(i=1,l&&(u=g[0]&2?l.return:g[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,g[1])).done)return u;switch(l=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,l=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){n.label=g[1];break}if(g[0]===6&&n.label<u[1]){n.label=u[1],u=g;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(g);break}u[2]&&n.ops.pop(),n.trys.pop();continue}g=r.call(a,n)}catch(_){g=[6,_],l=0}finally{i=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}var Co=Object.create?(function(a,r,n,i){i===void 0&&(i=n);var l=Object.getOwnPropertyDescriptor(r,n);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(a,i,l)}):(function(a,r,n,i){i===void 0&&(i=n),a[i]=r[n]});function Ph(a,r){for(var n in a)n!=="default"&&!Object.prototype.hasOwnProperty.call(r,n)&&Co(r,a,n)}function ko(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],i=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&i>=a.length&&(a=void 0),{value:a&&a[i++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function Wl(a,r){var n=typeof Symbol=="function"&&a[Symbol.iterator];if(!n)return a;var i=n.call(a),l,u=[],d;try{for(;(r===void 0||r-- >0)&&!(l=i.next()).done;)u.push(l.value)}catch(f){d={error:f}}finally{try{l&&!l.done&&(n=i.return)&&n.call(i)}finally{if(d)throw d.error}}return u}function Ah(){for(var a=[],r=0;r<arguments.length;r++)a=a.concat(Wl(arguments[r]));return a}function Ih(){for(var a=0,r=0,n=arguments.length;r<n;r++)a+=arguments[r].length;for(var i=Array(a),l=0,r=0;r<n;r++)for(var u=arguments[r],d=0,f=u.length;d<f;d++,l++)i[l]=u[d];return i}function Dh(a,r,n){if(n||arguments.length===2)for(var i=0,l=r.length,u;i<l;i++)(u||!(i in r))&&(u||(u=Array.prototype.slice.call(r,0,i)),u[i]=r[i]);return a.concat(u||Array.prototype.slice.call(r))}function is(a){return this instanceof is?(this.v=a,this):new is(a)}function $h(a,r,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(a,r||[]),l,u=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",d),l[Symbol.asyncIterator]=function(){return this},l;function d(x){return function(O){return Promise.resolve(O).then(x,y)}}function f(x,O){i[x]&&(l[x]=function(P){return new Promise(function(j,A){u.push([x,P,j,A])>1||m(x,P)})},O&&(l[x]=O(l[x])))}function m(x,O){try{g(i[x](O))}catch(P){S(u[0][3],P)}}function g(x){x.value instanceof is?Promise.resolve(x.value.v).then(_,y):S(u[0][2],x)}function _(x){m("next",x)}function y(x){m("throw",x)}function S(x,O){x(O),u.shift(),u.length&&m(u[0][0],u[0][1])}}function Lh(a){var r,n;return r={},i("next"),i("throw",function(l){throw l}),i("return"),r[Symbol.iterator]=function(){return this},r;function i(l,u){r[l]=a[l]?function(d){return(n=!n)?{value:is(a[l](d)),done:!1}:u?u(d):d}:u}}function Uh(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=a[Symbol.asyncIterator],n;return r?r.call(a):(a=typeof ko=="function"?ko(a):a[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(u){n[u]=a[u]&&function(d){return new Promise(function(f,m){d=a[u](d),l(f,m,d.done,d.value)})}}function l(u,d,f,m){Promise.resolve(m).then(function(g){u({value:g,done:f})},d)}}function Mh(a,r){return Object.defineProperty?Object.defineProperty(a,"raw",{value:r}):a.raw=r,a}var Og=Object.create?(function(a,r){Object.defineProperty(a,"default",{enumerable:!0,value:r})}):function(a,r){a.default=r},Pl=function(a){return Pl=Object.getOwnPropertyNames||function(r){var n=[];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[n.length]=i);return n},Pl(a)};function Bh(a){if(a&&a.__esModule)return a;var r={};if(a!=null)for(var n=Pl(a),i=0;i<n.length;i++)n[i]!=="default"&&Co(r,a,n[i]);return Og(r,a),r}function zh(a){return a&&a.__esModule?a:{default:a}}function Fh(a,r,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?a!==r||!i:!r.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(a):i?i.value:r.get(a)}function Vh(a,r,n,i,l){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?a!==r||!l:!r.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?l.call(a,n):l?l.value=n:r.set(a,n),n}function Hh(a,r){if(r===null||typeof r!="object"&&typeof r!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof a=="function"?r===a:a.has(r)}function Wh(a,r,n){if(r!=null){if(typeof r!="object"&&typeof r!="function")throw new TypeError("Object expected.");var i,l;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=r[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=r[Symbol.dispose],n&&(l=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");l&&(i=function(){try{l.call(this)}catch(u){return Promise.reject(u)}}),a.stack.push({value:r,dispose:i,async:n})}else n&&a.stack.push({async:!0});return r}var Rg=typeof SuppressedError=="function"?SuppressedError:function(a,r,n){var i=new Error(n);return i.name="SuppressedError",i.error=a,i.suppressed=r,i};function qh(a){function r(u){a.error=a.hasError?new Rg(u,a.error,"An error was suppressed during disposal."):u,a.hasError=!0}var n,i=0;function l(){for(;n=a.stack.pop();)try{if(!n.async&&i===1)return i=0,a.stack.push(n),Promise.resolve().then(l);if(n.dispose){var u=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(u).then(l,function(d){return r(d),l()})}else i|=1}catch(d){r(d)}if(i===1)return a.hasError?Promise.reject(a.error):Promise.resolve();if(a.hasError)throw a.error}return l()}function Kh(a,r){return typeof a=="string"&&/^\.\.?\//.test(a)?a.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,i,l,u,d){return i?r?".jsx":".js":l&&(!u||!d)?n:l+u+"."+d.toLowerCase()+"js"}):a}const Pg={__extends:kh,__assign:So,__rest:os,__decorate:xh,__param:Eh,__esDecorate:jh,__runInitializers:Th,__propKey:Ch,__setFunctionName:Nh,__metadata:Oh,__awaiter:ee,__generator:Rh,__createBinding:Co,__exportStar:Ph,__values:ko,__read:Wl,__spread:Ah,__spreadArrays:Ih,__spreadArray:Dh,__await:is,__asyncGenerator:$h,__asyncDelegator:Lh,__asyncValues:Uh,__makeTemplateObject:Mh,__importStar:Bh,__importDefault:zh,__classPrivateFieldGet:Fh,__classPrivateFieldSet:Vh,__classPrivateFieldIn:Hh,__addDisposableResource:Wh,__disposeResources:qh,__rewriteRelativeImportExtension:Kh},Ag=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Wh,get __assign(){return So},__asyncDelegator:Lh,__asyncGenerator:$h,__asyncValues:Uh,__await:is,__awaiter:ee,__classPrivateFieldGet:Fh,__classPrivateFieldIn:Hh,__classPrivateFieldSet:Vh,__createBinding:Co,__decorate:xh,__disposeResources:qh,__esDecorate:jh,__exportStar:Ph,__extends:kh,__generator:Rh,__importDefault:zh,__importStar:Bh,__makeTemplateObject:Mh,__metadata:Oh,__param:Eh,__propKey:Ch,__read:Wl,__rest:os,__rewriteRelativeImportExtension:Kh,__runInitializers:Th,__setFunctionName:Nh,__spread:Ah,__spreadArray:Dh,__spreadArrays:Ih,__values:ko,default:Pg},Symbol.toStringTag,{value:"Module"})),Ig=a=>a?(...r)=>a(...r):(...r)=>fetch(...r);class ql extends Error{constructor(r,n="FunctionsError",i){super(r),this.name=n,this.context=i}}class Dg extends ql{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class Hd extends ql{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class Wd extends ql{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var Al;(function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"})(Al||(Al={}));class $g{constructor(r,{headers:n={},customFetch:i,region:l=Al.Any}={}){this.url=r,this.headers=n,this.region=l,this.fetch=Ig(i)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return ee(this,arguments,void 0,function*(n,i={}){var l;let u,d;try{const{headers:f,method:m,body:g,signal:_,timeout:y}=i;let S={},{region:x}=i;x||(x=this.region);const O=new URL(`${this.url}/${n}`);x&&x!=="any"&&(S["x-region"]=x,O.searchParams.set("forceFunctionRegion",x));let P;g&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(S["Content-Type"]="application/octet-stream",P=g):typeof g=="string"?(S["Content-Type"]="text/plain",P=g):typeof FormData<"u"&&g instanceof FormData?P=g:(S["Content-Type"]="application/json",P=JSON.stringify(g)):P=g;let j=_;y&&(d=new AbortController,u=setTimeout(()=>d.abort(),y),_?(j=d.signal,_.addEventListener("abort",()=>d.abort())):j=d.signal);const A=yield this.fetch(O.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},S),this.headers),f),body:P,signal:j}).catch(fe=>{throw new Dg(fe)}),B=A.headers.get("x-relay-error");if(B&&B==="true")throw new Hd(A);if(!A.ok)throw new Wd(A);let M=((l=A.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),G;return M==="application/json"?G=yield A.json():M==="application/octet-stream"||M==="application/pdf"?G=yield A.blob():M==="text/event-stream"?G=A:M==="multipart/form-data"?G=yield A.formData():G=yield A.text(),{data:G,error:null,response:A}}catch(f){return{data:null,error:f,response:f instanceof Wd||f instanceof Hd?f.context:void 0}}finally{u&&clearTimeout(u)}})}}var mt={};const as=hm(Ag);var co={},ho={},fo={},po={},mo={},go={},qd;function Gh(){if(qd)return go;qd=1,Object.defineProperty(go,"__esModule",{value:!0});class a extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return go.default=a,go}var Kd;function Jh(){if(Kd)return mo;Kd=1,Object.defineProperty(mo,"__esModule",{value:!0});const r=as.__importDefault(Gh());class n{constructor(l){var u,d;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(u=l.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=l.signal,this.isMaybeSingle=(d=l.isMaybeSingle)!==null&&d!==void 0?d:!1,l.fetch?this.fetch=l.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,u){return this.headers=new Headers(this.headers),this.headers.set(l,u),this}then(l,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let f=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var g,_,y,S;let x=null,O=null,P=null,j=m.status,A=m.statusText;if(m.ok){if(this.method!=="HEAD"){const fe=await m.text();fe===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((g=this.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?O=fe:O=JSON.parse(fe))}const M=(_=this.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),G=(y=m.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");M&&G&&G.length>1&&(P=parseInt(G[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(O)&&(O.length>1?(x={code:"PGRST116",details:`Results contain ${O.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},O=null,P=null,j=406,A="Not Acceptable"):O.length===1?O=O[0]:O=null)}else{const M=await m.text();try{x=JSON.parse(M),Array.isArray(x)&&m.status===404&&(O=[],x=null,j=200,A="OK")}catch{m.status===404&&M===""?(j=204,A="No Content"):x={message:M}}if(x&&this.isMaybeSingle&&(!((S=x?.details)===null||S===void 0)&&S.includes("0 rows"))&&(x=null,j=200,A="OK"),x&&this.shouldThrowOnError)throw new r.default(x)}return{error:x,data:O,count:P,status:j,statusText:A}});return this.shouldThrowOnError||(f=f.catch(m=>{var g,_,y,S,x,O;let P="";const j=m?.cause;if(j){const A=(g=j?.message)!==null&&g!==void 0?g:"",B=(_=j?.code)!==null&&_!==void 0?_:"";P=`${(y=m?.name)!==null&&y!==void 0?y:"FetchError"}: ${m?.message}`,P+=`

Caused by: ${(S=j?.name)!==null&&S!==void 0?S:"Error"}: ${A}`,B&&(P+=` (${B})`),j?.stack&&(P+=`
${j.stack}`)}else P=(x=m?.stack)!==null&&x!==void 0?x:"";return{error:{message:`${(O=m?.name)!==null&&O!==void 0?O:"FetchError"}: ${m?.message}`,details:P,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),f.then(l,u)}returns(){return this}overrideTypes(){return this}}return mo.default=n,mo}var Gd;function Qh(){if(Gd)return po;Gd=1,Object.defineProperty(po,"__esModule",{value:!0});const r=as.__importDefault(Jh());class n extends r.default{select(l){let u=!1;const d=(l??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:u=!0,nullsFirst:d,foreignTable:f,referencedTable:m=f}={}){const g=m?`${m}.order`:"order",_=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${_?`${_},`:""}${l}.${u?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:u,referencedTable:d=u}={}){const f=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(f,`${l}`),this}range(l,u,{foreignTable:d,referencedTable:f=d}={}){const m=typeof f>"u"?"offset":`${f}.offset`,g=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(m,`${l}`),this.url.searchParams.set(g,`${u-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:u=!1,settings:d=!1,buffers:f=!1,wal:m=!1,format:g="text"}={}){var _;const y=[l?"analyze":null,u?"verbose":null,d?"settings":null,f?"buffers":null,m?"wal":null].filter(Boolean).join("|"),S=(_=this.headers.get("Accept"))!==null&&_!==void 0?_:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${S}"; options=${y};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}}return po.default=n,po}var Jd;function Kl(){if(Jd)return fo;Jd=1,Object.defineProperty(fo,"__esModule",{value:!0});const r=as.__importDefault(Qh()),n=new RegExp("[,()]");class i extends r.default{eq(u,d){return this.url.searchParams.append(u,`eq.${d}`),this}neq(u,d){return this.url.searchParams.append(u,`neq.${d}`),this}gt(u,d){return this.url.searchParams.append(u,`gt.${d}`),this}gte(u,d){return this.url.searchParams.append(u,`gte.${d}`),this}lt(u,d){return this.url.searchParams.append(u,`lt.${d}`),this}lte(u,d){return this.url.searchParams.append(u,`lte.${d}`),this}like(u,d){return this.url.searchParams.append(u,`like.${d}`),this}likeAllOf(u,d){return this.url.searchParams.append(u,`like(all).{${d.join(",")}}`),this}likeAnyOf(u,d){return this.url.searchParams.append(u,`like(any).{${d.join(",")}}`),this}ilike(u,d){return this.url.searchParams.append(u,`ilike.${d}`),this}ilikeAllOf(u,d){return this.url.searchParams.append(u,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(u,d){return this.url.searchParams.append(u,`ilike(any).{${d.join(",")}}`),this}regexMatch(u,d){return this.url.searchParams.append(u,`match.${d}`),this}regexIMatch(u,d){return this.url.searchParams.append(u,`imatch.${d}`),this}is(u,d){return this.url.searchParams.append(u,`is.${d}`),this}isDistinct(u,d){return this.url.searchParams.append(u,`isdistinct.${d}`),this}in(u,d){const f=Array.from(new Set(d)).map(m=>typeof m=="string"&&n.test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(u,`in.(${f})`),this}contains(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cs.{${d.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(d)}`),this}containedBy(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cd.{${d.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(d)}`),this}rangeGt(u,d){return this.url.searchParams.append(u,`sr.${d}`),this}rangeGte(u,d){return this.url.searchParams.append(u,`nxl.${d}`),this}rangeLt(u,d){return this.url.searchParams.append(u,`sl.${d}`),this}rangeLte(u,d){return this.url.searchParams.append(u,`nxr.${d}`),this}rangeAdjacent(u,d){return this.url.searchParams.append(u,`adj.${d}`),this}overlaps(u,d){return typeof d=="string"?this.url.searchParams.append(u,`ov.${d}`):this.url.searchParams.append(u,`ov.{${d.join(",")}}`),this}textSearch(u,d,{config:f,type:m}={}){let g="";m==="plain"?g="pl":m==="phrase"?g="ph":m==="websearch"&&(g="w");const _=f===void 0?"":`(${f})`;return this.url.searchParams.append(u,`${g}fts${_}.${d}`),this}match(u){return Object.entries(u).forEach(([d,f])=>{this.url.searchParams.append(d,`eq.${f}`)}),this}not(u,d,f){return this.url.searchParams.append(u,`not.${d}.${f}`),this}or(u,{foreignTable:d,referencedTable:f=d}={}){const m=f?`${f}.or`:"or";return this.url.searchParams.append(m,`(${u})`),this}filter(u,d,f){return this.url.searchParams.append(u,`${d}.${f}`),this}}return fo.default=i,fo}var Qd;function Yh(){if(Qd)return ho;Qd=1,Object.defineProperty(ho,"__esModule",{value:!0});const r=as.__importDefault(Kl());class n{constructor(l,{headers:u={},schema:d,fetch:f}){this.url=l,this.headers=new Headers(u),this.schema=d,this.fetch=f}select(l,u){const{head:d=!1,count:f}=u??{},m=d?"HEAD":"GET";let g=!1;const _=(l??"*").split("").map(y=>/\s/.test(y)&&!g?"":(y==='"'&&(g=!g),y)).join("");return this.url.searchParams.set("select",_),f&&this.headers.append("Prefer",`count=${f}`),new r.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(l,{count:u,defaultToNull:d=!0}={}){var f;const m="POST";if(u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const g=l.reduce((_,y)=>_.concat(Object.keys(y)),[]);if(g.length>0){const _=[...new Set(g)].map(y=>`"${y}"`);this.url.searchParams.set("columns",_.join(","))}}return new r.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(l,{onConflict:u,ignoreDuplicates:d=!1,count:f,defaultToNull:m=!0}={}){var g;const _="POST";if(this.headers.append("Prefer",`resolution=${d?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),f&&this.headers.append("Prefer",`count=${f}`),m||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const y=l.reduce((S,x)=>S.concat(Object.keys(x)),[]);if(y.length>0){const S=[...new Set(y)].map(x=>`"${x}"`);this.url.searchParams.set("columns",S.join(","))}}return new r.default({method:_,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(l,{count:u}={}){var d;const f="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new r.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}delete({count:l}={}){var u;const d="DELETE";return l&&this.headers.append("Prefer",`count=${l}`),new r.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return ho.default=n,ho}var Yd;function Lg(){if(Yd)return co;Yd=1,Object.defineProperty(co,"__esModule",{value:!0});const a=as,r=a.__importDefault(Yh()),n=a.__importDefault(Kl());class i{constructor(u,{headers:d={},schema:f,fetch:m}={}){this.url=u,this.headers=new Headers(d),this.schemaName=f,this.fetch=m}from(u){if(!u||typeof u!="string"||u.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const d=new URL(`${this.url}/${u}`);return new r.default(d,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new i(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,d={},{head:f=!1,get:m=!1,count:g}={}){var _;let y;const S=new URL(`${this.url}/rpc/${u}`);let x;f||m?(y=f?"HEAD":"GET",Object.entries(d).filter(([P,j])=>j!==void 0).map(([P,j])=>[P,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([P,j])=>{S.searchParams.append(P,j)})):(y="POST",x=d);const O=new Headers(this.headers);return g&&O.set("Prefer",`count=${g}`),new n.default({method:y,url:S,headers:O,schema:this.schemaName,body:x,fetch:(_=this.fetch)!==null&&_!==void 0?_:fetch})}}return co.default=i,co}var Xd;function Ug(){if(Xd)return mt;Xd=1,Object.defineProperty(mt,"__esModule",{value:!0}),mt.PostgrestError=mt.PostgrestBuilder=mt.PostgrestTransformBuilder=mt.PostgrestFilterBuilder=mt.PostgrestQueryBuilder=mt.PostgrestClient=void 0;const a=as,r=a.__importDefault(Lg());mt.PostgrestClient=r.default;const n=a.__importDefault(Yh());mt.PostgrestQueryBuilder=n.default;const i=a.__importDefault(Kl());mt.PostgrestFilterBuilder=i.default;const l=a.__importDefault(Qh());mt.PostgrestTransformBuilder=l.default;const u=a.__importDefault(Jh());mt.PostgrestBuilder=u.default;const d=a.__importDefault(Gh());return mt.PostgrestError=d.default,mt.default={PostgrestClient:r.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:u.default,PostgrestError:d.default},mt}var Xh=Ug();const Zh=To(Xh),Mg=dm({__proto__:null,default:Zh},[Xh]),{PostgrestClient:Bg,PostgrestQueryBuilder:nv,PostgrestFilterBuilder:sv,PostgrestTransformBuilder:iv,PostgrestBuilder:ov,PostgrestError:av}=Zh||Mg;class zg{constructor(){}static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const i=n.node,l=parseInt(i.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let n=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(n+=`

Suggested solution: ${r.workaround}`),new Error(n)}static createWebSocket(r,n){const i=this.getWebSocketConstructor();return new i(r,n)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const Fg="2.84.0",Vg=`realtime-js/${Fg}`,ef="1.0.0",Hg="2.0.0",Zd=ef,Il=1e4,Wg=1e3,qg=100;var bn;(function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"})(bn||(bn={}));var Ze;(function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"})(Ze||(Ze={}));var nr;(function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"})(nr||(nr={}));var Dl;(function(a){a.websocket="websocket"})(Dl||(Dl={}));var Sn;(function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"})(Sn||(Sn={}));class Kg{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(r,n){if(r.event===this.BROADCAST_EVENT&&!(r.payload instanceof ArrayBuffer)&&typeof r.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(r));let i=[r.join_ref,r.ref,r.topic,r.event,r.payload];return n(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(r){var n;return this._isArrayBuffer((n=r.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(r):this._encodeJsonUserBroadcastPush(r)}_encodeBinaryUserBroadcastPush(r){var n,i,l,u;const d=r.topic,f=(n=r.ref)!==null&&n!==void 0?n:"",m=(i=r.join_ref)!==null&&i!==void 0?i:"",g=r.payload.event,_=(u=(l=r.payload)===null||l===void 0?void 0:l.payload)!==null&&u!==void 0?u:new ArrayBuffer(0),y=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+f.length+d.length+g.length,S=new ArrayBuffer(this.HEADER_LENGTH+y);let x=new DataView(S),O=0;x.setUint8(O++,this.KINDS.userBroadcastPush),x.setUint8(O++,m.length),x.setUint8(O++,f.length),x.setUint8(O++,d.length),x.setUint8(O++,g.length),x.setUint8(O++,this.BINARY_ENCODING),Array.from(m,j=>x.setUint8(O++,j.charCodeAt(0))),Array.from(f,j=>x.setUint8(O++,j.charCodeAt(0))),Array.from(d,j=>x.setUint8(O++,j.charCodeAt(0))),Array.from(g,j=>x.setUint8(O++,j.charCodeAt(0)));var P=new Uint8Array(S.byteLength+_.byteLength);return P.set(new Uint8Array(S),0),P.set(new Uint8Array(_),S.byteLength),P.buffer}_encodeJsonUserBroadcastPush(r){var n,i,l,u;const d=r.topic,f=(n=r.ref)!==null&&n!==void 0?n:"",m=(i=r.join_ref)!==null&&i!==void 0?i:"",g=r.payload.event,_=(u=(l=r.payload)===null||l===void 0?void 0:l.payload)!==null&&u!==void 0?u:{},S=new TextEncoder().encode(JSON.stringify(_)).buffer,x=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+f.length+d.length+g.length,O=new ArrayBuffer(this.HEADER_LENGTH+x);let P=new DataView(O),j=0;P.setUint8(j++,this.KINDS.userBroadcastPush),P.setUint8(j++,m.length),P.setUint8(j++,f.length),P.setUint8(j++,d.length),P.setUint8(j++,g.length),P.setUint8(j++,this.JSON_ENCODING),Array.from(m,B=>P.setUint8(j++,B.charCodeAt(0))),Array.from(f,B=>P.setUint8(j++,B.charCodeAt(0))),Array.from(d,B=>P.setUint8(j++,B.charCodeAt(0))),Array.from(g,B=>P.setUint8(j++,B.charCodeAt(0)));var A=new Uint8Array(O.byteLength+S.byteLength);return A.set(new Uint8Array(O),0),A.set(new Uint8Array(S),O.byteLength),A.buffer}decode(r,n){if(this._isArrayBuffer(r)){let i=this._binaryDecode(r);return n(i)}if(typeof r=="string"){const i=JSON.parse(r),[l,u,d,f,m]=i;return n({join_ref:l,ref:u,topic:d,event:f,payload:m})}return n({})}_binaryDecode(r){const n=new DataView(r),i=n.getUint8(0),l=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(r,n,l)}}_decodeUserBroadcast(r,n,i){const l=n.getUint8(1),u=n.getUint8(2),d=n.getUint8(3),f=n.getUint8(4);let m=this.HEADER_LENGTH+4;const g=i.decode(r.slice(m,m+l));m=m+l;const _=i.decode(r.slice(m,m+u));m=m+u;const y=i.decode(r.slice(m,m+d));m=m+d;const S=r.slice(m,r.byteLength),x=f===this.JSON_ENCODING?JSON.parse(i.decode(S)):S,O={type:this.BROADCAST_EVENT,event:_,payload:x};return d>0&&(O.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:O}}_isArrayBuffer(r){var n;return r instanceof ArrayBuffer||((n=r?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class tf{constructor(r,n){this.callback=r,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ne;(function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"})(Ne||(Ne={}));const eh=(a,r,n={})=>{var i;const l=(i=n.skipTypes)!==null&&i!==void 0?i:[];return r?Object.keys(r).reduce((u,d)=>(u[d]=Gg(d,a,r,l),u),{}):{}},Gg=(a,r,n,i)=>{const l=r.find(f=>f.name===a),u=l?.type,d=n[a];return u&&!i.includes(u)?rf(u,d):$l(d)},rf=(a,r)=>{if(a.charAt(0)==="_"){const n=a.slice(1,a.length);return Xg(r,n)}switch(a){case Ne.bool:return Jg(r);case Ne.float4:case Ne.float8:case Ne.int2:case Ne.int4:case Ne.int8:case Ne.numeric:case Ne.oid:return Qg(r);case Ne.json:case Ne.jsonb:return Yg(r);case Ne.timestamp:return Zg(r);case Ne.abstime:case Ne.date:case Ne.daterange:case Ne.int4range:case Ne.int8range:case Ne.money:case Ne.reltime:case Ne.text:case Ne.time:case Ne.timestamptz:case Ne.timetz:case Ne.tsrange:case Ne.tstzrange:return $l(r);default:return $l(r)}},$l=a=>a,Jg=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},Qg=a=>{if(typeof a=="string"){const r=parseFloat(a);if(!Number.isNaN(r))return r}return a},Yg=a=>{if(typeof a=="string")try{return JSON.parse(a)}catch(r){return console.log(`JSON parse error: ${r}`),a}return a},Xg=(a,r)=>{if(typeof a!="string")return a;const n=a.length-1,i=a[n];if(a[0]==="{"&&i==="}"){let u;const d=a.slice(1,n);try{u=JSON.parse("["+d+"]")}catch{u=d?d.split(","):[]}return u.map(f=>rf(r,f))}return a},Zg=a=>typeof a=="string"?a.replace(" ","T"):a,nf=a=>{const r=new URL(a);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class wl{constructor(r,n,i={},l=Il){this.channel=r,this.event=n,this.payload=i,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,n){var i;return this._hasReceived(r)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:r,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:n}){this.recHooks.filter(i=>i.status===r).forEach(i=>i.callback(n))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var th;(function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"})(th||(th={}));class Gs{constructor(r,n){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},l=>{const{onJoin:u,onLeave:d,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Gs.syncState(this.state,l,u,d),this.pendingDiffs.forEach(m=>{this.state=Gs.syncDiff(this.state,m,u,d)}),this.pendingDiffs=[],f()}),this.channel._on(i.diff,{},l=>{const{onJoin:u,onLeave:d,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=Gs.syncDiff(this.state,l,u,d),f())}),this.onJoin((l,u,d)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:u,newPresences:d})}),this.onLeave((l,u,d)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:u,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,n,i,l){const u=this.cloneDeep(r),d=this.transformState(n),f={},m={};return this.map(u,(g,_)=>{d[g]||(m[g]=_)}),this.map(d,(g,_)=>{const y=u[g];if(y){const S=_.map(j=>j.presence_ref),x=y.map(j=>j.presence_ref),O=_.filter(j=>x.indexOf(j.presence_ref)<0),P=y.filter(j=>S.indexOf(j.presence_ref)<0);O.length>0&&(f[g]=O),P.length>0&&(m[g]=P)}else f[g]=_}),this.syncDiff(u,{joins:f,leaves:m},i,l)}static syncDiff(r,n,i,l){const{joins:u,leaves:d}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),l||(l=()=>{}),this.map(u,(f,m)=>{var g;const _=(g=r[f])!==null&&g!==void 0?g:[];if(r[f]=this.cloneDeep(m),_.length>0){const y=r[f].map(x=>x.presence_ref),S=_.filter(x=>y.indexOf(x.presence_ref)<0);r[f].unshift(...S)}i(f,_,m)}),this.map(d,(f,m)=>{let g=r[f];if(!g)return;const _=m.map(y=>y.presence_ref);g=g.filter(y=>_.indexOf(y.presence_ref)<0),r[f]=g,l(f,g,m),g.length===0&&delete r[f]}),r}static map(r,n){return Object.getOwnPropertyNames(r).map(i=>n(i,r[i]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((n,i)=>{const l=r[i];return"metas"in l?n[i]=l.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):n[i]=l,n},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var rh;(function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"})(rh||(rh={}));var Js;(function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"})(Js||(Js={}));var kr;(function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"})(kr||(kr={}));class Gl{constructor(r,n={config:{}},i){var l,u;if(this.topic=r,this.params=n,this.socket=i,this.bindings={},this.state=Ze.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new wl(this,nr.join,this.params,this.timeout),this.rejoinTimer=new tf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ze.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ze.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this._on(nr.reply,{},(d,f)=>{this._trigger(this._replyEventName(f),d)}),this.presence=new Gs(this),this.broadcastEndpointURL=nf(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,n=this.timeout){var i,l,u;if(this.socket.isConnected()||this.socket.connect(),this.state==Ze.closed){const{config:{broadcast:d,presence:f,private:m}}=this.params,g=(l=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(x=>x.filter))!==null&&l!==void 0?l:[],_=!!this.bindings[Js.PRESENCE]&&this.bindings[Js.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,y={},S={broadcast:d,presence:Object.assign(Object.assign({},f),{enabled:_}),postgres_changes:g,private:m};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(x=>r?.(kr.CHANNEL_ERROR,x)),this._onClose(()=>r?.(kr.CLOSED)),this.updateJoinPayload(Object.assign({config:S},y)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:x})=>{var O;if(this.socket.setAuth(),x===void 0){r?.(kr.SUBSCRIBED);return}else{const P=this.bindings.postgres_changes,j=(O=P?.length)!==null&&O!==void 0?O:0,A=[];for(let B=0;B<j;B++){const M=P[B],{filter:{event:G,schema:fe,table:ne,filter:me}}=M,be=x&&x[B];if(be&&be.event===G&&be.schema===fe&&be.table===ne&&be.filter===me)A.push(Object.assign(Object.assign({},M),{id:be.id}));else{this.unsubscribe(),this.state=Ze.errored,r?.(kr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,r&&r(kr.SUBSCRIBED);return}}).receive("error",x=>{this.state=Ze.errored,r?.(kr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{r?.(kr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,n={}){return await this.send({type:"presence",event:"track",payload:r},n.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,n,i){return this.state===Ze.joined&&r===Js.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(r,n,i)}async httpSend(r,n,i={}){var l;const u=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const d={method:"POST",headers:{Authorization:u,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:n,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(l=i.timeout)!==null&&l!==void 0?l:this.timeout);if(f.status===202)return{success:!0};let m=f.statusText;try{const g=await f.json();m=g.error||g.message||m}catch{}return Promise.reject(new Error(m))}async send(r,n={}){var i,l;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:d}=r,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:d,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((l=g.body)===null||l===void 0?void 0:l.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var d,f,m;const g=this._push(r.type,r,n.timeout||this.timeout);r.type==="broadcast"&&!(!((m=(f=(d=this.params)===null||d===void 0?void 0:d.config)===null||f===void 0?void 0:f.broadcast)===null||m===void 0)&&m.ack)&&u("ok"),g.receive("ok",()=>u("ok")),g.receive("error",()=>u("error")),g.receive("timeout",()=>u("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=Ze.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(nr.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(l=>{i=new wl(this,nr.leave,{},r),i.receive("ok",()=>{n(),l("ok")}).receive("timeout",()=>{n(),l("timed out")}).receive("error",()=>{l("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ze.closed,this.bindings={}}async _fetchWithTimeout(r,n,i){const l=new AbortController,u=setTimeout(()=>l.abort(),i),d=await this.socket.fetch(r,Object.assign(Object.assign({},n),{signal:l.signal}));return clearTimeout(u),d}_push(r,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new wl(this,r,n,i);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>qg){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(r,n,i){return n}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,n,i){var l,u;const d=r.toLocaleLowerCase(),{close:f,error:m,leave:g,join:_}=nr;if(i&&[f,m,g,_].indexOf(d)>=0&&i!==this._joinRef())return;let S=this._onMessage(d,n,i);if(n&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(x=>{var O,P,j;return((O=x.filter)===null||O===void 0?void 0:O.event)==="*"||((j=(P=x.filter)===null||P===void 0?void 0:P.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===d}).map(x=>x.callback(S,i)):(u=this.bindings[d])===null||u===void 0||u.filter(x=>{var O,P,j,A,B,M;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in x){const G=x.id,fe=(O=x.filter)===null||O===void 0?void 0:O.event;return G&&((P=n.ids)===null||P===void 0?void 0:P.includes(G))&&(fe==="*"||fe?.toLocaleLowerCase()===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const G=(B=(A=x?.filter)===null||A===void 0?void 0:A.event)===null||B===void 0?void 0:B.toLocaleLowerCase();return G==="*"||G===((M=n?.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===d}).map(x=>{if(typeof S=="object"&&"ids"in S){const O=S.data,{schema:P,table:j,commit_timestamp:A,type:B,errors:M}=O;S=Object.assign(Object.assign({},{schema:P,table:j,commit_timestamp:A,eventType:B,new:{},old:{},errors:M}),this._getPayloadRecords(O))}x.callback(S,i)})}_isClosed(){return this.state===Ze.closed}_isJoined(){return this.state===Ze.joined}_isJoining(){return this.state===Ze.joining}_isLeaving(){return this.state===Ze.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,n,i){const l=r.toLocaleLowerCase(),u={type:l,filter:n,callback:i};return this.bindings[l]?this.bindings[l].push(u):this.bindings[l]=[u],this}_off(r,n){const i=r.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(l=>{var u;return!(((u=l.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===i&&Gl.isEqual(l.filter,n))})),this}static isEqual(r,n){if(Object.keys(r).length!==Object.keys(n).length)return!1;for(const i in r)if(r[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(nr.close,{},r)}_onError(r){this._on(nr.error,{},n=>r(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ze.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const n={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(n.new=eh(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(n.old=eh(r.columns,r.old_record)),n}}const _l=()=>{},yo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},e0=[1e3,2e3,5e3,1e4],t0=1e4,r0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class n0{constructor(r,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Il,this.transport=null,this.heartbeatIntervalMs=yo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=_l,this.ref=0,this.reconnectTimer=null,this.vsn=Zd,this.logger=_l,this.conn=null,this.sendBuffer=[],this.serializer=new Kg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>l?(...u)=>l(...u):(...u)=>fetch(...u),!(!((i=n?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${r}/${Dl.websocket}`,this.httpEndpoint=nf(r),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=zg.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const n=r.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(r,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(r?this.conn.close(r,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const n=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const r=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,n,i){this.logger(r,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case bn.connecting:return Sn.Connecting;case bn.open:return Sn.Open;case bn.closing:return Sn.Closing;default:return Sn.Closed}}isConnected(){return this.connectionState()===Sn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,n={config:{}}){const i=`realtime:${r}`,l=this.getChannels().find(u=>u.topic===i);if(l)return l;{const u=new Gl(`realtime:${r}`,n,this);return this.channels.push(u),u}}push(r){const{topic:n,event:i,payload:l,ref:u}=r,d=()=>{this.encode(r,f=>{var m;(m=this.conn)===null||m===void 0||m.send(f)})};this.log("push",`${n} ${i} (${u})`,l),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(Wg,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},yo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let n=this.channels.find(i=>i.topic===r&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${r}"`),n.unsubscribe())}_remove(r){this.channels=this.channels.filter(n=>n.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:l,payload:u,ref:d}=n,f=d?`(${d})`:"",m=u.status||"";this.log("receive",`${m} ${i} ${l} ${f}`.trim(),u),this.channels.filter(g=>g._isMember(i)).forEach(g=>g._trigger(l,u,d)),this._triggerStateCallbacks("message",n)})}_clearTimer(r){var n;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_teardownConnection(){if(this.conn){if(this.conn.readyState===bn.open||this.conn.readyState===bn.connecting)try{this.conn.close()}catch(r){this.log("error","Error closing connection",r)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){var n;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(nr.error))}_appendParams(r,n){if(Object.keys(n).length===0)return r;const i=r.match(/\?/)?"&":"?",l=new URLSearchParams(n);return`${r}${i}${l}`}_workerObjectUrl(r){let n;if(r)n=r;else{const i=new Blob([r0],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(r,n=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(r=null){let n;r?n=r:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const l={access_token:n,version:Vg};n&&i.updateJoinPayload(l),i.joinedOnce&&i._isJoined()&&i._push(nr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${r}`,n)})}_triggerStateCallbacks(r,n){try{this.stateChangeCallbacks[r].forEach(i=>{try{i(n)}catch(l){this.log("error",`error in ${r} callback`,l)}})}catch(i){this.log("error",`error triggering ${r} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new tf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},yo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var n,i,l,u,d,f,m,g,_,y,S,x;switch(this.transport=(n=r?.transport)!==null&&n!==void 0?n:null,this.timeout=(i=r?.timeout)!==null&&i!==void 0?i:Il,this.heartbeatIntervalMs=(l=r?.heartbeatIntervalMs)!==null&&l!==void 0?l:yo.HEARTBEAT_INTERVAL,this.worker=(u=r?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(d=r?.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(f=r?.heartbeatCallback)!==null&&f!==void 0?f:_l,this.vsn=(m=r?.vsn)!==null&&m!==void 0?m:Zd,r?.params&&(this.params=r.params),r?.logger&&(this.logger=r.logger),(r?.logLevel||r?.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=r?.reconnectAfterMs)!==null&&g!==void 0?g:(O=>e0[O-1]||t0),this.vsn){case ef:this.encode=(_=r?.encode)!==null&&_!==void 0?_:((O,P)=>P(JSON.stringify(O))),this.decode=(y=r?.decode)!==null&&y!==void 0?y:((O,P)=>P(JSON.parse(O)));break;case Hg:this.encode=(S=r?.encode)!==null&&S!==void 0?S:this.serializer.encode.bind(this.serializer),this.decode=(x=r?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r?.workerUrl}}}class Jl extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function Be(a){return typeof a=="object"&&a!==null&&"__isStorageError"in a}class s0 extends Jl{constructor(r,n,i){super(r),this.name="StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ll extends Jl{constructor(r,n){super(r),this.name="StorageUnknownError",this.originalError=n}}const Ql=a=>a?(...r)=>a(...r):(...r)=>fetch(...r),i0=()=>Response,Ul=a=>{if(Array.isArray(a))return a.map(n=>Ul(n));if(typeof a=="function"||a!==Object(a))return a;const r={};return Object.entries(a).forEach(([n,i])=>{const l=n.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));r[l]=Ul(i)}),r},o0=a=>{if(typeof a!="object"||a===null)return!1;const r=Object.getPrototypeOf(a);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},bl=a=>{var r;return a.msg||a.message||a.error_description||(typeof a.error=="string"?a.error:(r=a.error)===null||r===void 0?void 0:r.message)||JSON.stringify(a)},a0=(a,r,n)=>ee(void 0,void 0,void 0,function*(){const i=yield i0();a instanceof i&&!n?.noResolveJson?a.json().then(l=>{const u=a.status||500,d=l?.statusCode||u+"";r(new s0(bl(l),u,d))}).catch(l=>{r(new Ll(bl(l),l))}):r(new Ll(bl(a),a))}),l0=(a,r,n,i)=>{const l={method:a,headers:r?.headers||{}};return a==="GET"||!i?l:(o0(i)?(l.headers=Object.assign({"Content-Type":"application/json"},r?.headers),l.body=JSON.stringify(i)):l.body=i,r?.duplex&&(l.duplex=r.duplex),Object.assign(Object.assign({},l),n))};function Zs(a,r,n,i,l,u){return ee(this,void 0,void 0,function*(){return new Promise((d,f)=>{a(n,l0(r,i,l,u)).then(m=>{if(!m.ok)throw m;return i?.noResolveJson?m:m.json()}).then(m=>d(m)).catch(m=>a0(m,f,i))})})}function Qs(a,r,n,i){return ee(this,void 0,void 0,function*(){return Zs(a,"GET",r,n,i)})}function rr(a,r,n,i,l){return ee(this,void 0,void 0,function*(){return Zs(a,"POST",r,i,l,n)})}function Ml(a,r,n,i,l){return ee(this,void 0,void 0,function*(){return Zs(a,"PUT",r,i,l,n)})}function u0(a,r,n,i){return ee(this,void 0,void 0,function*(){return Zs(a,"HEAD",r,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function Yl(a,r,n,i,l){return ee(this,void 0,void 0,function*(){return Zs(a,"DELETE",r,i,l,n)})}class c0{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n}then(r,n){return this.execute().then(r,n)}execute(){return ee(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Be(r))return{data:null,error:r};throw r}})}}var sf;class d0{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n,this[sf]="BlobDownloadBuilder",this.promise=null}asStream(){return new c0(this.downloadFn,this.shouldThrowOnError)}then(r,n){return this.getPromise().then(r,n)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ee(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Be(r))return{data:null,error:r};throw r}})}}sf=Symbol.toStringTag;const h0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},nh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class f0{constructor(r,n={},i,l){this.shouldThrowOnError=!1,this.url=r,this.headers=n,this.bucketId=i,this.fetch=Ql(l)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(r,n,i,l){return ee(this,void 0,void 0,function*(){try{let u;const d=Object.assign(Object.assign({},nh),l);let f=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(d.upsert)});const m=d.metadata;typeof Blob<"u"&&i instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),m&&u.append("metadata",this.encodeMetadata(m)),u.append("",i)):typeof FormData<"u"&&i instanceof FormData?(u=i,u.has("cacheControl")||u.append("cacheControl",d.cacheControl),m&&!u.has("metadata")&&u.append("metadata",this.encodeMetadata(m))):(u=i,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType,m&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(m))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!d.duplex&&(d.duplex="half")),l?.headers&&(f=Object.assign(Object.assign({},f),l.headers));const g=this._removeEmptyFolders(n),_=this._getFinalPath(g),y=yield(r=="PUT"?Ml:rr)(this.fetch,`${this.url}/object/${_}`,u,Object.assign({headers:f},d?.duplex?{duplex:d.duplex}:{}));return{data:{path:g,id:y.Id,fullPath:y.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Be(u))return{data:null,error:u};throw u}})}upload(r,n,i){return ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,n,i)})}uploadToSignedUrl(r,n,i,l){return ee(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=new URL(this.url+`/object/upload/sign/${d}`);f.searchParams.set("token",n);try{let m;const g=Object.assign({upsert:nh.upsert},l),_=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&i instanceof Blob?(m=new FormData,m.append("cacheControl",g.cacheControl),m.append("",i)):typeof FormData<"u"&&i instanceof FormData?(m=i,m.append("cacheControl",g.cacheControl)):(m=i,_["cache-control"]=`max-age=${g.cacheControl}`,_["content-type"]=g.contentType);const y=yield Ml(this.fetch,f.toString(),m,{headers:_});return{data:{path:u,fullPath:y.Key},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Be(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(r,n){return ee(this,void 0,void 0,function*(){try{let i=this._getFinalPath(r);const l=Object.assign({},this.headers);n?.upsert&&(l["x-upsert"]="true");const u=yield rr(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:l}),d=new URL(this.url+u.url),f=d.searchParams.get("token");if(!f)throw new Jl("No token returned by API");return{data:{signedUrl:d.toString(),path:r,token:f},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Be(i))return{data:null,error:i};throw i}})}update(r,n,i){return ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,n,i)})}move(r,n,i){return ee(this,void 0,void 0,function*(){try{return{data:yield rr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Be(l))return{data:null,error:l};throw l}})}copy(r,n,i){return ee(this,void 0,void 0,function*(){try{return{data:{path:(yield rr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Be(l))return{data:null,error:l};throw l}})}createSignedUrl(r,n,i){return ee(this,void 0,void 0,function*(){try{let l=this._getFinalPath(r),u=yield rr(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:n},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const d=i?.download?`&download=${i.download===!0?"":i.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${d}`)},{data:u,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Be(l))return{data:null,error:l};throw l}})}createSignedUrls(r,n,i){return ee(this,void 0,void 0,function*(){try{const l=yield rr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:r},{headers:this.headers}),u=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:l.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${u}`):null})),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Be(l))return{data:null,error:l};throw l}})}download(r,n){const l=typeof n?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(n?.transform||{}),d=u?`?${u}`:"",f=this._getFinalPath(r),m=()=>Qs(this.fetch,`${this.url}/${l}/${f}${d}`,{headers:this.headers,noResolveJson:!0});return new d0(m,this.shouldThrowOnError)}info(r){return ee(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{const i=yield Qs(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ul(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Be(i))return{data:null,error:i};throw i}})}exists(r){return ee(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{return yield u0(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Be(i)&&i instanceof Ll){const l=i.originalError;if([400,404].includes(l?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(r,n){const i=this._getFinalPath(r),l=[],u=n?.download?`download=${n.download===!0?"":n.download}`:"";u!==""&&l.push(u);const f=typeof n?.transform<"u"?"render/image":"object",m=this.transformOptsToQueryString(n?.transform||{});m!==""&&l.push(m);let g=l.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${i}${g}`)}}}remove(r){return ee(this,void 0,void 0,function*(){try{return{data:yield Yl(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}})}list(r,n,i){return ee(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},h0),n),{prefix:r||""});return{data:yield rr(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},i),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Be(l))return{data:null,error:l};throw l}})}listV2(r,n){return ee(this,void 0,void 0,function*(){try{const i=Object.assign({},r);return{data:yield rr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Be(i))return{data:null,error:i};throw i}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const n=[];return r.width&&n.push(`width=${r.width}`),r.height&&n.push(`height=${r.height}`),r.resize&&n.push(`resize=${r.resize}`),r.format&&n.push(`format=${r.format}`),r.quality&&n.push(`quality=${r.quality}`),n.join("&")}}const of="2.84.0",af={"X-Client-Info":`storage-js/${of}`};class p0{constructor(r,n={},i,l){this.shouldThrowOnError=!1;const u=new URL(r);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},af),n),this.fetch=Ql(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(r){return ee(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(r);return{data:yield Qs(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}})}getBucket(r){return ee(this,void 0,void 0,function*(){try{return{data:yield Qs(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}})}createBucket(r){return ee(this,arguments,void 0,function*(n,i={public:!1}){try{return{data:yield rr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Be(l))return{data:null,error:l};throw l}})}updateBucket(r,n){return ee(this,void 0,void 0,function*(){try{return{data:yield Ml(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Be(i))return{data:null,error:i};throw i}})}emptyBucket(r){return ee(this,void 0,void 0,function*(){try{return{data:yield rr(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}})}deleteBucket(r){return ee(this,void 0,void 0,function*(){try{return{data:yield Yl(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(r){const n={};return r&&("limit"in r&&(n.limit=String(r.limit)),"offset"in r&&(n.offset=String(r.offset)),r.search&&(n.search=r.search),r.sortColumn&&(n.sortColumn=r.sortColumn),r.sortOrder&&(n.sortOrder=r.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class m0{constructor(r,n={},i){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},af),n),this.fetch=Ql(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return ee(this,void 0,void 0,function*(){try{return{data:yield rr(this.fetch,`${this.url}/bucket`,{name:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}})}listBuckets(r){return ee(this,void 0,void 0,function*(){try{const n=new URLSearchParams;r?.limit!==void 0&&n.set("limit",r.limit.toString()),r?.offset!==void 0&&n.set("offset",r.offset.toString()),r?.sortColumn&&n.set("sortColumn",r.sortColumn),r?.sortOrder&&n.set("sortOrder",r.sortOrder),r?.search&&n.set("search",r.search);const i=n.toString(),l=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`;return{data:yield Qs(this.fetch,l,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}})}deleteBucket(r){return ee(this,void 0,void 0,function*(){try{return{data:yield Yl(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}})}}const Xl={"X-Client-Info":`storage-js/${of}`,"Content-Type":"application/json"};class lf extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function At(a){return typeof a=="object"&&a!==null&&"__isStorageVectorsError"in a}class Sl extends lf{constructor(r,n,i){super(r),this.name="StorageVectorsApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class g0 extends lf{constructor(r,n){super(r),this.name="StorageVectorsUnknownError",this.originalError=n}}var sh;(function(a){a.InternalError="InternalError",a.S3VectorConflictException="S3VectorConflictException",a.S3VectorNotFoundException="S3VectorNotFoundException",a.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",a.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",a.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(sh||(sh={}));const Zl=a=>a?(...r)=>a(...r):(...r)=>fetch(...r),y0=a=>{if(typeof a!="object"||a===null)return!1;const r=Object.getPrototypeOf(a);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},ih=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),v0=(a,r,n)=>ee(void 0,void 0,void 0,function*(){if(a&&typeof a=="object"&&"status"in a&&"ok"in a&&typeof a.status=="number"&&!n?.noResolveJson){const l=a.status||500,u=a;if(typeof u.json=="function")u.json().then(d=>{const f=d?.statusCode||d?.code||l+"";r(new Sl(ih(d),l,f))}).catch(()=>{const d=l+"",f=u.statusText||`HTTP ${l} error`;r(new Sl(f,l,d))});else{const d=l+"",f=u.statusText||`HTTP ${l} error`;r(new Sl(f,l,d))}}else r(new g0(ih(a),a))}),w0=(a,r,n,i)=>{const l={method:a,headers:r?.headers||{}};return i?(y0(i)?(l.headers=Object.assign({"Content-Type":"application/json"},r?.headers),l.body=JSON.stringify(i)):l.body=i,Object.assign(Object.assign({},l),n)):l};function _0(a,r,n,i,l,u){return ee(this,void 0,void 0,function*(){return new Promise((d,f)=>{a(n,w0(r,i,l,u)).then(m=>{if(!m.ok)throw m;if(i?.noResolveJson)return m;const g=m.headers.get("content-type");return!g||!g.includes("application/json")?{}:m.json()}).then(m=>d(m)).catch(m=>v0(m,f,i))})})}function It(a,r,n,i,l){return ee(this,void 0,void 0,function*(){return _0(a,"POST",r,i,l,n)})}class b0{constructor(r,n={},i){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Xl),n),this.fetch=Zl(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(r){return ee(this,void 0,void 0,function*(){try{return{data:(yield It(this.fetch,`${this.url}/CreateIndex`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(At(n))return{data:null,error:n};throw n}})}getIndex(r,n){return ee(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:r,indexName:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(At(i))return{data:null,error:i};throw i}})}listIndexes(r){return ee(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/ListIndexes`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(At(n))return{data:null,error:n};throw n}})}deleteIndex(r,n){return ee(this,void 0,void 0,function*(){try{return{data:(yield It(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:r,indexName:n},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(At(i))return{data:null,error:i};throw i}})}}class S0{constructor(r,n={},i){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Xl),n),this.fetch=Zl(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(r){return ee(this,void 0,void 0,function*(){try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield It(this.fetch,`${this.url}/PutVectors`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(At(n))return{data:null,error:n};throw n}})}getVectors(r){return ee(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/GetVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(At(n))return{data:null,error:n};throw n}})}listVectors(r){return ee(this,void 0,void 0,function*(){try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:yield It(this.fetch,`${this.url}/ListVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(At(n))return{data:null,error:n};throw n}})}queryVectors(r){return ee(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/QueryVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(At(n))return{data:null,error:n};throw n}})}deleteVectors(r){return ee(this,void 0,void 0,function*(){try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield It(this.fetch,`${this.url}/DeleteVectors`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(At(n))return{data:null,error:n};throw n}})}}class k0{constructor(r,n={},i){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Xl),n),this.fetch=Zl(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return ee(this,void 0,void 0,function*(){try{return{data:(yield It(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(At(n))return{data:null,error:n};throw n}})}getBucket(r){return ee(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(At(n))return{data:null,error:n};throw n}})}listBuckets(){return ee(this,arguments,void 0,function*(r={}){try{return{data:yield It(this.fetch,`${this.url}/ListVectorBuckets`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(At(n))return{data:null,error:n};throw n}})}deleteBucket(r){return ee(this,void 0,void 0,function*(){try{return{data:(yield It(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(At(n))return{data:null,error:n};throw n}})}}class x0 extends k0{constructor(r,n={}){super(r,n.headers||{},n.fetch)}from(r){return new E0(this.url,this.headers,r,this.fetch)}}class E0 extends b0{constructor(r,n,i,l){super(r,n,l),this.vectorBucketName=i}createIndex(r){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ee(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const r=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ee(this,arguments,void 0,function*(n={}){return r.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(r){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ee(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,r)})}deleteIndex(r){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ee(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,r)})}index(r){return new j0(this.url,this.headers,this.vectorBucketName,r,this.fetch)}}class j0 extends S0{constructor(r,n,i,l,u){super(r,n,u),this.vectorBucketName=i,this.indexName=l}putVectors(r){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ee(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(r){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ee(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const r=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ee(this,arguments,void 0,function*(n={}){return r.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(r){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ee(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(r){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ee(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class T0 extends p0{constructor(r,n={},i,l){super(r,n,i,l)}from(r){return new f0(this.url,this.headers,r,this.fetch)}get vectors(){return new x0(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new m0(this.url+"/iceberg",this.headers,this.fetch)}}const C0="2.84.0";let Ks="";typeof Deno<"u"?Ks="deno":typeof document<"u"?Ks="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ks="react-native":Ks="node";const N0={"X-Client-Info":`supabase-js-${Ks}/${C0}`},O0={headers:N0},R0={schema:"public"},P0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},A0={},I0=a=>a?(...r)=>a(...r):(...r)=>fetch(...r),D0=()=>Headers,$0=(a,r,n)=>{const i=I0(n),l=D0();return async(u,d)=>{var f;const m=(f=await r())!==null&&f!==void 0?f:a;let g=new l(d?.headers);return g.has("apikey")||g.set("apikey",a),g.has("Authorization")||g.set("Authorization",`Bearer ${m}`),i(u,Object.assign(Object.assign({},d),{headers:g}))}};function L0(a){return a.endsWith("/")?a:a+"/"}function U0(a,r){var n,i;const{db:l,auth:u,realtime:d,global:f}=a,{db:m,auth:g,realtime:_,global:y}=r,S={db:Object.assign(Object.assign({},m),l),auth:Object.assign(Object.assign({},g),u),realtime:Object.assign(Object.assign({},_),d),storage:{},global:Object.assign(Object.assign(Object.assign({},y),f),{headers:Object.assign(Object.assign({},(n=y?.headers)!==null&&n!==void 0?n:{}),(i=f?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return a.accessToken?S.accessToken=a.accessToken:delete S.accessToken,S}function M0(a){const r=a?.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(L0(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const uf="2.84.0",rs=30*1e3,Bl=3,kl=Bl*rs,B0="http://localhost:9999",z0="supabase.auth.token",F0={"X-Client-Info":`gotrue-js/${uf}`},zl="X-Supabase-Api-Version",cf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},V0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,H0=600*1e3;class Ys extends Error{constructor(r,n,i){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function re(a){return typeof a=="object"&&a!==null&&"__isAuthError"in a}class W0 extends Ys{constructor(r,n,i){super(r,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function q0(a){return re(a)&&a.name==="AuthApiError"}class kn extends Ys{constructor(r,n){super(r),this.name="AuthUnknownError",this.originalError=n}}class Zr extends Ys{constructor(r,n,i,l){super(r,i,l),this.name=n,this.status=i}}class Pt extends Zr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function K0(a){return re(a)&&a.name==="AuthSessionMissingError"}class Qn extends Zr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class vo extends Zr{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class wo extends Zr{constructor(r,n=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function G0(a){return re(a)&&a.name==="AuthImplicitGrantRedirectError"}class oh extends Zr{constructor(r,n=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Fl extends Zr{constructor(r,n){super(r,"AuthRetryableFetchError",n,void 0)}}function xl(a){return re(a)&&a.name==="AuthRetryableFetchError"}class ah extends Zr{constructor(r,n,i){super(r,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class Vl extends Zr{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const xo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),lh=` 	
\r=`.split(""),J0=(()=>{const a=new Array(128);for(let r=0;r<a.length;r+=1)a[r]=-1;for(let r=0;r<lh.length;r+=1)a[lh[r].charCodeAt(0)]=-2;for(let r=0;r<xo.length;r+=1)a[xo[r].charCodeAt(0)]=r;return a})();function uh(a,r,n){if(a!==null)for(r.queue=r.queue<<8|a,r.queuedBits+=8;r.queuedBits>=6;){const i=r.queue>>r.queuedBits-6&63;n(xo[i]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const i=r.queue>>r.queuedBits-6&63;n(xo[i]),r.queuedBits-=6}}function df(a,r,n){const i=J0[a];if(i>-1)for(r.queue=r.queue<<6|i,r.queuedBits+=6;r.queuedBits>=8;)n(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}}function ch(a){const r=[],n=d=>{r.push(String.fromCodePoint(d))},i={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},u=d=>{X0(d,i,n)};for(let d=0;d<a.length;d+=1)df(a.charCodeAt(d),l,u);return r.join("")}function Q0(a,r){if(a<=127){r(a);return}else if(a<=2047){r(192|a>>6),r(128|a&63);return}else if(a<=65535){r(224|a>>12),r(128|a>>6&63),r(128|a&63);return}else if(a<=1114111){r(240|a>>18),r(128|a>>12&63),r(128|a>>6&63),r(128|a&63);return}throw new Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}function Y0(a,r){for(let n=0;n<a.length;n+=1){let i=a.charCodeAt(n);if(i>55295&&i<=56319){const l=(i-55296)*1024&65535;i=(a.charCodeAt(n+1)-56320&65535|l)+65536,n+=1}Q0(i,r)}}function X0(a,r,n){if(r.utf8seq===0){if(a<=127){n(a);return}for(let i=1;i<6;i+=1)if((a>>7-i&1)===0){r.utf8seq=i;break}if(r.utf8seq===2)r.codepoint=a&31;else if(r.utf8seq===3)r.codepoint=a&15;else if(r.utf8seq===4)r.codepoint=a&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(a<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|a&63,r.utf8seq-=1,r.utf8seq===0&&n(r.codepoint)}}function ss(a){const r=[],n={queue:0,queuedBits:0},i=l=>{r.push(l)};for(let l=0;l<a.length;l+=1)df(a.charCodeAt(l),n,i);return new Uint8Array(r)}function Z0(a){const r=[];return Y0(a,n=>r.push(n)),new Uint8Array(r)}function xn(a){const r=[],n={queue:0,queuedBits:0},i=l=>{r.push(l)};return a.forEach(l=>uh(l,n,i)),uh(null,n,i),r.join("")}function ey(a){return Math.round(Date.now()/1e3)+a}function ty(){return Symbol("auth-callback")}const at=()=>typeof window<"u"&&typeof document<"u",gn={tested:!1,writable:!1},hf=()=>{if(!at())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gn.tested)return gn.writable;const a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),gn.tested=!0,gn.writable=!0}catch{gn.tested=!0,gn.writable=!1}return gn.writable};function ry(a){const r={},n=new URL(a);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((l,u)=>{r[u]=l})}catch{}return n.searchParams.forEach((i,l)=>{r[l]=i}),r}const ff=a=>a?(...r)=>a(...r):(...r)=>fetch(...r),ny=a=>typeof a=="object"&&a!==null&&"status"in a&&"ok"in a&&"json"in a&&typeof a.json=="function",ns=async(a,r,n)=>{await a.setItem(r,JSON.stringify(n))},yn=async(a,r)=>{const n=await a.getItem(r);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Yr=async(a,r)=>{await a.removeItem(r)};class No{constructor(){this.promise=new No.promiseConstructor((r,n)=>{this.resolve=r,this.reject=n})}}No.promiseConstructor=Promise;function El(a){const r=a.split(".");if(r.length!==3)throw new Vl("Invalid JWT structure");for(let i=0;i<r.length;i++)if(!V0.test(r[i]))throw new Vl("JWT not in base64url format");return{header:JSON.parse(ch(r[0])),payload:JSON.parse(ch(r[1])),signature:ss(r[2]),raw:{header:r[0],payload:r[1]}}}async function sy(a){return await new Promise(r=>{setTimeout(()=>r(null),a)})}function iy(a,r){return new Promise((i,l)=>{(async()=>{for(let u=0;u<1/0;u++)try{const d=await a(u);if(!r(u,null,d)){i(d);return}}catch(d){if(!r(u,d)){l(d);return}}})()})}function oy(a){return("0"+a.toString(16)).substr(-2)}function ay(){const r=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let l="";for(let u=0;u<56;u++)l+=n.charAt(Math.floor(Math.random()*i));return l}return crypto.getRandomValues(r),Array.from(r,oy).join("")}async function ly(a){const n=new TextEncoder().encode(a),i=await crypto.subtle.digest("SHA-256",n),l=new Uint8Array(i);return Array.from(l).map(u=>String.fromCharCode(u)).join("")}async function uy(a){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a;const n=await ly(a);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Yn(a,r,n=!1){const i=ay();let l=i;n&&(l+="/PASSWORD_RECOVERY"),await ns(a,`${r}-code-verifier`,l);const u=await uy(i);return[u,i===u?"plain":"s256"]}const cy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function dy(a){const r=a.headers.get(zl);if(!r||!r.match(cy))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function hy(a){if(!a)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(a<=r)throw new Error("JWT has expired")}function fy(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const py=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Xn(a){if(!py.test(a))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function jl(){const a={};return new Proxy(a,{get:(r,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function my(a,r){return new Proxy(a,{get:(n,i,l)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const u=i.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,i,l)}return!r.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(n,i,l)}})}function dh(a){return JSON.parse(JSON.stringify(a))}const _n=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),gy=[502,503,504];async function hh(a){var r;if(!ny(a))throw new Fl(_n(a),0);if(gy.includes(a.status))throw new Fl(_n(a),a.status);let n;try{n=await a.json()}catch(u){throw new kn(_n(u),u)}let i;const l=dy(a);if(l&&l.getTime()>=cf["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new ah(_n(n),a.status,((r=n.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(i==="session_not_found")throw new Pt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((u,d)=>u&&typeof d=="string",!0))throw new ah(_n(n),a.status,n.weak_password.reasons);throw new W0(_n(n),a.status||500,i)}const yy=(a,r,n,i)=>{const l={method:a,headers:r?.headers||{}};return a==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r?.headers),l.body=JSON.stringify(i),Object.assign(Object.assign({},l),n))};async function le(a,r,n,i){var l;const u=Object.assign({},i?.headers);u[zl]||(u[zl]=cf["2024-01-01"].name),i?.jwt&&(u.Authorization=`Bearer ${i.jwt}`);const d=(l=i?.query)!==null&&l!==void 0?l:{};i?.redirectTo&&(d.redirect_to=i.redirectTo);const f=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",m=await vy(a,r,n+f,{headers:u,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(m):{data:Object.assign({},m),error:null}}async function vy(a,r,n,i,l,u){const d=yy(r,i,l,u);let f;try{f=await a(n,Object.assign({},d))}catch(m){throw console.error(m),new Fl(_n(m),0)}if(f.ok||await hh(f),i?.noResolveJson)return f;try{return await f.json()}catch(m){await hh(m)}}function tr(a){var r;let n=null;by(a)&&(n=Object.assign({},a),a.expires_at||(n.expires_at=ey(a.expires_in)));const i=(r=a.user)!==null&&r!==void 0?r:a;return{data:{session:n,user:i},error:null}}function fh(a){const r=tr(a);return!r.error&&a.weak_password&&typeof a.weak_password=="object"&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&typeof a.weak_password.message=="string"&&a.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(r.data.weak_password=a.weak_password),r}function Xr(a){var r;return{data:{user:(r=a.user)!==null&&r!==void 0?r:a},error:null}}function wy(a){return{data:a,error:null}}function _y(a){const{action_link:r,email_otp:n,hashed_token:i,redirect_to:l,verification_type:u}=a,d=os(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:r,email_otp:n,hashed_token:i,redirect_to:l,verification_type:u},m=Object.assign({},d);return{data:{properties:f,user:m},error:null}}function ph(a){return a}function by(a){return a.access_token&&a.refresh_token&&a.expires_in}const Tl=["global","local","others"];class Sy{constructor({url:r="",headers:n={},fetch:i}){this.url=r,this.headers=n,this.fetch=ff(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,n=Tl[0]){if(Tl.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Tl.join(", ")}`);try{return await le(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(i){if(re(i))return{data:null,error:i};throw i}}async inviteUserByEmail(r,n={}){try{return await le(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Xr})}catch(i){if(re(i))return{data:{user:null},error:i};throw i}}async generateLink(r){try{const{options:n}=r,i=os(r,["options"]),l=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(l.new_email=i?.newEmail,delete l.newEmail),await le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:_y,redirectTo:n?.redirectTo})}catch(n){if(re(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(r){try{return await le(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:Xr})}catch(n){if(re(n))return{data:{user:null},error:n};throw n}}async listUsers(r){var n,i,l,u,d,f,m;try{const g={nextPage:null,lastPage:0,total:0},_=await le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=r?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(u=(l=r?.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:ph});if(_.error)throw _.error;const y=await _.json(),S=(d=_.headers.get("x-total-count"))!==null&&d!==void 0?d:0,x=(m=(f=_.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&m!==void 0?m:[];return x.length>0&&(x.forEach(O=>{const P=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(O.split(";")[1].split("=")[1]);g[`${j}Page`]=P}),g.total=parseInt(S)),{data:Object.assign(Object.assign({},y),g),error:null}}catch(g){if(re(g))return{data:{users:[]},error:g};throw g}}async getUserById(r){Xn(r);try{return await le(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:Xr})}catch(n){if(re(n))return{data:{user:null},error:n};throw n}}async updateUserById(r,n){Xn(r);try{return await le(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:n,headers:this.headers,xform:Xr})}catch(i){if(re(i))return{data:{user:null},error:i};throw i}}async deleteUser(r,n=!1){Xn(r);try{return await le(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:n},xform:Xr})}catch(i){if(re(i))return{data:{user:null},error:i};throw i}}async _listFactors(r){Xn(r.userId);try{const{data:n,error:i}=await le(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:n,error:i}}catch(n){if(re(n))return{data:null,error:n};throw n}}async _deleteFactor(r){Xn(r.userId),Xn(r.id);try{return{data:await le(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}}async _listOAuthClients(r){var n,i,l,u,d,f,m;try{const g={nextPage:null,lastPage:0,total:0},_=await le(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=r?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(u=(l=r?.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:ph});if(_.error)throw _.error;const y=await _.json(),S=(d=_.headers.get("x-total-count"))!==null&&d!==void 0?d:0,x=(m=(f=_.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&m!==void 0?m:[];return x.length>0&&(x.forEach(O=>{const P=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(O.split(";")[1].split("=")[1]);g[`${j}Page`]=P}),g.total=parseInt(S)),{data:Object.assign(Object.assign({},y),g),error:null}}catch(g){if(re(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(r){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(re(n))return{data:null,error:n};throw n}}async _getOAuthClient(r){try{return await le(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(re(n))return{data:null,error:n};throw n}}async _updateOAuthClient(r,n){try{return await le(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(re(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(r){try{return await le(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(r){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(re(n))return{data:null,error:n};throw n}}}function mh(a={}){return{getItem:r=>a[r]||null,setItem:(r,n)=>{a[r]=n},removeItem:r=>{delete a[r]}}}const Zn={debug:!!(globalThis&&hf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class pf extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class ky extends pf{}async function xy(a,r,n){Zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,r);const i=new globalThis.AbortController;return r>0&&setTimeout(()=>{i.abort(),Zn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async l=>{if(l){Zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,l.name);try{return await n()}finally{Zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,l.name)}}else{if(r===0)throw Zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new ky(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(Zn.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Ey(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function mf(a){if(!/^0x[a-fA-F0-9]{40}$/.test(a))throw new Error(`@supabase/auth-js: Address "${a}" is invalid.`);return a.toLowerCase()}function jy(a){return parseInt(a,16)}function Ty(a){const r=new TextEncoder().encode(a);return"0x"+Array.from(r,i=>i.toString(16).padStart(2,"0")).join("")}function Cy(a){var r;const{chainId:n,domain:i,expirationTime:l,issuedAt:u=new Date,nonce:d,notBefore:f,requestId:m,resources:g,scheme:_,uri:y,version:S}=a;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(S!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${S}`);if(!((r=a.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${a.statement}`)}const x=mf(a.address),O=_?`${_}://${i}`:i,P=a.statement?`${a.statement}
`:"",j=`${O} wants you to sign in with your Ethereum account:
${x}

${P}`;let A=`URI: ${y}
Version: ${S}
Chain ID: ${n}${d?`
Nonce: ${d}`:""}
Issued At: ${u.toISOString()}`;if(l&&(A+=`
Expiration Time: ${l.toISOString()}`),f&&(A+=`
Not Before: ${f.toISOString()}`),m&&(A+=`
Request ID: ${m}`),g){let B=`
Resources:`;for(const M of g){if(!M||typeof M!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${M}`);B+=`
- ${M}`}A+=B}return`${j}
${A}`}class Je extends Error{constructor({message:r,code:n,cause:i,name:l}){var u;super(r,{cause:i}),this.__isWebAuthnError=!0,this.name=(u=l??(i instanceof Error?i.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=n}}class Eo extends Je{constructor(r,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:r}),this.name="WebAuthnUnknownError",this.originalError=n}}function Ny({error:a,options:r}){var n,i,l;const{publicKey:u}=r;if(!u)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Je({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else if(a.name==="ConstraintError"){if(((n=u.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Je({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:a});if(r.mediation==="conditional"&&((i=u.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Je({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:a});if(((l=u.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Je({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:a})}else{if(a.name==="InvalidStateError")return new Je({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:a});if(a.name==="NotAllowedError")return new Je({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="NotSupportedError")return u.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new Je({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:a}):new Je({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:a});if(a.name==="SecurityError"){const d=window.location.hostname;if(gf(d)){if(u.rp.id!==d)return new Je({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new Je({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new Je({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:a})}else if(a.name==="UnknownError")return new Je({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new Je({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}function Oy({error:a,options:r}){const{publicKey:n}=r;if(!n)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Je({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else{if(a.name==="NotAllowedError")return new Je({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="SecurityError"){const i=window.location.hostname;if(gf(i)){if(n.rpId!==i)return new Je({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new Je({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="UnknownError")return new Je({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new Je({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}class Ry{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const Py=new Ry;function Ay(a){if(!a)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(a);const{challenge:r,user:n,excludeCredentials:i}=a,l=os(a,["challenge","user","excludeCredentials"]),u=ss(r).buffer,d=Object.assign(Object.assign({},n),{id:ss(n.id).buffer}),f=Object.assign(Object.assign({},l),{challenge:u,user:d});if(i&&i.length>0){f.excludeCredentials=new Array(i.length);for(let m=0;m<i.length;m++){const g=i[m];f.excludeCredentials[m]=Object.assign(Object.assign({},g),{id:ss(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return f}function Iy(a){if(!a)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(a);const{challenge:r,allowCredentials:n}=a,i=os(a,["challenge","allowCredentials"]),l=ss(r).buffer,u=Object.assign(Object.assign({},i),{challenge:l});if(n&&n.length>0){u.allowCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const f=n[d];u.allowCredentials[d]=Object.assign(Object.assign({},f),{id:ss(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function Dy(a){var r;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const n=a;return{id:a.id,rawId:a.id,response:{attestationObject:xn(new Uint8Array(a.response.attestationObject)),clientDataJSON:xn(new Uint8Array(a.response.clientDataJSON))},type:"public-key",clientExtensionResults:a.getClientExtensionResults(),authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function $y(a){var r;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const n=a,i=a.getClientExtensionResults(),l=a.response;return{id:a.id,rawId:a.id,response:{authenticatorData:xn(new Uint8Array(l.authenticatorData)),clientDataJSON:xn(new Uint8Array(l.clientDataJSON)),signature:xn(new Uint8Array(l.signature)),userHandle:l.userHandle?xn(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function gf(a){return a==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(a)}function gh(){var a,r;return!!(at()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.create)=="function"&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.get)=="function")}async function Ly(a){try{const r=await navigator.credentials.create(a);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Eo("Browser returned unexpected credential type",r)}:{data:null,error:new Eo("Empty credential response",r)}}catch(r){return{data:null,error:Ny({error:r,options:a})}}}async function Uy(a){try{const r=await navigator.credentials.get(a);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Eo("Browser returned unexpected credential type",r)}:{data:null,error:new Eo("Empty credential response",r)}}catch(r){return{data:null,error:Oy({error:r,options:a})}}}const My={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},By={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function jo(...a){const r=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),n=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),i={};for(const l of a)if(l)for(const u in l){const d=l[u];if(d!==void 0)if(Array.isArray(d))i[u]=d;else if(n(d))i[u]=d;else if(r(d)){const f=i[u];r(f)?i[u]=jo(f,d):i[u]=jo(d)}else i[u]=d}return i}function zy(a,r){return jo(My,a,r||{})}function Fy(a,r){return jo(By,a,r||{})}class Vy{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:n,friendlyName:i,signal:l},u){try{const{data:d,error:f}=await this.client.mfa.challenge({factorId:r,webauthn:n});if(!d)return{data:null,error:f};const m=l??Py.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:g}=d.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${i}`),g.displayName||(g.displayName=g.name)}switch(d.webauthn.type){case"create":{const g=zy(d.webauthn.credential_options.publicKey,u?.create),{data:_,error:y}=await Ly({publicKey:g,signal:m});return _?{data:{factorId:r,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:_}},error:null}:{data:null,error:y}}case"request":{const g=Fy(d.webauthn.credential_options.publicKey,u?.request),{data:_,error:y}=await Uy(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:g,signal:m}));return _?{data:{factorId:r,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:_}},error:null}:{data:null,error:y}}}}catch(d){return re(d)?{data:null,error:d}:{data:null,error:new kn("Unexpected error in challenge",d)}}}async _verify({challengeId:r,factorId:n,webauthn:i}){return this.client.mfa.verify({factorId:n,challengeId:r,webauthn:i})}async _authenticate({factorId:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},u){if(!n)return{data:null,error:new Ys("rpId is required for WebAuthn authentication")};try{if(!gh())return{data:null,error:new kn("Browser does not support WebAuthn",null)};const{data:d,error:f}=await this.challenge({factorId:r,webauthn:{rpId:n,rpOrigins:i},signal:l},{request:u});if(!d)return{data:null,error:f};const{webauthn:m}=d;return this._verify({factorId:r,challengeId:d.challengeId,webauthn:{type:m.type,rpId:n,rpOrigins:i,credential_response:m.credential_response}})}catch(d){return re(d)?{data:null,error:d}:{data:null,error:new kn("Unexpected error in authenticate",d)}}}async _register({friendlyName:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},u){if(!n)return{data:null,error:new Ys("rpId is required for WebAuthn registration")};try{if(!gh())return{data:null,error:new kn("Browser does not support WebAuthn",null)};const{data:d,error:f}=await this._enroll({friendlyName:r});if(!d)return await this.client.mfa.listFactors().then(_=>{var y;return(y=_.data)===null||y===void 0?void 0:y.all.find(S=>S.factor_type==="webauthn"&&S.friendly_name===r&&S.status!=="unverified")}).then(_=>_?this.client.mfa.unenroll({factorId:_?.id}):void 0),{data:null,error:f};const{data:m,error:g}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:n,rpOrigins:i},signal:l},{create:u});return m?this._verify({factorId:d.id,challengeId:m.challengeId,webauthn:{rpId:n,rpOrigins:i,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:g}}catch(d){return re(d)?{data:null,error:d}:{data:null,error:new kn("Unexpected error in register",d)}}}}Ey();const Hy={url:B0,storageKey:z0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:F0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function yh(a,r,n){return await n()}const es={};class Xs{get jwks(){var r,n;return(n=(r=es[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(r){es[this.storageKey]=Object.assign(Object.assign({},es[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,n;return(n=(r=es[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){es[this.storageKey]=Object.assign(Object.assign({},es[this.storageKey]),{cachedAt:r})}constructor(r){var n,i,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},Hy),r);if(this.storageKey=u.storageKey,this.instanceID=(n=Xs.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Xs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&at()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new Sy({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=ff(u.fetch),this.lock=u.lock||yh,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,u.lock?this.lock=u.lock:at()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=xy:this.lock=yh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Vy(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:hf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=mh(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=mh(this.memoryStorage)),at()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(r){if(this.throwOnError&&r&&r.error)throw r.error;return r}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${uf}) ${new Date().toISOString()}`}_debug(...r){return this.logDebugMessages&&this.logger(this._logPrefix(),...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{let n={},i="none";if(at()&&(n=ry(window.location.href),this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce")),at()&&this.detectSessionInUrl&&i!=="none"){const{data:l,error:u}=await this._getSessionFromURL(n,i);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),G0(u)){const m=(r=u.details)===null||r===void 0?void 0:r.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:d,redirectType:f}=l;return this._debug("#_initialize()","detected session in URL",d,"redirect type",f),await this._saveSession(d),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return re(n)?this._returnResult({error:n}):this._returnResult({error:new kn("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var n,i,l;try{const u=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=r?.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(l=r?.options)===null||l===void 0?void 0:l.captchaToken}},xform:tr}),{data:d,error:f}=u;if(f||!d)return this._returnResult({data:{user:null,session:null},error:f});const m=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(u){if(re(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(r){var n,i,l;try{let u;if("email"in r){const{email:_,password:y,options:S}=r;let x=null,O=null;this.flowType==="pkce"&&([x,O]=await Yn(this.storage,this.storageKey)),u=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S?.emailRedirectTo,body:{email:_,password:y,data:(n=S?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:S?.captchaToken},code_challenge:x,code_challenge_method:O},xform:tr})}else if("phone"in r){const{phone:_,password:y,options:S}=r;u=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:y,data:(i=S?.data)!==null&&i!==void 0?i:{},channel:(l=S?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:S?.captchaToken}},xform:tr})}else throw new vo("You must provide either an email or phone number and a password");const{data:d,error:f}=u;if(f||!d)return this._returnResult({data:{user:null,session:null},error:f});const m=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(u){if(re(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(r){try{let n;if("email"in r){const{email:u,password:d,options:f}=r;n=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:d,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:fh})}else if("phone"in r){const{phone:u,password:d,options:f}=r;n=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:d,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:fh})}else throw new vo("You must provide either an email or phone number and a password");const{data:i,error:l}=n;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!i||!i.session||!i.user){const u=new Qn;return this._returnResult({data:{user:null,session:null},error:u})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:l})}catch(n){if(re(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(r){var n,i,l,u;return await this._handleProviderSignIn(r.provider,{redirectTo:(n=r.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=r.options)===null||i===void 0?void 0:i.scopes,queryParams:(l=r.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(u=r.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:n}=r;switch(n){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(r){var n,i,l,u,d,f,m,g,_,y,S;let x,O;if("message"in r)x=r.message,O=r.signature;else{const{chain:P,wallet:j,statement:A,options:B}=r;let M;if(at())if(typeof j=="object")M=j;else{const Ie=window;if("ethereum"in Ie&&typeof Ie.ethereum=="object"&&"request"in Ie.ethereum&&typeof Ie.ethereum.request=="function")M=Ie.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!B?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=j}const G=new URL((n=B?.url)!==null&&n!==void 0?n:window.location.href),fe=await M.request({method:"eth_requestAccounts"}).then(Ie=>Ie).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!fe||fe.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ne=mf(fe[0]);let me=(i=B?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!me){const Ie=await M.request({method:"eth_chainId"});me=jy(Ie)}const be={domain:G.host,address:ne,statement:A,uri:G.href,version:"1",chainId:me,nonce:(l=B?.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(d=(u=B?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(f=B?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(m=B?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(g=B?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(_=B?.signInWithEthereum)===null||_===void 0?void 0:_.resources};x=Cy(be),O=await M.request({method:"personal_sign",params:[Ty(x),ne]})}try{const{data:P,error:j}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:O},!((y=r.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(S=r.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:tr});if(j)throw j;if(!P||!P.session||!P.user){const A=new Qn;return this._returnResult({data:{user:null,session:null},error:A})}return P.session&&(await this._saveSession(P.session),await this._notifyAllSubscribers("SIGNED_IN",P.session)),this._returnResult({data:Object.assign({},P),error:j})}catch(P){if(re(P))return this._returnResult({data:{user:null,session:null},error:P});throw P}}async signInWithSolana(r){var n,i,l,u,d,f,m,g,_,y,S,x;let O,P;if("message"in r)O=r.message,P=r.signature;else{const{chain:j,wallet:A,statement:B,options:M}=r;let G;if(at())if(typeof A=="object")G=A;else{const ne=window;if("solana"in ne&&typeof ne.solana=="object"&&("signIn"in ne.solana&&typeof ne.solana.signIn=="function"||"signMessage"in ne.solana&&typeof ne.solana.signMessage=="function"))G=ne.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!M?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");G=A}const fe=new URL((n=M?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in G&&G.signIn){const ne=await G.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},M?.signInWithSolana),{version:"1",domain:fe.host,uri:fe.href}),B?{statement:B}:null));let me;if(Array.isArray(ne)&&ne[0]&&typeof ne[0]=="object")me=ne[0];else if(ne&&typeof ne=="object"&&"signedMessage"in ne&&"signature"in ne)me=ne;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in me&&"signature"in me&&(typeof me.signedMessage=="string"||me.signedMessage instanceof Uint8Array)&&me.signature instanceof Uint8Array)O=typeof me.signedMessage=="string"?me.signedMessage:new TextDecoder().decode(me.signedMessage),P=me.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in G)||typeof G.signMessage!="function"||!("publicKey"in G)||typeof G!="object"||!G.publicKey||!("toBase58"in G.publicKey)||typeof G.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");O=[`${fe.host} wants you to sign in with your Solana account:`,G.publicKey.toBase58(),...B?["",B,""]:[""],"Version: 1",`URI: ${fe.href}`,`Issued At: ${(l=(i=M?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((u=M?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${M.signInWithSolana.notBefore}`]:[],...!((d=M?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${M.signInWithSolana.expirationTime}`]:[],...!((f=M?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${M.signInWithSolana.chainId}`]:[],...!((m=M?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${M.signInWithSolana.nonce}`]:[],...!((g=M?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${M.signInWithSolana.requestId}`]:[],...!((y=(_=M?.signInWithSolana)===null||_===void 0?void 0:_.resources)===null||y===void 0)&&y.length?["Resources",...M.signInWithSolana.resources.map(me=>`- ${me}`)]:[]].join(`
`);const ne=await G.signMessage(new TextEncoder().encode(O),"utf8");if(!ne||!(ne instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");P=ne}}try{const{data:j,error:A}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:O,signature:xn(P)},!((S=r.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(x=r.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:tr});if(A)throw A;if(!j||!j.session||!j.user){const B=new Qn;return this._returnResult({data:{user:null,session:null},error:B})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:A})}catch(j){if(re(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(r){const n=await yn(this.storage,`${this.storageKey}-code-verifier`),[i,l]=(n??"").split("/");try{const{data:u,error:d}=await le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:i},xform:tr});if(await Yr(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!u||!u.session||!u.user){const f=new Qn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:l??null}),error:d})}catch(u){if(re(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(r){try{const{options:n,provider:i,token:l,access_token:u,nonce:d}=r,f=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:l,access_token:u,nonce:d,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:tr}),{data:m,error:g}=f;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m||!m.session||!m.user){const _=new Qn;return this._returnResult({data:{user:null,session:null},error:_})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:g})}catch(n){if(re(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(r){var n,i,l,u,d;try{if("email"in r){const{email:f,options:m}=r;let g=null,_=null;this.flowType==="pkce"&&([g,_]=await Yn(this.storage,this.storageKey));const{error:y}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(n=m?.data)!==null&&n!==void 0?n:{},create_user:(i=m?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:g,code_challenge_method:_},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in r){const{phone:f,options:m}=r,{data:g,error:_}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(l=m?.data)!==null&&l!==void 0?l:{},create_user:(u=m?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(d=m?.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g?.message_id},error:_})}throw new vo("You must provide either an email or phone number.")}catch(f){if(re(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(r){var n,i;try{let l,u;"options"in r&&(l=(n=r.options)===null||n===void 0?void 0:n.redirectTo,u=(i=r.options)===null||i===void 0?void 0:i.captchaToken);const{data:d,error:f}=await le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:u}}),redirectTo:l,xform:tr});if(f)throw f;if(!d)throw new Error("An error occurred on token verification.");const m=d.session,g=d.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(l){if(re(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(r){var n,i,l,u,d;try{let f=null,m=null;this.flowType==="pkce"&&([f,m]=await Yn(this.storage,this.storageKey));const g=await le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(i=(n=r.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((l=r?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:m}),headers:this.headers,xform:wy});return!((u=g.data)===null||u===void 0)&&u.url&&at()&&!(!((d=r.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(f){if(re(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;if(i)throw i;if(!n)throw new Pt;const{error:l}=await le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(r){if(re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async resend(r){try{const n=`${this.url}/resend`;if("email"in r){const{email:i,type:l,options:u}=r,{error:d}=await le(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in r){const{phone:i,type:l,options:u}=r,{data:d,error:f}=await le(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:l,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:f})}throw new vo("You must provide either an email or phone number and a type")}catch(n){if(re(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(r,n){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await r(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const n=await yn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?r=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const i=r.expires_at?r.expires_at*1e3-Date.now()<kl:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",r.expires_at),!i){if(this.userStorage){const d=await yn(this.userStorage,this.storageKey+"-user");d?.user?r.user=d.user:r.user=jl()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};r.user=my(r.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:l,error:u}=await this._callRefreshToken(r.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:Xr}):await this._useSession(async n=>{var i,l,u;const{data:d,error:f}=n;if(f)throw f;return!(!((i=d.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pt}:await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0,xform:Xr})})}catch(n){if(re(n))return K0(n)&&(await this._removeSession(),await Yr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(r,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,n))}async _updateUser(r,n={}){try{return await this._useSession(async i=>{const{data:l,error:u}=i;if(u)throw u;if(!l.session)throw new Pt;const d=l.session;let f=null,m=null;this.flowType==="pkce"&&r.email!=null&&([f,m]=await Yn(this.storage,this.storageKey));const{data:g,error:_}=await le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:f,code_challenge_method:m}),jwt:d.access_token,xform:Xr});if(_)throw _;return d.user=g.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(i){if(re(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new Pt;const n=Date.now()/1e3;let i=n,l=!0,u=null;const{payload:d}=El(r.access_token);if(d.exp&&(i=d.exp,l=i<=n),l){const{data:f,error:m}=await this._callRefreshToken(r.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!f)return{data:{user:null,session:null},error:null};u=f}else{const{data:f,error:m}=await this._getUser(r.access_token);if(m)throw m;u={access_token:r.access_token,refresh_token:r.refresh_token,user:f.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(n){if(re(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async n=>{var i;if(!r){const{data:d,error:f}=n;if(f)throw f;r=(i=d.session)!==null&&i!==void 0?i:void 0}if(!r?.refresh_token)throw new Pt;const{data:l,error:u}=await this._callRefreshToken(r.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(re(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(r,n){try{if(!at())throw new wo("No browser detected.");if(r.error||r.error_description||r.error_code)throw new wo(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new oh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new wo("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new oh("No code detected.");const{data:B,error:M}=await this._exchangeCodeForSession(r.code);if(M)throw M;const G=new URL(window.location.href);return G.searchParams.delete("code"),window.history.replaceState(window.history.state,"",G.toString()),{data:{session:B.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:l,access_token:u,refresh_token:d,expires_in:f,expires_at:m,token_type:g}=r;if(!u||!f||!d||!g)throw new wo("No session defined in URL");const _=Math.round(Date.now()/1e3),y=parseInt(f);let S=_+y;m&&(S=parseInt(m));const x=S-_;x*1e3<=rs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${y}s`);const O=S-y;_-O>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",O,S,_):_-O<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",O,S,_);const{data:P,error:j}=await this._getUser(u);if(j)throw j;const A={provider_token:i,provider_refresh_token:l,access_token:u,expires_in:y,expires_at:S,refresh_token:d,token_type:g,user:P.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:A,redirectType:r.type},error:null})}catch(i){if(re(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const n=await yn(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&n)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:l,error:u}=n;if(u)return this._returnResult({error:u});const d=(i=l.session)===null||i===void 0?void 0:i.access_token;if(d){const{error:f}=await this.admin.signOut(d,r);if(f&&!(q0(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return r!=="others"&&(await this._removeSession(),await Yr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(r){const n=ty(),i={id:n,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(r){return await this._useSession(async n=>{var i,l;try{const{data:{session:u},error:d}=n;if(d)throw d;await((i=this.stateChangeEmitters.get(r))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",r,"session",u)}catch(u){await((l=this.stateChangeEmitters.get(r))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",u),console.error(u)}})}async resetPasswordForEmail(r,n={}){let i=null,l=null;this.flowType==="pkce"&&([i,l]=await Yn(this.storage,this.storageKey,!0));try{return await le(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:i,code_challenge_method:l,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(u){if(re(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var r;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(r=n.user.identities)!==null&&r!==void 0?r:[]},error:null})}catch(n){if(re(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var n;try{const{data:i,error:l}=await this._useSession(async u=>{var d,f,m,g,_;const{data:y,error:S}=u;if(S)throw S;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(d=r.options)===null||d===void 0?void 0:d.redirectTo,scopes:(f=r.options)===null||f===void 0?void 0:f.scopes,queryParams:(m=r.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await le(this.fetch,"GET",x,{headers:this.headers,jwt:(_=(g=y.session)===null||g===void 0?void 0:g.access_token)!==null&&_!==void 0?_:void 0})});if(l)throw l;return at()&&!(!((n=r.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:r.provider,url:i?.url},error:null})}catch(i){if(re(i))return this._returnResult({data:{provider:r.provider,url:null},error:i});throw i}}async linkIdentityIdToken(r){return await this._useSession(async n=>{var i;try{const{error:l,data:{session:u}}=n;if(l)throw l;const{options:d,provider:f,token:m,access_token:g,nonce:_}=r,y=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=u?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:f,id_token:m,access_token:g,nonce:_,link_identity:!0,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:tr}),{data:S,error:x}=y;return x?this._returnResult({data:{user:null,session:null},error:x}):!S||!S.session||!S.user?this._returnResult({data:{user:null,session:null},error:new Qn}):(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("USER_UPDATED",S.session)),this._returnResult({data:S,error:x}))}catch(l){if(re(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(r){try{return await this._useSession(async n=>{var i,l;const{data:u,error:d}=n;if(d)throw d;return await le(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(l=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0})})}catch(n){if(re(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(r){const n=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await iy(async l=>(l>0&&await sy(200*Math.pow(2,l-1)),this._debug(n,"refreshing attempt",l),await le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:tr})),(l,u)=>{const d=200*Math.pow(2,l);return u&&xl(u)&&Date.now()+d-i<rs})}catch(i){if(this._debug(n,"error",i),re(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(n,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",n,"url",i),at()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:r,url:i},error:null}}async _recoverAndRefresh(){var r,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const l=await yn(this.storage,this.storageKey);if(l&&this.userStorage){let d=await yn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:l.user},await ns(this.userStorage,this.storageKey+"-user",d)),l.user=(r=d?.user)!==null&&r!==void 0?r:jl()}else if(l&&!l.user&&!l.user){const d=await yn(this.storage,this.storageKey+"-user");d&&d?.user?(l.user=d.user,await Yr(this.storage,this.storageKey+"-user"),await ns(this.storage,this.storageKey,l)):l.user=jl()}if(this._debug(i,"session from storage",l),!this._isValidSession(l)){this._debug(i,"session is not valid"),l!==null&&await this._removeSession();return}const u=((n=l.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<kl;if(this._debug(i,`session has${u?"":" not"} expired with margin of ${kl}s`),u){if(this.autoRefreshToken&&l.refresh_token){const{error:d}=await this._callRefreshToken(l.refresh_token);d&&(console.error(d),xl(d)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:f}=await this._getUser(l.access_token);!f&&d?.user?(l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(i,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(i,"error",l),console.error(l);return}finally{this._debug(i,"end")}}async _callRefreshToken(r){var n,i;if(!r)throw new Pt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new No;const{data:u,error:d}=await this._refreshAccessToken(r);if(d)throw d;if(!u.session)throw new Pt;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const f={data:u.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(u){if(this._debug(l,"error",u),re(u)){const d={data:null,error:u};return xl(u)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(d),d}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(u),u}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(r,n,i=!0){const l=`#_notifyAllSubscribers(${r})`;this._debug(l,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:r,session:n});const u=[],d=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(r,n)}catch(m){u.push(m)}});if(await Promise.all(d),u.length>0){for(let f=0;f<u.length;f+=1)console.error(u[f]);throw u[0]}}finally{this._debug(l,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const n=Object.assign({},r),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await ns(this.userStorage,this.storageKey+"-user",{user:n.user});const l=Object.assign({},n);delete l.user;const u=dh(l);await ns(this.storage,this.storageKey,u)}else{const l=dh(n);await ns(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await Yr(this.storage,this.storageKey),await Yr(this.storage,this.storageKey+"-code-verifier"),await Yr(this.storage,this.storageKey+"-user"),this.userStorage&&await Yr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&at()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",r)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),rs);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((i.expires_at*1e3-r)/rs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${rs}ms, refresh threshold is ${Bl} ticks`),l<=Bl&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof pf)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!at()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const n=`#_onVisibilityChanged(${r})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,n,i){const l=[`provider=${encodeURIComponent(n)}`];if(i?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&l.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[u,d]=await Yn(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(d)}`});l.push(f.toString())}if(i?.queryParams){const u=new URLSearchParams(i.queryParams);l.push(u.toString())}return i?.skipBrowserRedirect&&l.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${r}?${l.join("&")}`}async _unenroll(r){try{return await this._useSession(async n=>{var i;const{data:l,error:u}=n;return u?this._returnResult({data:null,error:u}):await le(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(re(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(r){try{return await this._useSession(async n=>{var i,l;const{data:u,error:d}=n;if(d)return this._returnResult({data:null,error:d});const f=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:m,error:g}=await le(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(i=u?.session)===null||i===void 0?void 0:i.access_token});return g?this._returnResult({data:null,error:g}):(r.factorType==="totp"&&m.type==="totp"&&(!((l=m?.totp)===null||l===void 0)&&l.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(n){if(re(n))return this._returnResult({data:null,error:n});throw n}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:l,error:u}=n;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?Dy(r.webauthn.credential_response):$y(r.webauthn.credential_response)})}:{code:r.code}),{data:f,error:m}=await le(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:d,headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:m}))})}catch(n){if(re(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:l,error:u}=n;if(u)return this._returnResult({data:null,error:u});const d=await le(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token});if(d.error)return d;const{data:f}=d;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:Ay(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:Iy(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(re(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(r){const{data:n,error:i}=await this._challenge({factorId:r.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:r.factorId,challengeId:n.id,code:r.code})}async _listFactors(){var r;const{data:{user:n},error:i}=await this.getUser();if(i)return{data:null,error:i};const l={all:[],phone:[],totp:[],webauthn:[]};for(const u of(r=n?.factors)!==null&&r!==void 0?r:[])l.all.push(u),u.status==="verified"&&l[u.factor_type].push(u);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(){var r,n;const{data:{session:i},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=El(i.access_token);let d=null;u.aal&&(d=u.aal);let f=d;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(_=>_.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(f="aal2");const g=u.amr||[];return{data:{currentLevel:d,nextLevel:f,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async n=>{const{data:{session:i},error:l}=n;return l?this._returnResult({data:null,error:l}):i?await le(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:i.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Pt})})}catch(n){if(re(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(r,n){try{return await this._useSession(async i=>{const{data:{session:l},error:u}=i;if(u)return this._returnResult({data:null,error:u});if(!l)return this._returnResult({data:null,error:new Pt});const d=await le(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return d.data&&d.data.redirect_url&&at()&&!n?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(i){if(re(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(r,n){try{return await this._useSession(async i=>{const{data:{session:l},error:u}=i;if(u)return this._returnResult({data:null,error:u});if(!l)return this._returnResult({data:null,error:new Pt});const d=await le(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return d.data&&d.data.redirect_url&&at()&&!n?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(i){if(re(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await le(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Pt})})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async _revokeOAuthGrant(r){try{return await this._useSession(async n=>{const{data:{session:i},error:l}=n;return l?this._returnResult({data:null,error:l}):i?await le(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:r.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new Pt})})}catch(n){if(re(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(r,n={keys:[]}){let i=n.keys.find(f=>f.kid===r);if(i)return i;const l=Date.now();if(i=this.jwks.keys.find(f=>f.kid===r),i&&this.jwks_cached_at+H0>l)return i;const{data:u,error:d}=await le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=l,i=u.keys.find(f=>f.kid===r),!i)?null:i}async getClaims(r,n={}){try{let i=r;if(!i){const{data:x,error:O}=await this.getSession();if(O||!x.session)return this._returnResult({data:null,error:O});i=x.session.access_token}const{header:l,payload:u,signature:d,raw:{header:f,payload:m}}=El(i);n?.allowExpired||hy(u.exp);const g=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!g){const{error:x}=await this.getUser(i);if(x)throw x;return{data:{claims:u,header:l,signature:d},error:null}}const _=fy(l.alg),y=await crypto.subtle.importKey("jwk",g,_,!0,["verify"]);if(!await crypto.subtle.verify(_,y,d,Z0(`${f}.${m}`)))throw new Vl("Invalid JWT signature");return{data:{claims:u,header:l,signature:d},error:null}}catch(i){if(re(i))return this._returnResult({data:null,error:i});throw i}}}Xs.nextInstanceID={};const Wy=Xs;class qy extends Wy{constructor(r){super(r)}}class Ky{constructor(r,n,i){var l,u,d;this.supabaseUrl=r,this.supabaseKey=n;const f=M0(r);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const m=`sb-${f.hostname.split(".")[0]}-auth-token`,g={db:R0,realtime:A0,auth:Object.assign(Object.assign({},P0),{storageKey:m}),global:O0},_=U0(i??{},g);this.storageKey=(l=_.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(u=_.global.headers)!==null&&u!==void 0?u:{},_.accessToken?(this.accessToken=_.accessToken,this.auth=new Proxy({},{get:(y,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=_.auth)!==null&&d!==void 0?d:{},this.headers,_.global.fetch),this.fetch=$0(n,this._getAccessToken.bind(this),_.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},_.realtime)),this.accessToken&&this.accessToken().then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new Bg(new URL("rest/v1",f).href,{headers:this.headers,schema:_.db.schema,fetch:this.fetch}),this.storage=new T0(this.storageUrl.href,this.headers,this.fetch,i?.storage),_.accessToken||this._listenForAuthEvents()}get functions(){return new $g(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,n={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,n,i)}channel(r,n={config:{}}){return this.realtime.channel(r,n)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r,n;if(this.accessToken)return await this.accessToken();const{data:i}=await this.auth.getSession();return(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:n,detectSessionInUrl:i,storage:l,userStorage:u,storageKey:d,flowType:f,lock:m,debug:g,throwOnError:_},y,S){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qy({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),y),storageKey:d,autoRefreshToken:r,persistSession:n,detectSessionInUrl:i,storage:l,userStorage:u,flowType:f,lock:m,debug:g,throwOnError:_,fetch:S,hasCustomAuthorizationHeader:Object.keys(this.headers).some(O=>O.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new n0(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i?.access_token)})}_handleTokenChanged(r,n,i){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Gy=(a,r,n)=>new Ky(a,r,n);function Jy(){if(typeof window<"u"||typeof process>"u")return!1;const a=process.version;if(a==null)return!1;const r=a.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Jy()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const yf="rcnyrwziftitsalkxtrr",bo="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJjbnlyd3ppZnRpdHNhbGt4dHJyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQwNTkyMjksImV4cCI6MjA3OTYzNTIyOX0.ntBu8aKVak05vJRlbdqCVrZEpBLAtHcZkX8M90JAd6U",Qy=`https://${yf}.supabase.co`,xr=Gy(Qy,bo,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0},realtime:{params:{eventsPerSecond:10}}}),dr=`https://${yf}.supabase.co/functions/v1/make-server-4b5dbeea`,vn=async()=>{try{const{data:{session:a}}=await xr.auth.getSession();if(!a?.access_token)throw console.error(" No session found when getting auth header"),new Error("Not authenticated - please log in again");return console.log(" Got auth token for request"),{Authorization:`Bearer ${a.access_token}`,"Content-Type":"application/json"}}catch(a){throw console.error(" Error getting auth header:",a),a}},lt={async signUp(a,r,n){const i=await fetch(`${dr}/auth/signup`,{method:"POST",headers:{Authorization:`Bearer ${bo}`,"Content-Type":"application/json"},body:JSON.stringify({email:a,password:r,name:n})});if(!i.ok){const l=await i.json();throw new Error(l.error||"Failed to sign up")}return i.json()},async signIn(a,r){const{data:n,error:i}=await xr.auth.signInWithPassword({email:a,password:r});if(i)throw new Error(i.message);return n},async signOut(){const{error:a}=await xr.auth.signOut();if(a)throw new Error(a.message)},async getSession(){const{data:{session:a},error:r}=await xr.auth.getSession();if(r)throw new Error(r.message);return a},async getMedications(){const a=await vn(),r=await fetch(`${dr}/medications`,{headers:a});if(!r.ok){const n=await r.json();throw new Error(n.error||"Failed to fetch medications")}return r.json()},async addMedication(a){const r=await vn(),n=await fetch(`${dr}/medications`,{method:"POST",headers:r,body:JSON.stringify(a)});if(!n.ok){const i=await n.json();throw new Error(i.error||"Failed to add medication")}return n.json()},async updateMedication(a,r){const n=await vn(),i=await fetch(`${dr}/medications/${a}`,{method:"PUT",headers:n,body:JSON.stringify(r)});if(!i.ok){const l=await i.json();throw console.error(" Update medication error response:",l),new Error(l.details||l.error||"Failed to update medication")}return i.json()},async deleteMedication(a){const r=await vn(),n=await fetch(`${dr}/medications/${a}`,{method:"DELETE",headers:r});if(!n.ok){const i=await n.json();throw new Error(i.error||"Failed to delete medication")}return n.json()},async getTodayLogs(a){const r=await vn(),n=a||new Date().toISOString().split("T")[0],i=await fetch(`${dr}/logs/today?date=${n}`,{headers:r});if(!i.ok){const l=await i.json();throw new Error(l.error||"Failed to fetch logs")}return i.json()},async markAsTaken(a,r,n){const i=await vn(),l=await fetch(`${dr}/logs`,{method:"POST",headers:i,body:JSON.stringify({medication_id:a,scheduled_time:r,marked_by:n})});if(!l.ok){const u=await l.json();throw new Error(u.error||"Failed to mark as taken")}return l.json()},async unmarkAsTaken(a,r){const n=await vn(),i=r||new Date().toISOString().split("T")[0],l=await fetch(`${dr}/logs/${a}?date=${i}`,{method:"DELETE",headers:n});if(!l.ok){const u=await l.json();throw new Error(u.error||"Failed to unmark")}return l.json()},async initializeDatabase(){const a=await fetch(`${dr}/init`,{method:"POST",headers:{Authorization:`Bearer ${bo}`,"Content-Type":"application/json"}});if(!a.ok){const r=await a.json();throw new Error(r.error||"Failed to initialize database")}return a.json()},async checkDatabaseSetup(){try{const a=await fetch(`${dr}/check-setup`,{headers:{Authorization:`Bearer ${bo}`,"Content-Type":"application/json"}});return a.ok?a.json():(console.error(" Check setup response not OK:",a.status),{success:!1,isSetup:!1,error:"Failed to check setup"})}catch(a){return console.error(" Error checking database setup:",a),{success:!1,isSetup:!1,error:String(a)}}}},Yy=({onLogin:a,onSignUp:r,error:n,loading:i})=>{const[l,u]=he.useState(!1),[d,f]=he.useState(""),[m,g]=he.useState(""),[_,y]=he.useState(""),[S,x]=he.useState(!1),O=async P=>{P.preventDefault(),l?await r(d,m,_):await a(d,m)};return v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4",children:v.jsxs("div",{className:"w-full max-w-md",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-slate-900 rounded-2xl mb-4",children:v.jsx(Nl,{className:"w-8 h-8 text-white"})}),v.jsx("h1",{className:"text-slate-900 mb-2",children:"Pill Timer"}),v.jsx("p",{className:"text-slate-600",children:"Family Medication Tracking"})]}),v.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[v.jsxs("div",{className:"mb-6",children:[v.jsx("h2",{className:"text-slate-900 mb-2",children:l?"Create Account":"Welcome Back"}),v.jsx("p",{className:"text-slate-600",children:l?"Sign up to start tracking your family medications":"Sign in to access your medications"})]}),n&&v.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-xl",children:v.jsx("p",{className:"text-red-600",children:n})}),v.jsxs("form",{onSubmit:O,className:"space-y-4",children:[l&&v.jsxs("div",{children:[v.jsx("label",{htmlFor:"name",className:"block text-slate-700 mb-2",children:"Family Name / Your Name"}),v.jsx("input",{id:"name",type:"text",placeholder:"e.g., Smith Family or John",value:_,onChange:P=>y(P.target.value),required:l,className:"w-full px-4 py-3 rounded-xl border border-slate-200 bg-white focus:outline-none focus:ring-2 focus:ring-slate-900 focus:border-transparent transition-all"})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"email",className:"block text-slate-700 mb-2",children:"Email"}),v.jsx("input",{id:"email",type:"email",placeholder:"family@example.com",value:d,onChange:P=>f(P.target.value),required:!0,className:"w-full px-4 py-3 rounded-xl border border-slate-200 bg-white focus:outline-none focus:ring-2 focus:ring-slate-900 focus:border-transparent transition-all"})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"password",className:"block text-slate-700 mb-2",children:"Password"}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{id:"password",type:S?"text":"password",placeholder:"",value:m,onChange:P=>g(P.target.value),required:!0,minLength:6,className:"w-full px-4 py-3 pr-12 rounded-xl border border-slate-200 bg-white focus:outline-none focus:ring-2 focus:ring-slate-900 focus:border-transparent transition-all"}),v.jsx("button",{type:"button",onClick:()=>x(!S),className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 text-slate-500 hover:text-slate-700 transition-colors",children:S?v.jsx(Mm,{className:"w-5 h-5"}):v.jsx(zm,{className:"w-5 h-5"})})]}),l&&v.jsx("p",{className:"text-slate-500 mt-1",children:"Minimum 6 characters"})]}),v.jsx("button",{type:"submit",disabled:i,className:"w-full px-6 py-3 bg-slate-900 text-white rounded-xl hover:bg-slate-800 transition-all duration-200 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:i?v.jsxs("span",{className:"inline-flex items-center gap-2",children:[v.jsx("span",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),l?"Creating Account...":"Signing In..."]}):l?"Create Account":"Sign In"})]}),v.jsx("div",{className:"mt-6 text-center",children:v.jsx("button",{type:"button",onClick:()=>{u(!l),f(""),g(""),y("")},className:"text-slate-600 hover:text-slate-900 transition-colors",children:l?v.jsxs(v.Fragment,{children:["Already have an account? ",v.jsx("span",{className:"text-slate-900",children:"Sign In"})]}):v.jsxs(v.Fragment,{children:["Don't have an account? ",v.jsx("span",{className:"text-slate-900",children:"Sign Up"})]})})}),l&&v.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-xl",children:[v.jsx("p",{className:"text-blue-900 mb-2",children:" Family Sharing Tip"}),v.jsx("p",{className:"text-blue-700",children:"Create one account and share the login credentials with your family members. Everyone will see the same medications and can mark them as taken in real-time!"})]})]}),v.jsx("p",{className:"text-center text-slate-500 mt-6",children:"Your family's health data is private and secure"})]})})},_o=[{title:"Welcome to Pill Timer",description:"Let's set up your family medication tracker in just a few steps."},{title:"Database Setup",description:"We need to create database tables to store your medications and tracking logs."},{title:"Setup Complete!",description:" Your database is ready! You can now start tracking medications for your family."}];function Xy({onComplete:a}){const[r,n]=he.useState(0),[i,l]=he.useState(!1),[u,d]=he.useState(!0),[f,m]=he.useState(null);he.useEffect(()=>{g()},[]);const g=async()=>{d(!0);try{console.log(" Checking database status...");const S=await lt.checkDatabaseSetup();console.log(" Database status result:",S),S.success&&(m({medicationsExists:S.medicationsExists||!1,logsExists:S.logsExists||!1,needsSetup:S.needsSetup||!1}),S.isSetup&&(console.log(" Database already set up, completing setup..."),setTimeout(()=>{a()},500)))}catch(S){console.error(" Error checking database status:",S)}finally{d(!1)}},_=async()=>{l(!0);try{console.log(" Creating tables automatically...");const S=await lt.initializeDatabase();if(console.log(" Auto-create result:",S),S.success)console.log(" SUCCESS! Tables created, advancing to step 2"),await g(),setTimeout(()=>{l(!1),n(2)},500);else{console.error(" Auto-create failed:",S),l(!1);const x=S.error||S.message||"Unknown error";alert(` Automatic table creation failed

Error: ${x}

Please try one of these options:

1. REFRESH the page and try the button again
2. Manually run the SQL:
    Copy the SQL code above
    Open the SQL Editor (click the link)
    Paste and click RUN
    Come back and refresh the page`)}}catch(S){console.error(" Error creating tables:",S),l(!1),alert(` Failed to create tables

Error: ${S.message||String(S)}

Please try:
1. REFRESH the page and click the button again
2. Or manually run the SQL using the instructions above`)}},y=_o[r];return v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4",children:v.jsxs("div",{className:"w-full max-w-2xl",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-slate-900 rounded-2xl mb-4",children:v.jsx(Dm,{className:"w-8 h-8 text-white"})}),v.jsx("h1",{className:"text-slate-900 mb-2",children:"Database Setup"}),v.jsx("p",{className:"text-slate-600",children:"Setting up Pill Timer for your family"})]}),v.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[v.jsx("div",{className:"flex items-center justify-between mb-8",children:_o.map((S,x)=>v.jsxs(V.Fragment,{children:[v.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${x<=r?"bg-slate-900 text-white":"bg-slate-200 text-slate-500"}`,children:x<r?v.jsx(yl,{className:"w-6 h-6"}):v.jsx("span",{children:x+1})}),x<_o.length-1&&v.jsx("div",{className:`flex-1 h-1 mx-2 ${x<r?"bg-slate-900":"bg-slate-200"}`})]},x))}),v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("h2",{className:"text-slate-900 mb-3",children:y.title}),v.jsx("p",{className:"text-slate-600",children:y.description})]}),r===1&&v.jsxs("div",{className:"mb-6",children:[u?v.jsx("div",{className:"mb-4 p-4 bg-blue-50 rounded-xl border border-blue-200",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-5 h-5 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),v.jsx("p",{className:"text-slate-700",children:"Checking database status..."})]})}):f?v.jsxs("div",{className:"mb-4 p-4 bg-slate-50 rounded-xl border border-slate-200",children:[v.jsx("p",{className:"text-slate-900 mb-3",children:v.jsx("strong",{children:"Database Status:"})}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[f.medicationsExists?v.jsx(yl,{className:"w-4 h-4 text-green-600"}):v.jsx(gl,{className:"w-4 h-4 text-orange-600"}),v.jsxs("span",{className:"text-slate-700",children:["Medications table: ",f.medicationsExists?"Found":"Not found"]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[f.logsExists?v.jsx(yl,{className:"w-4 h-4 text-green-600"}):v.jsx(gl,{className:"w-4 h-4 text-orange-600"}),v.jsxs("span",{className:"text-slate-700",children:["Medication logs table: ",f.logsExists?"Found":"Not found"]})]})]})]}):null,v.jsx("div",{className:"p-4 bg-blue-50 rounded-xl border border-blue-200",children:v.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[v.jsx(gl,{className:"w-5 h-5 text-blue-600 mt-0.5"}),v.jsxs("div",{children:[v.jsxs("p",{className:"text-slate-900 mb-2",children:[v.jsx("strong",{children:"Automatic Setup:"})," Click the button below to create the database tables"]}),v.jsx("p",{className:"text-slate-600",children:f?.needsSetup?"Tables need to be created. Click the button below to set them up automatically.":"If automatic setup fails, you can run the SQL manually in your Supabase Dashboard."})]})]})})]}),v.jsxs("div",{className:"flex gap-3",children:[r>0&&r<_o.length-1&&v.jsx("button",{onClick:()=>n(r-1),disabled:i,className:"flex-1 px-6 py-3 bg-slate-100 text-slate-900 rounded-xl hover:bg-slate-200 transition-all duration-200 disabled:opacity-50",children:"Back"}),r===0&&v.jsx("button",{onClick:()=>n(1),className:"flex-1 px-6 py-3 bg-slate-900 text-white rounded-xl hover:bg-slate-800 transition-all duration-200 active:scale-95",children:"Get Started"}),r===1&&v.jsx("button",{onClick:_,disabled:i,className:"flex-1 px-6 py-3 bg-slate-900 text-white rounded-xl hover:bg-slate-800 transition-all duration-200 active:scale-95 disabled:opacity-50",children:i?v.jsxs("span",{className:"inline-flex items-center gap-2",children:[v.jsx("span",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Creating Tables..."]}):" Create Tables Automatically"}),r===2&&v.jsx("button",{onClick:a,className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-all duration-200 active:scale-95",children:"Continue to App"})]})]}),v.jsx("p",{className:"text-center text-slate-500 mt-6",children:"Need help? Check the Supabase documentation"})]})})}const vh=a=>{if(!a)return"";const[r,n]=a.split(":").map(Number);if(isNaN(r)||isNaN(n))return a;const i=r>=12?"PM":"AM";let l=r%12;return l===0&&(l=12),`${l.toString().padStart(2,"0")} ${i}`},Zy=()=>{const a=new Date().getHours();return a<12?"Good Morning":a<18?"Good Afternoon":"Good Evening"},wh=a=>{if(!a.daysNeeded||!a.startDate)return null;const r=new Date(a.startDate),i=Math.abs(new Date().getTime()-r.getTime()),l=Math.ceil(i/(1e3*60*60*24)),u=a.daysNeeded-l;return{daysElapsed:l,daysRemaining:Math.max(0,u),daysNeeded:a.daysNeeded,progress:Math.min(100,l/a.daysNeeded*100),isComplete:u<=0}},ev=(a,r)=>{if(!a.startDate||!a.endDate)return!0;const n=new Date(r);n.setHours(0,0,0,0);const i=new Date(a.startDate);i.setHours(0,0,0,0);const l=new Date(a.endDate);return l.setHours(0,0,0,0),n>=i&&n<=l},_h=(a,r,n,i)=>{let l=a.filter(u=>ev(u,r));return n||(l=l.filter(u=>!u.taken)),l.sort((u,d)=>i==="time"?u.time.localeCompare(d.time):i==="name"?u.name.localeCompare(d.name):i==="status"?u.taken===d.taken?0:u.taken?1:-1:0)},Cl=({children:a,onClick:r,variant:n="primary",size:i="md",className:l="",type:u="button",disabled:d=!1})=>{const f="inline-flex items-center justify-center rounded-xl transition-all duration-200 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",m={primary:"bg-slate-900 text-white hover:bg-slate-800",secondary:"bg-slate-100 text-slate-900 hover:bg-slate-200",ghost:"bg-transparent hover:bg-slate-100 text-slate-700",danger:"bg-red-50 text-red-600 hover:bg-red-100"},g={sm:"px-3 py-1.5",md:"px-4 py-2",lg:"px-6 py-3"};return v.jsx("button",{type:u,onClick:r,disabled:d,className:`${f} ${m[n]} ${g[i]} ${l}`,children:a})},wn=({type:a="text",placeholder:r,value:n,onChange:i,required:l=!1,className:u=""})=>v.jsx("input",{type:a,placeholder:r,value:n,onChange:i,required:l,className:`w-full px-4 py-2.5 rounded-xl border border-slate-200 bg-white focus:outline-none focus:ring-2 focus:ring-slate-900 focus:border-transparent transition-all ${u}`}),ts=({children:a,className:r="",onClick:n})=>v.jsx("div",{onClick:n,className:`bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow duration-200 ${r}`,children:a}),tv=({isOpen:a,onClose:r,children:n,title:i})=>a?v.jsxs("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center animate-fadeIn",children:[v.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:r}),v.jsxs("div",{className:"relative w-full max-w-md mx-4 mb-0 sm:mb-4 bg-white rounded-t-3xl sm:rounded-3xl shadow-2xl animate-slideUp overflow-hidden",children:[v.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-100",children:[v.jsx("h2",{className:"text-slate-900",children:i}),v.jsx("button",{onClick:r,className:"p-1 rounded-lg hover:bg-slate-100 transition-colors",children:v.jsx(tg,{className:"w-5 h-5 text-slate-500"})})]}),v.jsx("div",{className:"p-6",children:n})]})]}):null;function rv(){const[a,r]=he.useState(null),[n,i]=he.useState(!1),[l,u]=he.useState(null),[d,f]=he.useState(null),[m,g]=he.useState(!0),[_,y]=he.useState(null),[S,x]=he.useState([]),[O,P]=he.useState(!1),[j,A]=he.useState({name:"",time:"",dosage:"",daysNeeded:"",personName:""}),[B,M]=he.useState(null),[G,fe]=he.useState(null),[ne,me]=he.useState(!1),[be,Ie]=he.useState("time"),[We,Et]=he.useState(!0),[Oe,Ee]=he.useState("days"),[je,$e]=he.useState({startDate:"",endDate:""}),[ge,ye]=he.useState(!1),F=he.useRef(!1);he.useEffect(()=>{(async()=>{try{console.log(" Checking if database is set up...");const L=await lt.checkDatabaseSetup();if(console.log(" Database check result:",L),L&&typeof L.isSetup=="boolean")if(L.isSetup)console.log(" Database IS set up - proceeding to app"),r(!0);else{console.log(" Database NOT set up - CREATING TABLES AUTOMATICALLY...");try{console.log(" Auto-creating database tables...");const q=await lt.initializeDatabase();if(console.log(" Create result:",q),q.success){console.log(" SUCCESS! Tables created automatically!"),Me.success(" Database tables created successfully!");const ue=await lt.checkDatabaseSetup();r(ue.isSetup)}else console.error(" Auto-create failed:",q.error),Me.error(" Failed to create tables automatically"),r(!1)}catch(q){console.error(" Error auto-creating tables:",q),Me.error(" Error creating tables"),r(!1)}}else console.error(" Invalid response from checkDatabaseSetup:",L),r(!1)}catch(L){console.error(" Error checking database setup:",L),r(!1)}})()},[]),he.useEffect(()=>{if(a!==!0){console.log(" Skipping session check - database not set up yet");return}console.log(" Checking for existing session..."),te()},[a]);const te=async()=>{try{const{data:{session:R}}=await xr.auth.getSession();R?(console.log(" Found existing session"),f(R),u(R.user)):console.log(" No existing session found")}catch(R){console.error("Error checking session:",R)}finally{g(!1)}};he.useEffect(()=>{"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(R=>{console.log(" Service Worker registered successfully:",R.scope)}).catch(R=>{console.error(" Service Worker registration failed:",R)})})},[]),he.useEffect(()=>{let R=document.querySelector('meta[name="theme-color"]');R||(R=document.createElement("meta"),R.setAttribute("name","theme-color"),document.head.appendChild(R)),R.setAttribute("content","#0f172a");let L=document.querySelector('meta[name="viewport"]');L||(L=document.createElement("meta"),L.setAttribute("name","viewport"),document.head.appendChild(L)),L.setAttribute("content","width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no");let q=document.querySelector('meta[name="apple-mobile-web-app-capable"]');q||(q=document.createElement("meta"),q.setAttribute("name","apple-mobile-web-app-capable"),document.head.appendChild(q)),q.setAttribute("content","yes"),document.title="Pill Timer"},[]),he.useEffect(()=>{if(a!==!0)return;(async()=>{try{console.log(" Checking for existing session...");const{data:{session:q}}=await xr.auth.getSession();f(q),u(q?.user||null),q?(console.log(" User logged in:",q.user.email,"User ID:",q.user.id),await H()):console.log(" No active session found")}catch(q){console.error(" Error initializing auth:",q)}finally{g(!1)}})();const{data:{subscription:L}}=xr.auth.onAuthStateChange((q,ue)=>{console.log(" Auth state changed:",q,ue?.user?.email),f(ue),u(ue?.user||null),ue?(console.log(" User authenticated:",ue.user.id),H(ue.user)):(console.log(" User logged out"),x([]))});return()=>L.unsubscribe()},[a]),he.useEffect(()=>{if(!l||a!==!0)return;const R=xr.channel("medications_channel").on("postgres_changes",{event:"*",schema:"public",table:"medications",filter:`user_id=eq.${l.id}`},q=>{console.log("Medication changed:",q),H()}).subscribe(),L=xr.channel("logs_channel").on("postgres_changes",{event:"*",schema:"public",table:"medication_logs",filter:`user_id=eq.${l.id}`},q=>{console.log("Log changed:",q),H()}).subscribe();return()=>{R.unsubscribe(),L.unsubscribe()}},[l,a]),he.useEffect(()=>{const R=()=>{G&&fe(null),ne&&me(!1)};return document.addEventListener("click",R),()=>document.removeEventListener("click",R)},[G,ne]);const H=async R=>{if(F.current)return;const L=R||l;if(a!==!0){console.log(" Skipping medication load - database not set up yet");return}if(!L){console.log(" Skipping medication load - no user logged in");return}try{F.current=!0,console.log(" Loading medications for user:",L.id),ye(!0);const q=new Date().toISOString().split("T")[0],ue=await lt.getMedications(q);if(console.log(" API Response:",ue),ue.success&&ue.medications){console.log(` Loaded ${ue.medications.length} medications:`,ue.medications),ue.medications.length>0&&console.log(" First medication raw data:",ue.medications[0]);const Re=ue.medications.map(_e=>({id:_e.id,name:_e.name,time:_e.time||_e.scheduled_time,dosage:_e.dosage,taken:_e.taken,personName:_e.person_name,daysNeeded:_e.duration_days,startDate:_e.start_date,endDate:_e.end_date}));console.log(" First mapped medication:",Re[0]),x(Re)}else console.error(" Error loading medications:",ue.error),Me.error("Failed to load medications: "+ue.error)}catch(q){console.error(" Error loading medications:",q),Me.error("Failed to load medications")}finally{F.current=!1,ye(!1)}},E=async(R,L)=>{y(null),g(!0);try{await lt.signIn(R,L),Me.success("Welcome back!")}catch(q){console.error("Login error:",q),y(q.message),Me.error("Login failed")}finally{g(!1)}},I=async(R,L,q)=>{y(null),g(!0);try{await lt.signUp(R,L,q),await lt.signIn(R,L),Me.success("Account created successfully!")}catch(ue){console.error("Signup error:",ue),y(ue.message),Me.error("Signup failed")}finally{g(!1)}},W=async()=>{try{await lt.signOut(),x([]),Me.success("Logged out")}catch(R){console.error("Logout error:",R),Me.error("Logout failed")}},X=async R=>{R.preventDefault();try{let L,q,ue;if(Oe==="days"&&j.daysNeeded)L=parseInt(j.daysNeeded),q=new Date().toISOString(),ue=new Date(new Date().getTime()+L*24*60*60*1e3).toISOString();else if(Oe==="dateRange"&&je.startDate&&je.endDate){const sr=new Date(je.startDate),hr=new Date(je.endDate),fr=Math.abs(hr.getTime()-sr.getTime());L=Math.ceil(fr/(1e3*60*60*24))+1,q=sr.toISOString(),ue=hr.toISOString()}const Re={id:crypto.randomUUID(),name:j.name,time:j.time,dosage:j.dosage,person_name:j.personName,duration_days:L,start_date:q,end_date:ue},{medication:_e}=await lt.addMedication(Re);x([...S,{id:_e.id,name:_e.name,time:_e.time,dosage:_e.dosage,taken:!1,daysNeeded:_e.duration_days,startDate:_e.start_date,endDate:_e.end_date,personName:_e.person_name}]),A({name:"",time:"",dosage:"",daysNeeded:"",personName:""}),$e({startDate:"",endDate:""}),Ee("days"),P(!1),Me.success(" Medication added!")}catch(L){console.error("Error adding medication:",L),Me.error("Failed to add medication")}},se=async R=>{if(R.preventDefault(),!!B)try{let L,q,ue;if(Oe==="days"&&j.daysNeeded)L=parseInt(j.daysNeeded),q=new Date().toISOString(),ue=new Date(new Date().getTime()+L*24*60*60*1e3).toISOString();else if(Oe==="dateRange"&&je.startDate&&je.endDate){const _e=new Date(je.startDate),sr=new Date(je.endDate),hr=Math.abs(sr.getTime()-_e.getTime());L=Math.ceil(hr/(1e3*60*60*24))+1,q=_e.toISOString(),ue=sr.toISOString()}const Re={name:j.name,time:j.time,dosage:j.dosage,person_name:j.personName,duration_days:L,start_date:q,end_date:ue};console.log(" Sending updates to API:",Re),await lt.updateMedication(B.id,Re),x(S.map(_e=>_e.id===B.id?{..._e,name:j.name,time:j.time,dosage:j.dosage,personName:j.personName,daysNeeded:L,startDate:q,endDate:ue}:_e)),A({name:"",time:"",dosage:"",daysNeeded:"",personName:""}),$e({startDate:"",endDate:""}),Ee("days"),M(null),Me.success(" Medication updated!")}catch(L){console.error(" Error updating medication:",L),Me.error(`Failed to update: ${L.message||"Unknown error"}`)}},ce=R=>{if(M(R),A({name:R.name,time:R.time,dosage:R.dosage||"",daysNeeded:R.daysNeeded?R.daysNeeded.toString():"",personName:R.personName||""}),R.startDate&&R.endDate){const L=new Date(R.startDate).toISOString().split("T")[0],q=new Date(R.endDate).toISOString().split("T")[0];$e({startDate:L,endDate:q}),Ee("dateRange")}},we=()=>{P(!1),M(null),A({name:"",time:"",dosage:"",daysNeeded:"",personName:""}),$e({startDate:"",endDate:""}),Ee("days")},ie=async R=>{const L=S.find(q=>q.id===R);if(L)try{if(console.log(` Toggling taken status for: ${L.name} (ID: ${R})`),L.taken){console.log(" Unmarking as taken...");const q=await lt.unmarkAsTaken(R);console.log(" Unmark result:",q),x(S.map(ue=>ue.id===R?{...ue,taken:!1}:ue)),Me.success(`${L.name} unmarked`)}else{console.log(" Marking as taken...",{medicationId:R,scheduledTime:L.time,markedBy:l?.user_metadata?.name||L.personName});const q=await lt.markAsTaken(R,L.time,l?.user_metadata?.name||L.personName);console.log(" Mark as taken result:",q),x(S.map(ue=>ue.id===R?{...ue,taken:!0}:ue)),Me.success(` ${L.name} marked as taken!`)}}catch(q){console.error(" Error toggling taken status:",q),Me.error(`Failed to update status: ${q.message||"Unknown error"}`)}},Se=async R=>{try{await lt.deleteMedication(R),x(S.filter(L=>L.id!==R)),Me.success(" Medication deleted")}catch(L){console.error("Error deleting medication:",L),Me.error("Failed to delete medication")}},qe=async R=>{try{const L={id:crypto.randomUUID(),name:R.name+" (Copy)",time:R.time,dosage:R.dosage,person_name:R.personName,duration_days:R.daysNeeded,start_date:R.daysNeeded?new Date().toISOString():R.startDate,end_date:R.daysNeeded?new Date(new Date().getTime()+R.daysNeeded*24*60*60*1e3).toISOString():R.endDate},{medication:q}=await lt.addMedication(L);x([...S,{id:q.id,name:q.name,time:q.time,dosage:q.dosage,taken:!1,daysNeeded:q.duration_days,startDate:q.start_date,endDate:q.end_date,personName:q.person_name}]),Me.success(" Medication duplicated!")}catch(L){console.error("Error duplicating medication:",L),Me.error("Failed to duplicate medication")}},Dt=he.useMemo(()=>{const R=new Date;return R.setHours(0,0,0,0),R},[]),$t=he.useMemo(()=>{const R=new Date;return R.setHours(0,0,0,0),R.setDate(R.getDate()+1),R},[]),{takenCount:Kt,totalCount:jt,progress:En}=he.useMemo(()=>{const R=S.filter(q=>q.taken).length,L=S.length;return{takenCount:R,totalCount:L,progress:L>0?R/L*100:0}},[S]),Er=he.useMemo(()=>_h(S,Dt,We,be),[S,We,be,Dt]),Lt=he.useMemo(()=>_h(S,$t,We,be),[S,We,be,$t]);return m||a===null?v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"inline-block w-12 h-12 border-4 border-slate-900 border-t-transparent rounded-full animate-spin mb-4"}),v.jsx("p",{className:"text-slate-600",children:"Loading..."})]})}):a===!1?v.jsxs(v.Fragment,{children:[v.jsx(Xy,{onComplete:async()=>{const R=await lt.checkDatabaseSetup();r(R.isSetup),R.isSetup&&(Me.success(" Database is ready!"),window.location.reload())}}),v.jsx(vl,{position:"top-center",richColors:!0})]}):l?v.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 pb-24",children:[v.jsx(vl,{position:"top-center",richColors:!0}),v.jsx("header",{className:"bg-white border-b border-slate-200 sticky top-0 z-40",children:v.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"p-2.5 bg-slate-900 rounded-xl",children:v.jsx(Nl,{className:"w-6 h-6 text-white"})}),v.jsxs("div",{children:[v.jsx("h1",{className:"text-slate-900",children:"Pill Timer"}),v.jsx("p",{className:"text-slate-600",children:"Family Medication Tracker"})]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[l?.user_metadata?.name&&v.jsxs("div",{className:"hidden sm:flex items-center gap-2 px-3 py-2 bg-slate-100 rounded-lg",children:[v.jsx(Zm,{className:"w-4 h-4 text-slate-600"}),v.jsx("span",{className:"text-slate-700",children:l.user_metadata.name})]}),v.jsx("button",{onClick:W,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",title:"Logout",children:v.jsx(Vm,{className:"w-5 h-5 text-slate-600"})})]})]})})}),v.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-6",children:[v.jsxs("div",{className:"mb-6",children:[v.jsxs("h2",{className:"text-slate-900 mb-4",children:[Zy(),"!"]}),v.jsxs(ts,{className:"p-5 border border-slate-200",children:[v.jsxs("div",{className:"flex items-center justify-between mb-3",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(Tm,{className:"w-5 h-5 text-slate-700"}),v.jsx("span",{className:"text-slate-900",children:"Today's Progress"})]}),v.jsxs("span",{className:"text-slate-700",children:[Kt,"/",jt]})]}),v.jsx("div",{className:"w-full h-3 bg-slate-100 rounded-full overflow-hidden",children:v.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-blue-600 transition-all duration-500 rounded-full",style:{width:`${En}%`}})}),v.jsx("p",{className:"text-slate-500 mt-2",children:Kt===jt&&jt>0?" All medications taken!":`${jt-Kt} medication${jt-Kt!==1?"s":""} remaining`})]})]}),v.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[v.jsx("span",{className:"text-slate-500",children:"Medications Schedule"}),v.jsx("div",{className:"flex-1"}),v.jsxs("div",{className:"relative",children:[v.jsxs("button",{onClick:R=>{R.stopPropagation(),me(!ne)},className:"flex items-center gap-2 px-4 py-2 bg-white rounded-xl border border-slate-200 hover:bg-slate-50 transition-colors font-[Poppins]",children:[v.jsx(Jm,{className:"w-4 h-4 text-slate-600"}),v.jsx("span",{className:"text-slate-700",children:"Sort & Filter"})]}),ne&&v.jsxs("div",{className:"absolute top-full right-0 mt-2 w-64 bg-white rounded-xl shadow-lg border border-slate-200 p-4 z-10",children:[v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-slate-700 mb-2",children:"Sort By"}),v.jsx("div",{className:"space-y-2",children:["time","name","status"].map(R=>v.jsx("button",{onClick:()=>Ie(R),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${be===R?"bg-slate-900 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:R==="time"?"Time":R==="name"?"Name":"Status"},R))})]}),v.jsx("div",{className:"pt-4 border-t border-slate-200",children:v.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[v.jsx("input",{type:"checkbox",checked:We,onChange:R=>Et(R.target.checked),className:"w-4 h-4 rounded border-slate-300"}),v.jsx("span",{className:"text-slate-700",children:"Show completed"})]})})]})]})]}),ge?v.jsxs("div",{className:"text-center py-12",children:[v.jsx("div",{className:"inline-block w-8 h-8 border-4 border-slate-900 border-t-transparent rounded-full animate-spin mb-3"}),v.jsx("p",{className:"text-slate-600",children:"Loading medications..."})]}):S.length===0?v.jsxs(ts,{className:"p-12 text-center border border-slate-200",children:[v.jsx(Nl,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),v.jsx("p",{className:"text-slate-600 mb-2",children:"No medications yet"}),v.jsx("p",{className:"text-slate-500 mb-6",children:"Add your first medication to get started"}),v.jsxs(Cl,{onClick:()=>P(!0),children:[v.jsx(zd,{className:"w-5 h-5 mr-2"}),"Add Medication"]})]}):v.jsxs("div",{className:"space-y-8",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-slate-900 mb-3",children:"Today's Schedule"}),Er.length===0?v.jsx(ts,{className:"p-6 text-center border border-slate-200",children:v.jsx("p",{className:"text-slate-500",children:"No medications scheduled for today"})}):v.jsx("div",{className:"space-y-3",children:Er.map(R=>{const L=wh(R);return v.jsx(ts,{className:"p-4 border border-slate-200",children:v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx("button",{onClick:()=>ie(R.id),className:`flex-shrink-0 w-6 h-6 rounded-lg border-2 transition-all ${R.taken?"bg-green-500 border-green-500":"border-slate-300 hover:border-slate-400"}`,children:R.taken&&v.jsx(Nm,{className:"w-5 h-5 text-white"})}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("h3",{className:`text-slate-900 ${R.taken?"line-through opacity-50":""}`,children:R.personName?`${R.personName}'s ${R.name}`:R.name}),R.dosage&&v.jsx("p",{className:"text-slate-500",children:R.dosage})]}),v.jsxs("div",{className:"relative",children:[v.jsx("button",{onClick:q=>{q.stopPropagation(),fe(G===R.id?null:R.id)},className:"p-1 hover:bg-slate-100 rounded-lg transition-colors",children:v.jsx(Lm,{className:"w-5 h-5 text-slate-500"})}),G===R.id&&v.jsxs("div",{className:"absolute right-0 top-full mt-1 w-48 bg-white rounded-xl shadow-lg border border-slate-200 py-1 z-10",children:[v.jsxs("button",{onClick:()=>{ce(R),fe(null)},className:"w-full text-left px-4 py-2 hover:bg-slate-50 flex items-center gap-2",children:[v.jsx(Wm,{className:"w-4 h-4 text-slate-600"}),v.jsx("span",{className:"text-slate-700",children:"Edit"})]}),v.jsxs("button",{onClick:()=>{qe(R),fe(null)},className:"w-full text-left px-4 py-2 hover:bg-slate-50 flex items-center gap-2",children:[v.jsx(Am,{className:"w-4 h-4 text-slate-600"}),v.jsx("span",{className:"text-slate-700",children:"Duplicate"})]}),v.jsxs("button",{onClick:()=>{confirm(`Delete ${R.name}?`)&&Se(R.id),fe(null)},className:"w-full text-left px-4 py-2 hover:bg-red-50 flex items-center gap-2",children:[v.jsx(Ym,{className:"w-4 h-4 text-red-600"}),v.jsx("span",{className:"text-red-600",children:"Delete"})]})]})]})]}),v.jsx("div",{className:"flex items-center gap-4 text-slate-500",children:v.jsxs("span",{className:"flex items-center gap-1",children:[" ",vh(R.time)]})}),L&&v.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-100",children:[v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsx("span",{className:"text-slate-600",children:L.isComplete?"Treatment Complete":`${L.daysRemaining} day${L.daysRemaining!==1?"s":""} remaining`}),v.jsxs("span",{className:"text-slate-400",children:[L.daysElapsed,"/",L.daysNeeded," days"]})]}),v.jsx("div",{className:"w-full h-1.5 bg-slate-100 rounded-full overflow-hidden",children:v.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${L.isComplete?"bg-gradient-to-r from-green-500 to-green-600":"bg-gradient-to-r from-blue-500 to-blue-600"}`,style:{width:`${L.progress}%`}})})]})]})]})},R.id)})})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-slate-900 mb-3",children:"Tomorrow's Schedule"}),Lt.length===0?v.jsx(ts,{className:"p-6 text-center border border-slate-200",children:v.jsx("p",{className:"text-slate-500",children:"No medications scheduled for tomorrow"})}):v.jsx("div",{className:"space-y-3",children:Lt.map(R=>{const L=wh(R);return v.jsx(ts,{className:"p-4 border border-slate-200 opacity-75",children:v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-lg border-2 border-slate-200 bg-slate-50"}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("div",{className:"flex items-start justify-between gap-2 mb-1",children:v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("h3",{className:"text-slate-700",children:R.personName?`${R.personName}'s ${R.name}`:R.name}),R.dosage&&v.jsx("p",{className:"text-slate-400",children:R.dosage})]})}),v.jsx("div",{className:"flex items-center gap-4 text-slate-400",children:v.jsxs("span",{className:"flex items-center gap-1",children:[" ",vh(R.time)]})}),L&&v.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-100",children:[v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsx("span",{className:"text-slate-500",children:L.isComplete?"Treatment Complete":`${L.daysRemaining} day${L.daysRemaining!==1?"s":""} remaining`}),v.jsxs("span",{className:"text-slate-400",children:[L.daysElapsed,"/",L.daysNeeded," days"]})]}),v.jsx("div",{className:"w-full h-1.5 bg-slate-100 rounded-full overflow-hidden",children:v.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${L.isComplete?"bg-gradient-to-r from-green-500 to-green-600":"bg-gradient-to-r from-blue-500 to-blue-600"}`,style:{width:`${L.progress}%`}})})]})]})]})},R.id)})})]})]})]}),S.length>0&&v.jsx("button",{onClick:()=>P(!0),className:"fixed bottom-8 right-8 p-4 bg-slate-900 text-white rounded-2xl shadow-2xl hover:bg-slate-800 active:scale-95 transition-all duration-200 hover:shadow-3xl",children:v.jsx(zd,{className:"w-6 h-6"})}),v.jsx(tv,{isOpen:O||B!==null,onClose:we,title:B?"Edit Medication":"Add Medication",children:v.jsxs("form",{onSubmit:B?se:X,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-slate-700 mb-2",children:"Medication Name"}),v.jsx(wn,{type:"text",placeholder:"e.g., Aspirin",value:j.name,onChange:R=>A({...j,name:R.target.value}),required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-slate-700 mb-2",children:"Person Name (Optional)"}),v.jsx(wn,{type:"text",placeholder:"e.g., John, Sarah, Mom",value:j.personName,onChange:R=>A({...j,personName:R.target.value})}),v.jsx("p",{className:"text-slate-500 mt-1",children:"Track which family member this medication is for"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-slate-700 mb-2",children:"Time"}),v.jsx(wn,{type:"time",value:j.time,onChange:R=>A({...j,time:R.target.value}),required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-slate-700 mb-2",children:"Dosage (Optional)"}),v.jsx(wn,{type:"text",placeholder:"e.g., 500mg",value:j.dosage,onChange:R=>A({...j,dosage:R.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-slate-700 mb-2",children:"Duration (Optional)"}),v.jsxs("div",{className:"flex gap-2 mb-3",children:[v.jsx("button",{type:"button",onClick:()=>Ee("days"),className:`flex-1 px-4 py-2.5 rounded-xl transition-all ${Oe==="days"?"bg-slate-900 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"Days"}),v.jsx("button",{type:"button",onClick:()=>Ee("dateRange"),className:`flex-1 px-4 py-2.5 rounded-xl transition-all ${Oe==="dateRange"?"bg-slate-900 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"Date Range"})]}),Oe==="days"&&v.jsx(wn,{type:"number",placeholder:"e.g., 30",value:j.daysNeeded,onChange:R=>A({...j,daysNeeded:R.target.value})}),Oe==="dateRange"&&v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-slate-600 mb-1.5",children:"Start Date"}),v.jsx(wn,{type:"date",value:je.startDate,onChange:R=>$e({...je,startDate:R.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-slate-600 mb-1.5",children:"End Date"}),v.jsx(wn,{type:"date",value:je.endDate,onChange:R=>$e({...je,endDate:R.target.value})})]})]})]}),v.jsxs("div",{className:"flex gap-3 pt-2",children:[v.jsx(Cl,{type:"button",variant:"secondary",className:"flex-1",onClick:we,children:"Cancel"}),v.jsx(Cl,{type:"submit",variant:"primary",className:"flex-1",children:B?"Save Changes":"Add Medication"})]})]})}),v.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        
        @keyframes slideUp {
          from {
            transform: translateY(100%);
            opacity: 0;
          }
          to {
            transform: translateY(0);
            opacity: 1;
          }
        }
        
        .animate-fadeIn {
          animation: fadeIn 0.2s ease-out;
        }
        
        .animate-slideUp {
          animation: slideUp 0.3s ease-out;
        }
      `})]}):v.jsxs(v.Fragment,{children:[v.jsx(Yy,{onLogin:E,onSignUp:I,error:_||void 0,loading:m}),v.jsx(vl,{position:"top-center",richColors:!0})]})}bm.createRoot(document.getElementById("root")).render(v.jsx(V.StrictMode,{children:v.jsx(rv,{})}));
